!function(e){var t=window.webpackHotUpdate;window.webpackHotUpdate=function(e,r){!function(e,t){if(!x[e]||!y[e])return;for(var r in y[e]=!1,t)Object.prototype.hasOwnProperty.call(t,r)&&(f[r]=t[r]);0==--b&&0===v&&w()}(e,r),t&&t(e,r)};var r,o=!0,n="0d9ae60387f97f2073ad",s=1e4,i={},a=[],c=[];function u(e){var t=E[e];if(!t)return C;var o=function(o){return t.hot.active?(E[o]?-1===E[o].parents.indexOf(e)&&E[o].parents.push(e):(a=[e],r=o),-1===t.children.indexOf(o)&&t.children.push(o)):(console.warn("[HMR] unexpected require("+o+") from disposed module "+e),a=[]),C(o)},n=function(e){return{configurable:!0,enumerable:!0,get:function(){return C[e]},set:function(t){C[e]=t}}};for(var s in C)Object.prototype.hasOwnProperty.call(C,s)&&"e"!==s&&Object.defineProperty(o,s,n(s));return o.e=function(e){return"ready"===d&&p("prepare"),v++,C.e(e).then(t,function(e){throw t(),e});function t(){v--,"prepare"===d&&(j[e]||S(e),0===v&&0===b&&w())}},o}var l=[],d="idle";function p(e){d=e;for(var t=0;t<l.length;t++)l[t].call(null,e)}var h,f,m,b=0,v=0,j={},y={},x={};function g(e){return+e+""===e?+e:e}function _(e){if("idle"!==d)throw new Error("check() is only allowed in idle status");return o=e,p("check"),(t=s,t=t||1e4,new Promise(function(e,r){if("undefined"==typeof XMLHttpRequest)return r(new Error("No browser support"));try{var o=new XMLHttpRequest,s=C.p+""+n+".hot-update.json";o.open("GET",s,!0),o.timeout=t,o.send(null)}catch(e){return r(e)}o.onreadystatechange=function(){if(4===o.readyState)if(0===o.status)r(new Error("Manifest request to "+s+" timed out."));else if(404===o.status)e();else if(200!==o.status&&304!==o.status)r(new Error("Manifest request to "+s+" failed."));else{try{var t=JSON.parse(o.responseText)}catch(e){return void r(e)}e(t)}}})).then(function(e){if(!e)return p("idle"),null;y={},j={},x=e.c,m=e.h,p("prepare");var t=new Promise(function(e,t){h={resolve:e,reject:t}});f={};return S(0),"prepare"===d&&0===v&&0===b&&w(),t});var t}function S(e){x[e]?(y[e]=!0,b++,function(e){var t=document.getElementsByTagName("head")[0],r=document.createElement("script");r.charset="utf-8",r.src=C.p+""+e+"."+n+".hot-update.js",t.appendChild(r)}(e)):j[e]=!0}function w(){p("ready");var e=h;if(h=null,e)if(o)Promise.resolve().then(function(){return O(o)}).then(function(t){e.resolve(t)},function(t){e.reject(t)});else{var t=[];for(var r in f)Object.prototype.hasOwnProperty.call(f,r)&&t.push(g(r));e.resolve(t)}}function O(t){if("ready"!==d)throw new Error("apply() is only allowed in ready status");var r,o,s,c,u;function l(e){for(var t=[e],r={},o=t.slice().map(function(e){return{chain:[e],id:e}});o.length>0;){var n=o.pop(),s=n.id,i=n.chain;if((c=E[s])&&!c.hot._selfAccepted){if(c.hot._selfDeclined)return{type:"self-declined",chain:i,moduleId:s};if(c.hot._main)return{type:"unaccepted",chain:i,moduleId:s};for(var a=0;a<c.parents.length;a++){var u=c.parents[a],l=E[u];if(l){if(l.hot._declinedDependencies[s])return{type:"declined",chain:i.concat([u]),moduleId:s,parentId:u};-1===t.indexOf(u)&&(l.hot._acceptedDependencies[s]?(r[u]||(r[u]=[]),h(r[u],[s])):(delete r[u],t.push(u),o.push({chain:i.concat([u]),id:u})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:r}}function h(e,t){for(var r=0;r<t.length;r++){var o=t[r];-1===e.indexOf(o)&&e.push(o)}}t=t||{};var b={},v=[],j={},y=function(){console.warn("[HMR] unexpected require("+S.moduleId+") to disposed module")};for(var _ in f)if(Object.prototype.hasOwnProperty.call(f,_)){var S;u=g(_);var w=!1,O=!1,T=!1,I="";switch((S=f[_]?l(u):{type:"disposed",moduleId:_}).chain&&(I="\nUpdate propagation: "+S.chain.join(" -> ")),S.type){case"self-declined":t.onDeclined&&t.onDeclined(S),t.ignoreDeclined||(w=new Error("Aborted because of self decline: "+S.moduleId+I));break;case"declined":t.onDeclined&&t.onDeclined(S),t.ignoreDeclined||(w=new Error("Aborted because of declined dependency: "+S.moduleId+" in "+S.parentId+I));break;case"unaccepted":t.onUnaccepted&&t.onUnaccepted(S),t.ignoreUnaccepted||(w=new Error("Aborted because "+u+" is not accepted"+I));break;case"accepted":t.onAccepted&&t.onAccepted(S),O=!0;break;case"disposed":t.onDisposed&&t.onDisposed(S),T=!0;break;default:throw new Error("Unexception type "+S.type)}if(w)return p("abort"),Promise.reject(w);if(O)for(u in j[u]=f[u],h(v,S.outdatedModules),S.outdatedDependencies)Object.prototype.hasOwnProperty.call(S.outdatedDependencies,u)&&(b[u]||(b[u]=[]),h(b[u],S.outdatedDependencies[u]));T&&(h(v,[S.moduleId]),j[u]=y)}var k,A=[];for(o=0;o<v.length;o++)u=v[o],E[u]&&E[u].hot._selfAccepted&&A.push({module:u,errorHandler:E[u].hot._selfAccepted});p("dispose"),Object.keys(x).forEach(function(e){!1===x[e]&&function(e){delete installedChunks[e]}(e)});for(var R,N,P=v.slice();P.length>0;)if(u=P.pop(),c=E[u]){var D={},M=c.hot._disposeHandlers;for(s=0;s<M.length;s++)(r=M[s])(D);for(i[u]=D,c.hot.active=!1,delete E[u],delete b[u],s=0;s<c.children.length;s++){var F=E[c.children[s]];F&&((k=F.parents.indexOf(u))>=0&&F.parents.splice(k,1))}}for(u in b)if(Object.prototype.hasOwnProperty.call(b,u)&&(c=E[u]))for(N=b[u],s=0;s<N.length;s++)R=N[s],(k=c.children.indexOf(R))>=0&&c.children.splice(k,1);for(u in p("apply"),n=m,j)Object.prototype.hasOwnProperty.call(j,u)&&(e[u]=j[u]);var L=null;for(u in b)if(Object.prototype.hasOwnProperty.call(b,u)&&(c=E[u])){N=b[u];var B=[];for(o=0;o<N.length;o++)if(R=N[o],r=c.hot._acceptedDependencies[R]){if(-1!==B.indexOf(r))continue;B.push(r)}for(o=0;o<B.length;o++){r=B[o];try{r(N)}catch(e){t.onErrored&&t.onErrored({type:"accept-errored",moduleId:u,dependencyId:N[o],error:e}),t.ignoreErrored||L||(L=e)}}}for(o=0;o<A.length;o++){var V=A[o];u=V.module,a=[u];try{C(u)}catch(e){if("function"==typeof V.errorHandler)try{V.errorHandler(e)}catch(r){t.onErrored&&t.onErrored({type:"self-accept-error-handler-errored",moduleId:u,error:r,originalError:e}),t.ignoreErrored||L||(L=r),L||(L=e)}else t.onErrored&&t.onErrored({type:"self-accept-errored",moduleId:u,error:e}),t.ignoreErrored||L||(L=e)}}return L?(p("fail"),Promise.reject(L)):(p("idle"),new Promise(function(e){e(v)}))}var E={};function C(t){if(E[t])return E[t].exports;var o=E[t]={i:t,l:!1,exports:{},hot:function(e){var t={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:r!==e,active:!0,accept:function(e,r){if(void 0===e)t._selfAccepted=!0;else if("function"==typeof e)t._selfAccepted=e;else if("object"==typeof e)for(var o=0;o<e.length;o++)t._acceptedDependencies[e[o]]=r||function(){};else t._acceptedDependencies[e]=r||function(){}},decline:function(e){if(void 0===e)t._selfDeclined=!0;else if("object"==typeof e)for(var r=0;r<e.length;r++)t._declinedDependencies[e[r]]=!0;else t._declinedDependencies[e]=!0},dispose:function(e){t._disposeHandlers.push(e)},addDisposeHandler:function(e){t._disposeHandlers.push(e)},removeDisposeHandler:function(e){var r=t._disposeHandlers.indexOf(e);r>=0&&t._disposeHandlers.splice(r,1)},check:_,apply:O,status:function(e){if(!e)return d;l.push(e)},addStatusHandler:function(e){l.push(e)},removeStatusHandler:function(e){var t=l.indexOf(e);t>=0&&l.splice(t,1)},data:i[e]};return r=void 0,t}(t),parents:(c=a,a=[],c),children:[]};return e[t].call(o.exports,o,o.exports,u(t)),o.l=!0,o.exports}C.m=e,C.c=E,C.d=function(e,t,r){C.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},C.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},C.t=function(e,t){if(1&t&&(e=C(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(C.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)C.d(r,o,function(t){return e[t]}.bind(null,o));return r},C.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return C.d(t,"a",t),t},C.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},C.p="http://localhost:3000/",C.h=function(){return n},u("./src/index.tsx")(C.s="./src/index.tsx")}({"../../../node_modules/@fuselab/ui-fabric/lib/index.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/@fuselab/ui-fabric/lib/index.js")},"../../../node_modules/@fuselab/ui-fabric/lib/themes/index.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/@fuselab/ui-fabric/lib/themes/index.js")},"../../../node_modules/@fuselab/ui-shared/lib/index.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/@fuselab/ui-shared/lib/index.js")},"../../../node_modules/@fuselab/ui-shared/lib/path.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/@fuselab/ui-shared/lib/path.js")},"../../../node_modules/@uifabric/merge-styles/lib/index.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/@uifabric/merge-styles/lib/index.js")},"../../../node_modules/base64url/index.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/base64url/index.js")},"../../../node_modules/botframework-directlinejs/built/directLine.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/botframework-directlinejs/built/directLine.js")},"../../../node_modules/botframework-webchat/CognitiveServices.js":function(e,t,r){e.exports=function(e){function t(o){if(r[o])return r[o].exports;var n=r[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var r={};return t.m=e,t.c=r,t.i=function(e){return e},t.d=function(e,r,o){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=59)}([function(e,t,r){"use strict";function o(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),o(r(32)),o(r(33)),o(r(10)),o(r(34)),o(r(1)),o(r(35)),o(r(11)),o(r(2)),o(r(36)),o(r(37)),o(r(38)),o(r(39)),o(r(40)),o(r(41)),o(r(42)),o(r(12)),o(r(43)),o(r(44)),o(r(13)),o(r(5)),o(r(14)),o(r(15)),o(r(45)),o(r(46)),o(r(47)),o(r(48))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(3),n=function(e){function t(t){var r=e.call(this,t)||this;return r.name="ArgumentNull",r.message=t,r}return o.__extends(t,e),t}(Error);t.ArgumentNullError=n;var s=function(e){function t(t){var r=e.call(this,t)||this;return r.name="InvalidOperation",r.message=t,r}return o.__extends(t,e),t}(Error);t.InvalidOperationError=s;var i=function(e){function t(t,r){var o=e.call(this,r)||this;return o.name=t+"ObjectDisposed",o.message=r,o}return o.__extends(t,e),t}(Error);t.ObjectDisposedError=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var r=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?r:3&r|8).toString(16)})};t.CreateGuid=o,t.CreateNoDashGuid=function(){return o().replace(new RegExp("-","g"),"").toUpperCase()}},function(e,t,r){"use strict";function o(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}}function n(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var o,n,s=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(o=s.next()).done;)i.push(o.value)}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return i}function s(e){return this instanceof s?(this.v=e,this):new s(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.__extends=function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},r.d(t,"__assign",function(){return a}),t.__rest=function(e,t){var r={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,o=Object.getOwnPropertySymbols(e);n<o.length;n++)t.indexOf(o[n])<0&&(r[o[n]]=e[o[n]]);return r},t.__decorate=function(e,t,r,o){var n,s=arguments.length,i=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,o);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(i=(s<3?n(i):s>3?n(t,r,i):n(t,r))||i);return s>3&&i&&Object.defineProperty(t,r,i),i},t.__param=function(e,t){return function(r,o){t(r,o,e)}},t.__metadata=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},t.__awaiter=function(e,t,r,o){return new(r||(r=Promise))(function(n,s){function i(e){try{c(o.next(e))}catch(e){s(e)}}function a(e){try{c(o.throw(e))}catch(e){s(e)}}function c(e){e.done?n(e.value):new r(function(t){t(e.value)}).then(i,a)}c((o=o.apply(e,t||[])).next())})},t.__generator=function(e,t){function r(e){return function(t){return o([e,t])}}function o(r){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,s&&(i=s[2&r[0]?"return":r[0]?"throw":"next"])&&!(i=i.call(s,r[1])).done)return i;switch(s=0,i&&(r=[0,i.value]),r[0]){case 0:case 1:i=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,s=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(!(i=(i=c.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){c.label=r[1];break}if(6===r[0]&&c.label<i[1]){c.label=i[1],i=r;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(r);break}i[2]&&c.ops.pop(),c.trys.pop();continue}r=t.call(e,c)}catch(e){r=[6,e],s=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var n,s,i,a,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a},t.__exportStar=function(e,t){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])},t.__values=o,t.__read=n,t.__spread=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(n(arguments[t]));return e},t.__await=s,t.__asyncGenerator=function(e,t,r){function o(e){l[e]&&(u[e]=function(t){return new Promise(function(r,o){d.push([e,t,r,o])>1||n(e,t)})})}function n(e,t){try{!function(e){e.value instanceof s?Promise.resolve(e.value.v).then(i,a):c(d[0][2],e)}(l[e](t))}catch(e){c(d[0][3],e)}}function i(e){n("next",e)}function a(e){n("throw",e)}function c(e,t){e(t),d.shift(),d.length&&n(d[0][0],d[0][1])}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var u,l=r.apply(e,t||[]),d=[];return u={},o("next"),o("throw"),o("return"),u[Symbol.asyncIterator]=function(){return this},u},t.__asyncDelegator=function(e){function t(t,n){e[t]&&(r[t]=function(r){return(o=!o)?{value:s(e[t](r)),done:"return"===t}:n?n(r):r})}var r,o;return r={},t("next"),t("throw",function(e){throw e}),t("return"),r[Symbol.iterator]=function(){return this},r},t.__asyncValues=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator];return t?t.call(e):o(e)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},a=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}},function(e,t,r){"use strict";function o(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),o(r(22)),o(r(24)),o(r(25)),o(r(26)),o(r(23)),o(r(27)),o(r(28)),o(r(29)),o(r(30)),o(r(31)),o(r(9))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(2);!function(e){e[e.Debug=0]="Debug",e[e.Info=1]="Info",e[e.Warning=2]="Warning",e[e.Error=3]="Error"}(t.EventType||(t.EventType={}));var n=function(){function e(e,t){this.name=e,this.eventId=o.CreateNoDashGuid(),this.eventTime=(new Date).toISOString(),this.eventType=t,this.metadata={}}return Object.defineProperty(e.prototype,"Name",{get:function(){return this.name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"EventId",{get:function(){return this.eventId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"EventTime",{get:function(){return this.eventTime},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"EventType",{get:function(){return this.eventType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Metadata",{get:function(){return this.metadata},enumerable:!0,configurable:!0}),e}();t.PlatformEvent=n},function(e,t,r){"use strict";function o(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),o(r(51)),o(r(52)),o(r(7)),o(r(53)),o(r(8)),o(r(54)),o(r(17)),o(r(57)),o(r(58))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){this.headerName=e,this.token=t}return Object.defineProperty(e.prototype,"HeaderName",{get:function(){return this.headerName},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Token",{get:function(){return this.token},enumerable:!0,configurable:!0}),e}();t.AuthInfo=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(3),n=r(0),s=function(e){function t(t,r,o){void 0===o&&(o=n.EventType.Info);var s=e.call(this,t,o)||this;return s.requestId=r,s}return o.__extends(t,e),Object.defineProperty(t.prototype,"RequestId",{get:function(){return this.requestId},enumerable:!0,configurable:!0}),t}(n.PlatformEvent);t.SpeechRecognitionEvent=s;var i=function(e){function t(t,r,o){var n=e.call(this,t,r)||this;return n.result=o,n}return o.__extends(t,e),Object.defineProperty(t.prototype,"Result",{get:function(){return this.result},enumerable:!0,configurable:!0}),t}(s);t.SpeechRecognitionResultEvent=i;var a=function(e){function t(t,r,o){var n=e.call(this,"RecognitionTriggeredEvent",t)||this;return n.audioSourceId=r,n.audioNodeId=o,n}return o.__extends(t,e),Object.defineProperty(t.prototype,"AudioSourceId",{get:function(){return this.audioSourceId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"AudioNodeId",{get:function(){return this.audioNodeId},enumerable:!0,configurable:!0}),t}(s);t.RecognitionTriggeredEvent=a;var c=function(e){function t(t,r,o){var n=e.call(this,"ListeningStartedEvent",t)||this;return n.audioSourceId=r,n.audioNodeId=o,n}return o.__extends(t,e),Object.defineProperty(t.prototype,"AudioSourceId",{get:function(){return this.audioSourceId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"AudioNodeId",{get:function(){return this.audioNodeId},enumerable:!0,configurable:!0}),t}(s);t.ListeningStartedEvent=c;var u=function(e){function t(t,r,o){var n=e.call(this,"ConnectingToServiceEvent",t)||this;return n.authFetchEventid=r,n.connectionId=o,n}return o.__extends(t,e),Object.defineProperty(t.prototype,"AuthFetchEventid",{get:function(){return this.authFetchEventid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ConnectionId",{get:function(){return this.connectionId},enumerable:!0,configurable:!0}),t}(s);t.ConnectingToServiceEvent=u;var l=function(e){function t(t,r,o,n,s){var i=e.call(this,"RecognitionStartedEvent",t)||this;return i.audioSourceId=r,i.audioNodeId=o,i.authFetchEventId=n,i.connectionId=s,i}return o.__extends(t,e),Object.defineProperty(t.prototype,"AudioSourceId",{get:function(){return this.audioSourceId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"AudioNodeId",{get:function(){return this.audioNodeId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"AuthFetchEventId",{get:function(){return this.authFetchEventId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ConnectionId",{get:function(){return this.connectionId},enumerable:!0,configurable:!0}),t}(s);t.RecognitionStartedEvent=l;var d=function(e){function t(t,r){return e.call(this,"SpeechStartDetectedEvent",t,r)||this}return o.__extends(t,e),t}(i);t.SpeechStartDetectedEvent=d;var p=function(e){function t(t,r){return e.call(this,"SpeechHypothesisEvent",t,r)||this}return o.__extends(t,e),t}(i);t.SpeechHypothesisEvent=p;var h=function(e){function t(t,r){return e.call(this,"SpeechFragmentEvent",t,r)||this}return o.__extends(t,e),t}(i);t.SpeechFragmentEvent=h;var f=function(e){function t(t,r){return e.call(this,"SpeechEndDetectedEvent",t,r)||this}return o.__extends(t,e),t}(i);t.SpeechEndDetectedEvent=f;var m=function(e){function t(t,r){return e.call(this,"SpeechSimplePhraseEvent",t,r)||this}return o.__extends(t,e),t}(i);t.SpeechSimplePhraseEvent=m;var b,v=function(e){function t(t,r){return e.call(this,"SpeechDetailedPhraseEvent",t,r)||this}return o.__extends(t,e),t}(i);t.SpeechDetailedPhraseEvent=v,function(e){e[e.Success=0]="Success",e[e.AudioSourceError=1]="AudioSourceError",e[e.AudioSourceTimeout=2]="AudioSourceTimeout",e[e.AuthTokenFetchError=3]="AuthTokenFetchError",e[e.AuthTokenFetchTimeout=4]="AuthTokenFetchTimeout",e[e.UnAuthorized=5]="UnAuthorized",e[e.ConnectTimeout=6]="ConnectTimeout",e[e.ConnectError=7]="ConnectError",e[e.ClientRecognitionActivityTimeout=8]="ClientRecognitionActivityTimeout",e[e.UnknownError=9]="UnknownError"}(b=t.RecognitionCompletionStatus||(t.RecognitionCompletionStatus={}));var j=function(e){function t(t,r,o,s,i,a,c,u){var l=e.call(this,"RecognitionEndedEvent",t,c===b.Success?n.EventType.Info:n.EventType.Error)||this;return l.audioSourceId=r,l.audioNodeId=o,l.connectionId=i,l.authFetchEventId=s,l.status=c,l.error=u,l.serviceTag=a,l}return o.__extends(t,e),Object.defineProperty(t.prototype,"AudioSourceId",{get:function(){return this.audioSourceId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"AudioNodeId",{get:function(){return this.audioNodeId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"AuthFetchEventId",{get:function(){return this.authFetchEventId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ConnectionId",{get:function(){return this.connectionId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ServiceTag",{get:function(){return this.serviceTag},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Status",{get:function(){return this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Error",{get:function(){return this.error},enumerable:!0,configurable:!0}),t}(s);t.RecognitionEndedEvent=j},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),n=function(){function e(e,t,r){var n=this;if(this.Open=function(){return n.connectionState===o.ConnectionState.Disconnected?o.PromiseHelper.FromError("Cannot open a connection that is in "+n.connectionState+" state"):n.connectionEstablishDeferral?n.connectionEstablishDeferral.Promise():(n.connectionEstablishDeferral=new o.Deferred,n.connectionState=o.ConnectionState.Connecting,n.websocketClient=new WebSocket(n.uri),n.websocketClient.binaryType="arraybuffer",n.receivingMessageQueue=new o.Queue,n.disconnectDeferral=new o.Deferred,n.sendMessageQueue=new o.Queue,n.ProcessSendQueue(),n.OnEvent(new o.ConnectionStartEvent(n.connectionId,n.uri)),n.websocketClient.onopen=function(e){n.connectionState=o.ConnectionState.Connected,n.OnEvent(new o.ConnectionEstablishedEvent(n.connectionId)),n.connectionEstablishDeferral.Resolve(new o.ConnectionOpenResponse(200,""))},n.websocketClient.onerror=function(e){n.connectionState,o.ConnectionState.Connecting},n.websocketClient.onclose=function(e){n.connectionState===o.ConnectionState.Connecting?(n.connectionState=o.ConnectionState.Disconnected,n.OnEvent(new o.ConnectionEstablishErrorEvent(n.connectionId,e.code,e.reason)),n.connectionEstablishDeferral.Resolve(new o.ConnectionOpenResponse(e.code,e.reason))):n.OnEvent(new o.ConnectionClosedEvent(n.connectionId,e.code,e.reason)),n.OnClose(e.code,e.reason)},n.websocketClient.onmessage=function(e){var t=(new Date).toISOString();if(n.connectionState===o.ConnectionState.Connected){var r=new o.Deferred;if(n.receivingMessageQueue.EnqueueFromPromise(r.Promise()),e.data instanceof ArrayBuffer){var s=new o.RawWebsocketMessage(o.MessageType.Binary,e.data);n.messageFormatter.ToConnectionMessage(s).On(function(e){n.OnEvent(new o.ConnectionMessageReceivedEvent(n.connectionId,t,e)),r.Resolve(e)},function(e){r.Reject("Invalid binary message format. Error: "+e)})}else{var s=new o.RawWebsocketMessage(o.MessageType.Text,e.data);n.messageFormatter.ToConnectionMessage(s).On(function(e){n.OnEvent(new o.ConnectionMessageReceivedEvent(n.connectionId,t,e)),r.Resolve(e)},function(e){r.Reject("Invalid text message format. Error: "+e)})}}},n.connectionEstablishDeferral.Promise())},this.Send=function(e){if(n.connectionState!==o.ConnectionState.Connected)return o.PromiseHelper.FromError("Cannot send on connection that is in "+n.connectionState+" state");var t=new o.Deferred,r=new o.Deferred;return n.sendMessageQueue.EnqueueFromPromise(r.Promise()),n.messageFormatter.FromConnectionMessage(e).On(function(o){r.Resolve({Message:e,RawWebsocketMessage:o,SendStatusDeferral:t})},function(e){r.Reject("Error formatting the message. "+e)}),t.Promise()},this.Read=function(){return n.connectionState!==o.ConnectionState.Connected?o.PromiseHelper.FromError("Cannot read on connection that is in "+n.connectionState+" state"):n.receivingMessageQueue.Dequeue()},this.Close=function(e){if(!n.websocketClient){var t=new o.Deferred;return t.Resolve(!0),t.Promise()}return n.connectionState!==o.ConnectionState.Connected&&n.websocketClient.close(1e3,e||"Normal closure by client"),n.disconnectDeferral.Promise()},this.SendRawMessage=function(e){try{return n.OnEvent(new o.ConnectionMessageSentEvent(n.connectionId,(new Date).toISOString(),e.Message)),n.websocketClient.send(e.RawWebsocketMessage.Payload),o.PromiseHelper.FromResult(!0)}catch(e){return o.PromiseHelper.FromError("websocket send error: "+e)}},this.OnClose=function(e,t){var r="Connection closed. "+e+": "+t;n.connectionState=o.ConnectionState.Disconnected,n.disconnectDeferral.Resolve(!0),n.receivingMessageQueue.Dispose(t),n.receivingMessageQueue.DrainAndDispose(function(e){},r),n.sendMessageQueue.DrainAndDispose(function(e){e.SendStatusDeferral.Reject(r)},r)},this.ProcessSendQueue=function(){n.sendMessageQueue.Dequeue().On(function(e){n.SendRawMessage(e).On(function(t){e.SendStatusDeferral.Resolve(t),n.ProcessSendQueue()},function(t){e.SendStatusDeferral.Reject(t),n.ProcessSendQueue()})},function(e){})},this.OnEvent=function(e){n.connectionEvents.OnEvent(e),o.Events.Instance.OnEvent(e)},!e)throw new o.ArgumentNullError("uri");if(!r)throw new o.ArgumentNullError("messageFormatter");this.connectionEvents=new o.EventSource,this.connectionId=t,this.messageFormatter=r,this.connectionState=o.ConnectionState.None,this.uri=e}return Object.defineProperty(e.prototype,"State",{get:function(){return this.connectionState},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Events",{get:function(){return this.connectionEvents},enumerable:!0,configurable:!0}),e}();t.WebsocketMessageAdapter=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,n=r(1),s=r(2);!function(e){e[e.Text=0]="Text",e[e.Binary=1]="Binary"}(o=t.MessageType||(t.MessageType={}));var i=function(){function e(e,t,r,i){if(this.body=null,e===o.Text&&t&&"string"!=typeof t)throw new n.InvalidOperationError("Payload must be a string");if(e===o.Binary&&t&&!(t instanceof ArrayBuffer))throw new n.InvalidOperationError("Payload must be ArrayBuffer");this.messageType=e,this.body=t,this.headers=r||{},this.id=i||s.CreateNoDashGuid()}return Object.defineProperty(e.prototype,"MessageType",{get:function(){return this.messageType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Headers",{get:function(){return this.headers},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Body",{get:function(){return this.body},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"TextBody",{get:function(){if(this.messageType===o.Binary)throw new n.InvalidOperationError("Not supported for binary message");return this.body},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"BinaryBody",{get:function(){if(this.messageType===o.Text)throw new n.InvalidOperationError("Not supported for text message");return this.body},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Id",{get:function(){return this.id},enumerable:!0,configurable:!0}),e}();t.ConnectionMessage=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),n=r(2),s=function(){function e(e){var t=this;this.eventListeners={},this.isDisposed=!1,this.OnEvent=function(e){if(t.IsDisposed())throw new o.ObjectDisposedError("EventSource");if(t.Metadata)for(var r in t.Metadata)r&&e.Metadata&&(e.Metadata[r]||(e.Metadata[r]=t.Metadata[r]));for(var n in t.eventListeners)n&&t.eventListeners[n]&&t.eventListeners[n](e)},this.Attach=function(e){var r=n.CreateNoDashGuid();return t.eventListeners[r]=e,{Detach:function(){delete t.eventListeners[r]}}},this.AttachListener=function(e){return t.Attach(e.OnEvent)},this.IsDisposed=function(){return t.isDisposed},this.Dispose=function(){t.eventListeners=null,t.isDisposed=!0},this.metadata=e}return Object.defineProperty(e.prototype,"Metadata",{get:function(){return this.metadata},enumerable:!0,configurable:!0}),e}();t.EventSource=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),n=function(){var e=this;this.store={},this.Get=function(t){if(!t)throw new o.ArgumentNullError("key");return e.store[t]},this.GetOrAdd=function(t,r){if(!t)throw new o.ArgumentNullError("key");return void 0===e.store[t]&&(e.store[t]=r),e.store[t]},this.Set=function(t,r){if(!t)throw new o.ArgumentNullError("key");e.store[t]=r},this.Remove=function(t){if(!t)throw new o.ArgumentNullError("key");void 0!==e.store[t]&&delete e.store[t]}};t.InMemoryStorage=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),n=function e(t){var r=this;if(this.subscriptionIdCounter=0,this.addSubscriptions={},this.removeSubscriptions={},this.disposedSubscriptions={},this.disposeReason=null,this.Get=function(e){return r.ThrowIfDisposed(),r.list[e]},this.First=function(){return r.Get(0)},this.Last=function(){return r.Get(r.Length()-1)},this.Add=function(e){r.ThrowIfDisposed(),r.InsertAt(r.list.length,e)},this.InsertAt=function(e,t){r.ThrowIfDisposed(),0===e?r.list.unshift(t):e===r.list.length?r.list.push(t):r.list.splice(e,0,t),r.TriggerSubscriptions(r.addSubscriptions)},this.RemoveFirst=function(){return r.ThrowIfDisposed(),r.RemoveAt(0)},this.RemoveLast=function(){return r.ThrowIfDisposed(),r.RemoveAt(r.Length()-1)},this.RemoveAt=function(e){return r.ThrowIfDisposed(),r.Remove(e,1)[0]},this.Remove=function(e,t){r.ThrowIfDisposed();var o=r.list.splice(e,t);return r.TriggerSubscriptions(r.removeSubscriptions),o},this.Clear=function(){r.ThrowIfDisposed(),r.Remove(0,r.Length())},this.Length=function(){return r.ThrowIfDisposed(),r.list.length},this.OnAdded=function(e){r.ThrowIfDisposed();var t=r.subscriptionIdCounter++;return r.addSubscriptions[t]=e,{Detach:function(){delete r.addSubscriptions[t]}}},this.OnRemoved=function(e){r.ThrowIfDisposed();var t=r.subscriptionIdCounter++;return r.removeSubscriptions[t]=e,{Detach:function(){delete r.removeSubscriptions[t]}}},this.OnDisposed=function(e){r.ThrowIfDisposed();var t=r.subscriptionIdCounter++;return r.disposedSubscriptions[t]=e,{Detach:function(){delete r.disposedSubscriptions[t]}}},this.Join=function(e){return r.ThrowIfDisposed(),r.list.join(e)},this.ToArray=function(){var e=Array();return r.list.forEach(function(t){e.push(t)}),e},this.Any=function(e){return r.ThrowIfDisposed(),e?r.Where(e).Length()>0:r.Length()>0},this.All=function(e){return r.ThrowIfDisposed(),r.Where(e).Length()===r.Length()},this.ForEach=function(e){r.ThrowIfDisposed();for(var t=0;t<r.Length();t++)e(r.list[t],t)},this.Select=function(t){r.ThrowIfDisposed();for(var o=[],n=0;n<r.list.length;n++)o.push(t(r.list[n],n));return new e(o)},this.Where=function(t){r.ThrowIfDisposed();for(var o=new e,n=0;n<r.list.length;n++)t(r.list[n],n)&&o.Add(r.list[n]);return o},this.OrderBy=function(t){return r.ThrowIfDisposed(),new e(r.ToArray().sort(t))},this.OrderByDesc=function(e){return r.ThrowIfDisposed(),r.OrderBy(function(t,r){return e(r,t)})},this.Clone=function(){return r.ThrowIfDisposed(),new e(r.ToArray())},this.Concat=function(t){return r.ThrowIfDisposed(),new e(r.list.concat(t.ToArray()))},this.ConcatArray=function(t){return r.ThrowIfDisposed(),new e(r.list.concat(t))},this.IsDisposed=function(){return null==r.list},this.Dispose=function(e){r.IsDisposed()||(r.disposeReason=e,r.list=null,r.addSubscriptions=null,r.removeSubscriptions=null,r.TriggerSubscriptions(r.disposedSubscriptions))},this.ThrowIfDisposed=function(){if(r.IsDisposed())throw new o.ObjectDisposedError("List",r.disposeReason)},this.TriggerSubscriptions=function(e){if(e)for(var t in e)t&&e[t]()},this.list=[],t)for(var n=0,s=t;n<s.length;n++){var i=s[n];this.list.push(i)}};t.List=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,n=r(1);!function(e){e[e.None=0]="None",e[e.Resolved=1]="Resolved",e[e.Rejected=2]="Rejected"}(o=t.PromiseState||(t.PromiseState={}));var s=function(){function e(e){var t=this;this.ThrowIfError=function(){if(t.IsError)throw t.Error},e.On(function(e){t.isCompleted||(t.isCompleted=!0,t.isError=!1,t.result=e)},function(e){t.isCompleted||(t.isCompleted=!0,t.isError=!0,t.error=e)})}return Object.defineProperty(e.prototype,"IsCompleted",{get:function(){return this.isCompleted},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"IsError",{get:function(){return this.isError},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Error",{get:function(){return this.error},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Result",{get:function(){return this.result},enumerable:!0,configurable:!0}),e}();t.PromiseResult=s;var i=function(){var e=this;this.SetResult=function(t){e.onSetResult(t)},this.SetError=function(t){e.onSetError(t)},this.On=function(t,r){e.onSetResult=t,e.onSetError=r}};t.PromiseResultEventSource=i;var a=function(){};a.WhenAll=function(e){if(!e||0===e.length)throw new n.ArgumentNullError("promises");for(var t=new u,r=[],o=0,s=function(){++o===e.length&&(0===r.length?t.Resolve(!0):t.Reject(r.join(", ")))},i=0,a=e;i<a.length;i++)a[i].On(function(e){s()},function(e){r.push(e),s()});return t.Promise()},a.FromResult=function(e){var t=new u;return t.Resolve(e),t.Promise()},a.FromError=function(e){var t=new u;return t.Reject(e),t.Promise()},t.PromiseHelper=a;var c=function(e){var t=this;this.Result=function(){return t.sink.Result},this.ContinueWith=function(e){if(!e)throw new n.ArgumentNullError("continuationCallback");var r=new u;return t.sink.on(function(o){try{var n=e(t.sink.Result);r.Resolve(n)}catch(e){r.Reject("'Unhandled callback error: "+e+"'")}},function(o){try{var n=e(t.sink.Result);r.Resolve(n)}catch(e){r.Reject("'Unhandled callback error: "+e+". InnerError: "+o+"'")}}),r.Promise()},this.OnSuccessContinueWith=function(e){if(!e)throw new n.ArgumentNullError("continuationCallback");var r=new u;return t.sink.on(function(t){try{var o=e(t);r.Resolve(o)}catch(e){r.Reject("'Unhandled callback error: "+e+"'")}},function(e){r.Reject("'Unhandled callback error: "+e+"'")}),r.Promise()},this.ContinueWithPromise=function(e){if(!e)throw new n.ArgumentNullError("continuationCallback");var r=new u;return t.sink.on(function(o){try{var n=e(t.sink.Result);if(!n)throw new Error("'Continuation callback did not return promise'");n.On(function(e){r.Resolve(e)},function(e){r.Reject(e)})}catch(e){r.Reject("'Unhandled callback error: "+e+"'")}},function(o){try{var n=e(t.sink.Result);if(!n)throw new Error("Continuation callback did not return promise");n.On(function(e){r.Resolve(e)},function(e){r.Reject(e)})}catch(e){r.Reject("'Unhandled callback error: "+e+". InnerError: "+o+"'")}}),r.Promise()},this.OnSuccessContinueWithPromise=function(e){if(!e)throw new n.ArgumentNullError("continuationCallback");var r=new u;return t.sink.on(function(t){try{var o=e(t);if(!o)throw new Error("Continuation callback did not return promise");o.On(function(e){r.Resolve(e)},function(e){r.Reject(e)})}catch(e){r.Reject("'Unhandled callback error: "+e+"'")}},function(e){r.Reject("'Unhandled callback error: "+e+".'")}),r.Promise()},this.On=function(e,r){if(!e)throw new n.ArgumentNullError("successCallback");if(!r)throw new n.ArgumentNullError("errorCallback");return t.sink.on(e,r),t},this.Finally=function(e){if(!e)throw new n.ArgumentNullError("callback");var r=function(t){e()};return t.On(r,r)},this.sink=e};t.Promise=c;var u=function(){var e=this;this.State=function(){return e.sink.State},this.Promise=function(){return e.promise},this.Resolve=function(t){return e.sink.Resolve(t),e},this.Reject=function(t){return e.sink.Reject(t),e},this.sink=new l,this.promise=new c(this.sink)};t.Deferred=u;var l=function(){function e(){var e=this;this.state=o.None,this.promiseResult=null,this.promiseResultEvents=null,this.successHandlers=[],this.errorHandlers=[],this.Resolve=function(t){if(e.state!==o.None)throw new Error("'Cannot resolve a completed promise'");e.state=o.Resolved,e.promiseResultEvents.SetResult(t);for(var r=0;r<e.successHandlers.length;r++)e.ExecuteSuccessCallback(t,e.successHandlers[r],e.errorHandlers[r]);e.DetachHandlers()},this.Reject=function(t){if(e.state!==o.None)throw new Error("'Cannot reject a completed promise'");e.state=o.Rejected,e.promiseResultEvents.SetError(t);for(var r=0,n=e.errorHandlers;r<n.length;r++){var s=n[r];e.ExecuteErrorCallback(t,s)}e.DetachHandlers()},this.on=function(t,r){null==t&&(t=function(e){}),e.state===o.None?(e.successHandlers.push(t),e.errorHandlers.push(r)):(e.state===o.Resolved?e.ExecuteSuccessCallback(e.promiseResult.Result,t,r):e.state===o.Rejected&&e.ExecuteErrorCallback(e.promiseResult.Error,r),e.DetachHandlers())},this.ExecuteSuccessCallback=function(t,r,o){try{r(t)}catch(t){e.ExecuteErrorCallback("'Unhandled callback error: "+t+"'",o)}},this.ExecuteErrorCallback=function(e,t){if(!t)throw new Error("'Unhandled error: "+e+"'");try{t(e)}catch(t){throw new Error("'Unhandled callback error: "+t+". InnerError: "+e+"'")}},this.DetachHandlers=function(){e.errorHandlers=[],e.successHandlers=[]},this.promiseResultEvents=new i,this.promiseResult=new s(this.promiseResultEvents)}return Object.defineProperty(e.prototype,"State",{get:function(){return this.state},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Result",{get:function(){return this.promiseResult},enumerable:!0,configurable:!0}),e}();t.Sink=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,n=r(1),s=r(13),i=r(14);!function(e){e[e.Dequeue=0]="Dequeue",e[e.Peek=1]="Peek"}(o||(o={}));var a=function(e){var t=this;this.promiseStore=new s.List,this.isDrainInProgress=!1,this.isDisposing=!1,this.disposeReason=null,this.Enqueue=function(e){t.ThrowIfDispose(),t.EnqueueFromPromise(i.PromiseHelper.FromResult(e))},this.EnqueueFromPromise=function(e){t.ThrowIfDispose(),t.promiseStore.Add(e),e.Finally(function(){for(;t.promiseStore.Length()>0&&t.promiseStore.First().Result().IsCompleted;){var e=t.promiseStore.RemoveFirst();e.Result().IsError||t.list.Add(e.Result().Result)}})},this.Dequeue=function(){t.ThrowIfDispose();var e=new i.Deferred;return t.subscribers.Add({deferral:e,type:o.Dequeue}),t.Drain(),e.Promise()},this.Peek=function(){t.ThrowIfDispose();var e=new i.Deferred;return t.subscribers.Add({deferral:e,type:o.Peek}),t.Drain(),e.Promise()},this.Length=function(){return t.ThrowIfDispose(),t.list.Length()},this.IsDisposed=function(){return null==t.subscribers},this.DrainAndDispose=function(e,r){if(!t.IsDisposed()&&!t.isDisposing){for(t.disposeReason=r,t.isDisposing=!0;t.subscribers.Length()>0;)t.subscribers.RemoveFirst().deferral.Reject("Disposed");for(var o=0,n=t.detachables;o<n.length;o++)n[o].Detach();if(t.promiseStore.Length()>0&&e)return i.PromiseHelper.WhenAll(t.promiseStore.ToArray()).ContinueWith(function(){return t.subscribers=null,t.list.ForEach(function(t,r){e(t)}),t.list=null,!0});t.subscribers=null,t.list=null}return i.PromiseHelper.FromResult(!0)},this.Dispose=function(e){t.DrainAndDispose(null,e)},this.Drain=function(){if(!t.isDrainInProgress&&!t.isDisposing){for(t.isDrainInProgress=!0;t.list.Length()>0&&t.subscribers.Length()>0&&!t.isDisposing;){var e=t.subscribers.RemoveFirst();if(e.type===o.Peek)e.deferral.Resolve(t.list.First());else{var r=t.list.RemoveFirst();e.deferral.Resolve(r)}}t.isDrainInProgress=!1}},this.ThrowIfDispose=function(){if(t.IsDisposed()){if(t.disposeReason)throw new n.InvalidOperationError(t.disposeReason);throw new n.ObjectDisposedError("Queue")}if(t.isDisposing)throw new n.InvalidOperationError("Queue disposing")},this.list=e||new s.List,this.detachables=[],this.subscribers=new s.List,this.detachables.push(this.list.OnAdded(this.Drain))};t.Queue=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(4),n=r(0),s=r(6),i="testhooks",a="X-ConnectionId",c=function(){function e(){var e=this;this.Create=function(t,r,n){var c="";switch(t.RecognitionMode){case s.RecognitionMode.Conversation:c=e.Host+e.ConversationRelativeUri;break;case s.RecognitionMode.Dictation:c=e.Host+e.DictationRelativeUri;break;default:c=e.Host+e.InteractiveRelativeUri}var u={format:s.SpeechResultFormat[t.Format].toString().toLowerCase(),language:t.Language};e.IsDebugModeEnabled&&(u[i]="1");var l={};return l[r.HeaderName]=r.Token,l[a]=n,new o.WebsocketConnection(c,u,l,new s.WebsocketMessageFormatter,n)}}return Object.defineProperty(e.prototype,"Host",{get:function(){return n.Storage.Local.GetOrAdd("Host","wss://speech.platform.bing.com")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"InteractiveRelativeUri",{get:function(){return n.Storage.Local.GetOrAdd("InteractiveRelativeUri","/speech/recognition/interactive/cognitiveservices/v1")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ConversationRelativeUri",{get:function(){return n.Storage.Local.GetOrAdd("ConversationRelativeUri","/speech/recognition/conversation/cognitiveservices/v1")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"DictationRelativeUri",{get:function(){return n.Storage.Local.GetOrAdd("DictationRelativeUri","/speech/recognition/dictation/cognitiveservices/v1")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"IsDebugModeEnabled",{get:function(){return"true"===n.Storage.Local.GetOrAdd("IsDebugModeEnabled","false").toLowerCase()},enumerable:!0,configurable:!0}),e}();t.SpeechConnectionFactory=c},function(e,t,r){"use strict";(function(e){var r,o;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.Interactive=0]="Interactive",e[e.Conversation=1]="Conversation",e[e.Dictation=2]="Dictation"}(r=t.RecognitionMode||(t.RecognitionMode={})),function(e){e[e.Simple=0]="Simple",e[e.Detailed=1]="Detailed"}(o=t.SpeechResultFormat||(t.SpeechResultFormat={}));var n=function(){function e(e,t,n,a){void 0===t&&(t=r.Interactive),void 0===n&&(n="en-us"),void 0===a&&(a=o.Simple),this.recognitionMode=r.Interactive,this.speechConfig=e||new s(new i(null,null)),this.recognitionMode=t,this.language=n,this.format=a,this.recognitionActivityTimeout=t===r.Interactive?8e3:25e3}return Object.defineProperty(e.prototype,"RecognitionMode",{get:function(){return this.recognitionMode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Language",{get:function(){return this.language},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Format",{get:function(){return this.format},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"SpeechConfig",{get:function(){return this.speechConfig},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"RecognitionActivityTimeout",{get:function(){return this.recognitionActivityTimeout},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"IsContinuousRecognition",{get:function(){return this.recognitionMode!==r.Interactive},enumerable:!0,configurable:!0}),e}();t.RecognizerConfig=n;var s=function(){function e(e){var t=this;this.Serialize=function(){return JSON.stringify(t,function(e,t){if(t&&"object"==typeof t){var r={};for(var o in t)Object.hasOwnProperty.call(t,o)&&(r[o&&o.charAt(0).toLowerCase()+o.substring(1)]=t[o]);return r}return t})},this.context=e}return Object.defineProperty(e.prototype,"Context",{get:function(){return this.context},enumerable:!0,configurable:!0}),e}();t.SpeechConfig=s;var i=function(){function t(t,r){this.system=new e,this.os=t,this.device=r}return Object.defineProperty(t.prototype,"System",{get:function(){return this.system},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"OS",{get:function(){return this.os},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Device",{get:function(){return this.device},enumerable:!0,configurable:!0}),t}();t.Context=i;var e=function(){function e(){this.version="1.0.00000"}return Object.defineProperty(e.prototype,"Version",{get:function(){return this.version},enumerable:!0,configurable:!0}),e}();t.System=e;var a=function(){function e(e,t,r){this.platform=e,this.name=t,this.version=r}return Object.defineProperty(e.prototype,"Platform",{get:function(){return this.platform},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Name",{get:function(){return this.name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Version",{get:function(){return this.version},enumerable:!0,configurable:!0}),e}();t.OS=a;var c=function(){function e(e,t,r){this.manufacturer=e,this.model=t,this.version=r}return Object.defineProperty(e.prototype,"Manufacturer",{get:function(){return this.manufacturer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Model",{get:function(){return this.model},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Version",{get:function(){return this.version},enumerable:!0,configurable:!0}),e}();t.Device=c}).call(t,r(61))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.log=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];"undefined"!=typeof window&&window.botchatDebug&&e&&console.log.apply(console,[e].concat(t))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(3),n=r(18),s=r(21),i=r(60),a=function(){function e(e){void 0===e&&(e={});var t=this;this.audioStreamStartInitiated=!1,this.isStreamingToService=!1,this.onIntermediateResult=null,this.onFinalResult=null,this.onAudioStreamingToService=null,this.onRecognitionFailed=null,this.locale=null,this.actualRecognizer=null,this.grammars=null,this.properties=e;var r,o=s.RecognitionMode.Interactive,n=s.SpeechResultFormat.Simple,i=e.locale||"en-US",a=new s.RecognizerConfig(new s.SpeechConfig(new s.Context(new s.OS(navigator.userAgent,"Browser",null),new s.Device("WebChat","WebChat","1.0.00000"))),o,i,n);if(e.subscriptionKey)r=new s.CognitiveSubscriptionKeyAuthentication(e.subscriptionKey);else{if(!e.fetchCallback||!e.fetchOnExpiryCallback)throw"Error: The CognitiveServicesSpeechRecognizer requires either a subscriptionKey or a fetchCallback and fetchOnExpiryCallback.";r=new s.CognitiveTokenAuthentication(function(e){var r=new s.Deferred;return t.properties.fetchCallback(e).then(function(e){return r.Resolve(e)},function(e){return r.Reject(e)}),r.Promise()},function(e){var r=new s.Deferred;return t.properties.fetchOnExpiryCallback(e).then(function(e){return r.Resolve(e)},function(e){return r.Reject(e)}),r.Promise()})}window.navigator.getUserMedia?this.actualRecognizer=s.CreateRecognizer(a,r):console.error("This browser does not support speech recognition")}return e.prototype.warmup=function(){},e.prototype.setGrammars=function(e){this.grammars=e},e.prototype.startRecognizing=function(){return o.__awaiter(this,void 0,void 0,function(){var e,t,r=this;return o.__generator(this,function(o){return this.actualRecognizer?(e=function(e){switch(r.log(e.Name),e.Name){case"RecognitionTriggeredEvent":case"ListeningStartedEvent":case"SpeechStartDetectedEvent":case"SpeechEndDetectedEvent":case"SpeechDetailedPhraseEvent":case"ConnectingToServiceEvent":break;case"RecognitionStartedEvent":r.onAudioStreamingToService&&r.onAudioStreamingToService(),r.isStreamingToService=!0;break;case"SpeechHypothesisEvent":var t=e;r.log("Hypothesis Result: "+t.Result.Text),r.onIntermediateResult&&r.onIntermediateResult(t.Result.Text);break;case"SpeechSimplePhraseEvent":var o=e;s.RecognitionStatus[o.Result.RecognitionStatus]===s.RecognitionStatus.Success?r.onFinalResult&&r.onFinalResult(o.Result.DisplayText):(r.onRecognitionFailed&&r.onRecognitionFailed(),r.log("Recognition Status: "+o.Result.RecognitionStatus.toString()));break;case"RecognitionEndedEvent":r.isStreamingToService=!1;break;default:r.log(e.Name+" is unexpected")}},this.referenceGrammarId&&(t=i.default(t,["dgi","Groups"],function(e){return void 0===e&&(e=[]),e.concat([{Type:"Generic",Hints:{ReferenceGrammar:r.referenceGrammarId}}])})),this.grammars&&(t=i.default(t,["dgi","Groups"],function(e){return void 0===e&&(e=[]),e.concat([{Type:"Generic",Items:r.grammars.map(function(e){return{Text:e}})}])})),[2,this.actualRecognizer.Recognize(e,t&&JSON.stringify(t))]):(this.log("ERROR: no recognizer?"),[2])})})},e.prototype.speechIsAvailable=function(){return null!=this.actualRecognizer},e.prototype.stopRecognizing=function(){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(e){return null!=this.actualRecognizer&&this.actualRecognizer.AudioSource.TurnOff(),this.isStreamingToService=!1,[2]})})},e.prototype.log=function(e){n.log("CognitiveServicesSpeechRecognizer: "+e)},e}();t.SpeechRecognizer=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,n=r(18);!function(e){e[e.Male=0]="Male",e[e.Female=1]="Female"}(o=t.SynthesisGender||(t.SynthesisGender={}));var s=function(){function e(e){this._requestQueue=null,this._isPlaying=!1,this._helper=new i(e),this._properties=e,this._requestQueue=new Array}return e.prototype.speak=function(e,t,r,o){var n=this;void 0===r&&(r=null),void 0===o&&(o=null),this._requestQueue.push({isReadyToPlay:!1,data:null,text:e,locale:t,onSpeakingStarted:r,onSpeakingFinished:o}),this.getSpeechData().then(function(){n.playAudio()})},e.prototype.stopSpeaking=function(){this._isPlaying&&(this._requestQueue=[],this._isPlaying=!1,this._audioElement&&"closed"!==this._audioElement.state&&this._audioElement.close())},e.prototype.playAudio=function(){var e=this;if(0!=this._requestQueue.length){var t=this._requestQueue[0];if(t)return t.isReadyToPlay?void(this._isPlaying||(this._isPlaying=!0,this._audioElement&&"closed"!==this._audioElement.state||("undefined"!=typeof webkitAudioContext?this._audioElement=new webkitAudioContext:this._audioElement=new AudioContext),this._audioElement.decodeAudioData(t.data,function(r){var o=e._audioElement.createBufferSource();o.buffer=r,o.connect(e._audioElement.destination),t.onSpeakingStarted&&t.onSpeakingStarted(),o.start(0),o.onended=function(r){e._isPlaying=!1,t.onSpeakingFinished&&t.onSpeakingFinished(),e._requestQueue=e._requestQueue.slice(1,e._requestQueue.length),e._requestQueue.length>0&&e.playAudio()}},function(t){e.log(t.message),e._isPlaying=!1,e._requestQueue=e._requestQueue.slice(1,e._requestQueue.length),e._requestQueue.length>0&&e.playAudio()}))):void window.setTimeout(function(){return e.playAudio()},100)}},e.prototype.getSpeechData=function(){var e=this;if(0!=this._requestQueue.length){var t=this._requestQueue[this._requestQueue.length-1];return this._helper.fetchSpeechData(t.text,t.locale,this._properties).then(function(e){t.data=e,t.isReadyToPlay=!0},function(t){e.log(t),e._requestQueue=e._requestQueue.slice(0,e._requestQueue.length-1)})}},e.prototype.log=function(e){n.log("CognitiveServicesSpeechSynthesis: "+e)},e}();t.SpeechSynthesizer=s;var i=function(){function e(e){var t=this;if(this._tokenURL="https://api.cognitive.microsoft.com/sts/v1.0/issueToken",this._synthesisURL="https://speech.platform.bing.com/synthesize",this._outputFormat="riff-16khz-16bit-mono-pcm",this._femaleVoiceMap={"ar-eg":"Microsoft Server Speech Text to Speech Voice (ar-EG, Hoda)","ca-es":"Microsoft Server Speech Text to Speech Voice (ca-ES, HerenaRUS)","da-dk":"Microsoft Server Speech Text to Speech Voice (da-DK, HelleRUS)","de-de":"Microsoft Server Speech Text to Speech Voice (de-DE, Hedda)","en-au":"Microsoft Server Speech Text to Speech Voice (en-AU, Catherine)","en-ca":"Microsoft Server Speech Text to Speech Voice (en-CA, Linda)","en-gb":"Microsoft Server Speech Text to Speech Voice (en-GB, Susan, Apollo)","en-in":"Microsoft Server Speech Text to Speech Voice (en-IN, Heera, Apollo)","en-us":"Microsoft Server Speech Text to Speech Voice (en-US, ZiraRUS)","es-es":"Microsoft Server Speech Text to Speech Voice (es-ES, Laura, Apollo)","es-mx":"Microsoft Server Speech Text to Speech Voice (es-MX, HildaRUS)","fi-fi":"Microsoft Server Speech Text to Speech Voice (fi-FI, HeidiRUS)","fr-ca":"Microsoft Server Speech Text to Speech Voice (fr-CA, Caroline)","fr-fr":"Microsoft Server Speech Text to Speech Voice (fr-FR, Julie, Apollo)","hi-in":"Microsoft Server Speech Text to Speech Voice (hi-IN, Kalpana, Apollo)","ja-jp":"Microsoft Server Speech Text to Speech Voice (ja-JP, Ayumi, Apollo)","ko-kr":"Microsoft Server Speech Text to Speech Voice (ko-KR, HeamiRUS)","nb-no":"Microsoft Server Speech Text to Speech Voice (nb-NO, HuldaRUS)","nl-nl":"Microsoft Server Speech Text to Speech Voice (nl-NL, HannaRUS)","pl-pl":"Microsoft Server Speech Text to Speech Voice (pl-PL, PaulinaRUS)","pt-br":"Microsoft Server Speech Text to Speech Voice (pt-BR, HeloisaRUS)","pt-pt":"Microsoft Server Speech Text to Speech Voice (pt-PT, HeliaRUS)","ru-ru":"Microsoft Server Speech Text to Speech Voice (ru-RU, Irina, Apollo)","sv-se":"Microsoft Server Speech Text to Speech Voice (sv-SE, HedvigRUS)","tr-tr":"Microsoft Server Speech Text to Speech Voice (tr-TR, SedaRUS)","zh-cn":"Microsoft Server Speech Text to Speech Voice (zh-CN, HuihuiRUS)","zh-hk":"Microsoft Server Speech Text to Speech Voice (zh-HK, Tracy, Apollo)","zh-tw":"Microsoft Server Speech Text to Speech Voice (zh-TW, Yating, Apollo)"},this._maleVoiceMap={"ar-sa":"Microsoft Server Speech Text to Speech Voice (ar-SA, Naayf)","cs-cz":"Microsoft Server Speech Text to Speech Voice (cs-CZ, Vit)","de-at":"Microsoft Server Speech Text to Speech Voice (de-AT, Michael)","de-ch":"Microsoft Server Speech Text to Speech Voice (de-CH, Karsten)","de-de":"Microsoft Server Speech Text to Speech Voice (de-DE, Stefan, Apollo)","el-gr":"Microsoft Server Speech Text to Speech Voice (el-GR, Stefanos)","en-gb":"Microsoft Server Speech Text to Speech Voice (en-GB, George, Apollo)","en-ie":"Microsoft Server Speech Text to Speech Voice (en-IE, Shaun)","en-in":"Microsoft Server Speech Text to Speech Voice (en-IN, Ravi, Apollo)","en-us":"Microsoft Server Speech Text to Speech Voice (en-US, BenjaminRUS)","es-es":"Microsoft Server Speech Text to Speech Voice (es-ES, Pablo, Apollo)","es-mx":"Microsoft Server Speech Text to Speech Voice (es-MX, Raul, Apollo)","fr-ch":"Microsoft Server Speech Text to Speech Voice (fr-CH, Guillaume)","fr-fr":"Microsoft Server Speech Text to Speech Voice (fr-FR, Paul, Apollo)","he-il":"Microsoft Server Speech Text to Speech Voice (he-IL, Asaf)","hi-in":"Microsoft Server Speech Text to Speech Voice (hi-IN, Hemant)","hu-hu":"Microsoft Server Speech Text to Speech Voice (hu-HU, Szabolcs)","id-id":"Microsoft Server Speech Text to Speech Voice (id-ID, Andika)","it-it":"Microsoft Server Speech Text to Speech Voice (it-IT, Cosimo, Apollo)","ja-jp":"Microsoft Server Speech Text to Speech Voice (ja-JP, Ichiro, Apollo)","pt-br":"Microsoft Server Speech Text to Speech Voice (pt-BR, Daniel, Apollo)","ro-ro":"Microsoft Server Speech Text to Speech Voice (ro-RO, Andrei)","ru-ru":"Microsoft Server Speech Text to Speech Voice (ru-RU, Pavel, Apollo)","sk-sk":"Microsoft Server Speech Text to Speech Voice (sk-SK, Filip)","th-th":"Microsoft Server Speech Text to Speech Voice (th-TH, Pattara)","zh-cn":"Microsoft Server Speech Text to Speech Voice (zh-CN, Kangkang, Apollo)","zh-hk":"Microsoft Server Speech Text to Speech Voice (zh-HK, Danny, Apollo)","zh-tw":"Microsoft Server Speech Text to Speech Voice (zh-TW, Zhiwei, Apollo)"},e.subscriptionKey)this._tokenCallback=function(e){return t.fetchSpeechToken(e)},this._tokenExpiredCallback=function(e){return t.fetchSpeechToken(e)};else{if(!e.fetchCallback||!e.fetchOnExpiryCallback)throw"Error: The CognitiveServicesSpeechSynthesis requires either a subscriptionKey or a fetchCallback and a fetchOnExpiryCallback.";this._tokenCallback=e.fetchCallback,this._tokenExpiredCallback=e.fetchOnExpiryCallback}}return e.prototype.fetchSpeechData=function(e,t,r){var o=this,n=this.makeSSML(e,t,r),s=function(e){o._lastTokenTime=Date.now();var t=[{name:"Content-type",value:"application/ssml+xml"},{name:"X-Microsoft-OutputFormat",value:o._outputFormat},{name:"Authorization",value:e}];return o.makeHttpCall("POST",o._synthesisURL,!0,t,n)};return Date.now()-this._lastTokenTime>5e5?this._tokenExpiredCallback(r.subscriptionKey).then(function(e){return s(e)}):this._tokenCallback(r.subscriptionKey).then(function(e){return s(e)})},e.prototype.makeSSML=function(e,t,r){if(0===e.indexOf("<speak"))return this.processSSML(e,r);var n="<speak version='1.0' xml:lang='"+t+"'><voice xml:lang='"+t+"' xml:gender='"+(r&&r.gender?o[r.gender]:"Female")+"' name='";return r.voiceName?n+=r.voiceName:null!==r.gender&&void 0!==r.gender?n+=this.fetchVoiceName(t,r.gender):n+=this.fetchVoiceName(t,o.Female),n+"'>"+this.encodeHTML(e)+"</voice></speak>"},e.prototype.processSSML=function(e,t){var r,n=!1,s=/xml:lang=['"](\w\w-\w\w)['"]/.exec(e);r=s?s[1]:"en-us";var i=t&&t.gender;null!==i&&void 0!==i||(i=o.Female);for(var a=new DOMParser,c=a.parseFromString(e,"text/xml"),u=c.documentElement.childNodes,l=0;l<u.length;++l)if("voice"===u[l].nodeName){for(var d=0;d<u[l].attributes.length;++d){if("name"===u[l].attributes[d].nodeName){n=!0;break}"xml:gender"===u[l].attributes[d].nodeName&&(i="male"===u[l].attributes[d].nodeValue.toLowerCase()?o.Male:o.Female)}if(!n){var p=c.createAttribute("name");p.value=t&&t.voiceName||this.fetchVoiceName(r,i),u[l].attributes.setNamedItem(p),n=!0}break}var h=new XMLSerializer;if(!n){var f=c.createElement("voice"),p=c.createAttribute("name");for(p.value=t&&t.voiceName||this.fetchVoiceName(r,i),f.attributes.setNamedItem(p);u.length>0;)f.appendChild(c.documentElement.firstChild);c.documentElement.appendChild(f)}return h.serializeToString(c)},e.prototype.encodeHTML=function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")},e.prototype.fetchSpeechToken=function(e){var t=[{name:"Ocp-Apim-Subscription-Key",value:e},{name:"Access-Control-Allow-Origin",value:"*"}];return this.makeHttpCall("POST",this._tokenURL,!1,t).then(function(e){return n.log("New authentication token generated."),Promise.resolve(e)},function(e){var t="Failed to generate authentication token";return n.log(t),Promise.reject(t)})},e.prototype.makeHttpCall=function(e,t,r,o,n){return void 0===r&&(r=!1),new Promise(function(s,i){var a=new XMLHttpRequest;r&&(a.responseType="arraybuffer"),a.onreadystatechange=function(e){4===a.readyState&&(a.status>=200&&a.status<300?s(r?a.response:a.responseText):i(a.status))};try{a.open(e,t,!0),o&&o.forEach(function(e){a.setRequestHeader(e.name,e.value)}),n?a.send(n):a.send()}catch(e){i(e)}})},e.prototype.fetchVoiceName=function(e,t){var r=e.toLowerCase();return t===o.Female?this._femaleVoiceMap[r]||this._femaleVoiceMap["en-us"]:this._maleVoiceMap[r]||this._maleVoiceMap["en-us"]},e}()},function(e,t,r){"use strict";function o(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0});var n=r(4);r(0).Events.Instance.AttachListener(new n.ConsoleLoggingListener),o(r(0)),o(r(4)),o(r(6)),o(r(49))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),n=function(e){void 0===e&&(e=o.EventType.Warning);var t=this;this.OnEvent=function(e){if(e.EventType>=t.logLevelFilter){var r=t.ToString(e);switch(e.EventType){case o.EventType.Debug:console.debug(r);break;case o.EventType.Info:console.info(r);break;case o.EventType.Warning:console.warn(r);break;case o.EventType.Error:console.error(r);break;default:console.log(r)}}},this.ToString=function(e){var t=[""+e.EventTime,""+e.Name];for(var r in e)if(r&&e.hasOwnProperty(r)&&"eventTime"!==r&&"eventType"!==r&&"eventId"!==r&&"name"!==r&&"constructor"!==r){var o=e[r],n="<NULL>";void 0!==o&&null!==o&&(n="number"==typeof o||"string"==typeof o?o.toString():JSON.stringify(o)),t.push(r+": "+n)}return t.join(" | ")},this.logLevelFilter=e};t.ConsoleLoggingListener=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),n=r(4),s=function(){function e(t,r){var s=this;this.streams={},this.TurnOn=function(){if("undefined"==typeof FileReader){var t="Browser does not support FileReader.";return s.OnEvent(new o.AudioSourceErrorEvent(t,"")),o.PromiseHelper.FromError(t)}if(s.file.name.lastIndexOf(".wav")!==s.file.name.length-4){var t=s.file.name+" is not supported. Only WAVE files are allowed at the moment.";return s.OnEvent(new o.AudioSourceErrorEvent(t,"")),o.PromiseHelper.FromError(t)}if(s.file.size>e.MAX_SIZE){var t=s.file.name+" exceeds the maximum allowed file size ("+e.MAX_SIZE+").";return s.OnEvent(new o.AudioSourceErrorEvent(t,"")),o.PromiseHelper.FromError(t)}return s.OnEvent(new o.AudioSourceInitializingEvent(s.id)),s.OnEvent(new o.AudioSourceReadyEvent(s.id)),o.PromiseHelper.FromResult(!0)},this.Id=function(){return s.id},this.Attach=function(e){return s.OnEvent(new o.AudioStreamNodeAttachingEvent(s.id,e)),s.Upload(e).OnSuccessContinueWith(function(t){return s.OnEvent(new o.AudioStreamNodeAttachedEvent(s.id,e)),{Detach:function(){t.Close(),delete s.streams[e],s.OnEvent(new o.AudioStreamNodeDetachedEvent(s.id,e)),s.TurnOff()},Id:function(){return e},Read:function(){return t.Read()}}})},this.Detach=function(e){e&&s.streams[e]&&(s.streams[e].Close(),delete s.streams[e],s.OnEvent(new o.AudioStreamNodeDetachedEvent(s.id,e)))},this.TurnOff=function(){for(var e in s.streams)if(e){var t=s.streams[e];t&&!t.IsClosed&&t.Close()}return s.OnEvent(new o.AudioSourceOffEvent(s.id)),o.PromiseHelper.FromResult(!0)},this.Upload=function(t){return s.TurnOn().OnSuccessContinueWith(function(r){var i=new o.Stream(t);s.streams[t]=i;var a=new FileReader,c=0,u=e.CHUNK_SIZE,l=0,d=function(t){if(!i.IsClosed){if(0!==l){var r=Date.now()-l;if(r<e.UPLOAD_INTERVAL)return void new n.Timer(e.UPLOAD_INTERVAL-r,d).start()}if(i.Write(a.result),l=Date.now(),u<s.file.size){c=u,u=Math.min(u+e.CHUNK_SIZE,s.file.size);var o=s.file.slice(c,u);a.readAsArrayBuffer(o)}else i.Close()}};a.onload=d,a.onerror=function(e){var r="Error occurred while processing '"+s.file.name+"'. "+e.error;throw s.OnEvent(new o.AudioStreamNodeErrorEvent(s.id,t,e.error)),new Error(r)};var p=s.file.slice(c,u);return a.readAsArrayBuffer(p),i.GetReader()})},this.OnEvent=function(e){s.events.OnEvent(e),o.Events.Instance.OnEvent(e)},this.id=r||o.CreateNoDashGuid(),this.events=new o.EventSource,this.file=t}return Object.defineProperty(e.prototype,"Events",{get:function(){return this.events},enumerable:!0,configurable:!0}),e}();s.SAMPLE_RATE=32e3,s.CHUNK_SIZE=2*s.SAMPLE_RATE/5,s.UPLOAD_INTERVAL=200,s.MAX_SIZE=600*s.SAMPLE_RATE+44,t.FileAudioSource=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),n=function(){this.Get=function(e){if(!e)throw new o.ArgumentNullError("key");return localStorage.getItem(e)},this.GetOrAdd=function(e,t){if(!e)throw new o.ArgumentNullError("key");var r=localStorage.getItem(e);return null!==r&&void 0!==r||localStorage.setItem(e,t),localStorage.getItem(e)},this.Set=function(e,t){if(!e)throw new o.ArgumentNullError("key");localStorage.setItem(e,t)},this.Remove=function(e){if(!e)throw new o.ArgumentNullError("key");localStorage.removeItem(e)}};t.LocalStorage=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),n=function(){function e(e,t){var r=this;this.streams={},this.TurnOn=function(){if(r.initializeDeferral)return r.initializeDeferral.Promise();r.initializeDeferral=new o.Deferred,r.CreateAudioContext();var e=window.navigator,t=e.getUserMedia||e.webkitGetUserMedia||e.mozGetUserMedia||e.msGetUserMedia;if(e.mediaDevices&&(t=function(t,r,o){e.mediaDevices.getUserMedia(t).then(r).catch(o)}),t){var n=function(){r.OnEvent(new o.AudioSourceInitializingEvent(r.id)),t({audio:!0,video:!1},function(e){r.mediaStream=e,r.OnEvent(new o.AudioSourceReadyEvent(r.id)),r.initializeDeferral.Resolve(!0)},function(e){var t="Error occurred during microphone initialization: "+e,n=r.initializeDeferral;r.initializeDeferral=null,n.Reject(t),r.OnEvent(new o.AudioSourceErrorEvent(r.id,t))})};"suspended"===r.context.state?r.context.resume().then(n,function(e){r.initializeDeferral.Reject("Failed to initialize audio context: "+e)}):n()}else{var s="Browser does not support getUserMedia.";r.initializeDeferral.Reject(s),r.OnEvent(new o.AudioSourceErrorEvent(s,""))}return r.initializeDeferral.Promise()},this.Id=function(){return r.id},this.Attach=function(e){return r.OnEvent(new o.AudioStreamNodeAttachingEvent(r.id,e)),r.Listen(e).OnSuccessContinueWith(function(t){return r.OnEvent(new o.AudioStreamNodeAttachedEvent(r.id,e)),{Detach:function(){t.Close(),delete r.streams[e],r.OnEvent(new o.AudioStreamNodeDetachedEvent(r.id,e)),r.TurnOff()},Id:function(){return e},Read:function(){return t.Read()}}})},this.Detach=function(e){e&&r.streams[e]&&(r.streams[e].Close(),delete r.streams[e],r.OnEvent(new o.AudioStreamNodeDetachedEvent(r.id,e)))},this.TurnOff=function(){for(var e in r.streams)if(e){var t=r.streams[e];t&&t.Close()}return r.OnEvent(new o.AudioSourceOffEvent(r.id)),r.initializeDeferral=null,r.DestroyAudioContext(),o.PromiseHelper.FromResult(!0)},this.Listen=function(e){return r.TurnOn().OnSuccessContinueWith(function(t){var n=new o.Stream(e);r.streams[e]=n;try{r.recorder.Record(r.context,r.mediaStream,n)}catch(t){throw r.OnEvent(new o.AudioStreamNodeErrorEvent(r.id,e,t)),t}return n.GetReader()})},this.OnEvent=function(e){r.events.OnEvent(e),o.Events.Instance.OnEvent(e)},this.CreateAudioContext=function(){if(!r.context){var e=window.AudioContext||window.webkitAudioContext||!1;if(!e)throw new Error("Browser does not support Web Audio API (AudioContext is not available).");r.context=new e}},this.DestroyAudioContext=function(){r.context&&(r.recorder.ReleaseMediaResources(r.context),"close"in r.context?(r.context.close(),r.context=null):"running"===r.context.state&&r.context.suspend())},this.id=t||o.CreateNoDashGuid(),this.events=new o.EventSource,this.recorder=e}return Object.defineProperty(e.prototype,"Events",{get:function(){return this.events},enumerable:!0,configurable:!0}),e}();t.MicAudioSource=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){var t=this;this.Record=function(e,r,o){var n=new MediaRecorder(r,t.mediaRecorderOptions);n.ondataavailable=function(e){if(o){var t=new FileReader;t.readAsArrayBuffer(e.data),t.onloadend=function(e){o.Write(t.result)}}},t.mediaResources={recorder:n,stream:r},n.start(100)},this.ReleaseMediaResources=function(e){"inactive"!==t.mediaResources.recorder.state&&t.mediaResources.recorder.stop(),t.mediaResources.stream.getTracks().forEach(function(e){return e.stop()})},this.mediaRecorderOptions=e};t.OpusRecorder=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),n=function(){var e=this;this.Record=function(t,r,n){var s=function(){var e=0;try{return t.createScriptProcessor(e,1,1)}catch(o){e=2048;for(var r=t.sampleRate;e<16384&&r>=32e3;)e<<=1,r>>=1;return t.createScriptProcessor(e,1,1)}}(),i=new o.RiffPcmEncoder(t.sampleRate,16e3),a=!0;s.onaudioprocess=function(e){var t=e.inputBuffer.getChannelData(0);if(n&&!n.IsClosed){var r=i.Encode(a,t);r&&(n.Write(r),a=!1)}};var c=t.createMediaStreamSource(r);e.mediaResources={scriptProcessorNode:s,source:c,stream:r},c.connect(s),s.connect(t.destination)},this.ReleaseMediaResources=function(t){e.mediaResources&&(e.mediaResources.scriptProcessorNode&&(e.mediaResources.scriptProcessorNode.disconnect(t.destination),e.mediaResources.scriptProcessorNode=null),e.mediaResources.source&&(e.mediaResources.source.disconnect(),e.mediaResources.stream.getTracks().forEach(function(e){return e.stop()}),e.mediaResources.source=null))}};t.PcmRecorder=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),n=function(){this.Get=function(e){if(!e)throw new o.ArgumentNullError("key");return sessionStorage.getItem(e)},this.GetOrAdd=function(e,t){if(!e)throw new o.ArgumentNullError("key");var r=sessionStorage.getItem(e);return null!==r&&void 0!==r||sessionStorage.setItem(e,t),sessionStorage.getItem(e)},this.Set=function(e,t){if(!e)throw new o.ArgumentNullError("key");sessionStorage.setItem(e,t)},this.Remove=function(e){if(!e)throw new o.ArgumentNullError("key");sessionStorage.removeItem(e)}};t.SessionStorage=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t){var r=this;this.start=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];r.timerId&&r.stop(),r.timerId=setTimeout(r.successCallback,r.delayInMillisec,e)},this.stop=function(){clearTimeout(r.timerId)},this.delayInMillisec=e,this.successCallback=t};t.Timer=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),n=r(9),s=function(){function e(e,t,r,s,i){var a=this;if(this.isDisposed=!1,this.Dispose=function(){a.isDisposed=!0,a.connectionMessageAdapter&&a.connectionMessageAdapter.Close()},this.IsDisposed=function(){return a.isDisposed},this.State=function(){return a.connectionMessageAdapter.State},this.Open=function(){return a.connectionMessageAdapter.Open()},this.Send=function(e){return a.connectionMessageAdapter.Send(e)},this.Read=function(){return a.connectionMessageAdapter.Read()},!e)throw new o.ArgumentNullError("uri");if(!s)throw new o.ArgumentNullError("messageFormatter");this.messageFormatter=s;var c="",u=0;if(t)for(var l in t)if(l){c+=0===u?"?":"&";var d=encodeURIComponent(t[l]);c+=l+"="+d,u++}if(r)for(var p in r)if(p){c+=0===u?"?":"&";var d=encodeURIComponent(r[p]);c+=p+"="+d,u++}this.uri=e+c,this.id=i||o.CreateNoDashGuid(),this.connectionMessageAdapter=new n.WebsocketMessageAdapter(this.uri,this.Id,this.messageFormatter)}return Object.defineProperty(e.prototype,"Id",{get:function(){return this.id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Events",{get:function(){return this.connectionMessageAdapter.Events},enumerable:!0,configurable:!0}),e}();t.WebsocketConnection=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(3),n=r(5),s=function(e){function t(t,r,o){void 0===o&&(o=n.EventType.Info);var s=e.call(this,t,o)||this;return s.audioSourceId=r,s}return o.__extends(t,e),Object.defineProperty(t.prototype,"AudioSourceId",{get:function(){return this.audioSourceId},enumerable:!0,configurable:!0}),t}(n.PlatformEvent);t.AudioSourceEvent=s;var i=function(e){function t(t){return e.call(this,"AudioSourceInitializingEvent",t)||this}return o.__extends(t,e),t}(s);t.AudioSourceInitializingEvent=i;var a=function(e){function t(t){return e.call(this,"AudioSourceReadyEvent",t)||this}return o.__extends(t,e),t}(s);t.AudioSourceReadyEvent=a;var c=function(e){function t(t){return e.call(this,"AudioSourceOffEvent",t)||this}return o.__extends(t,e),t}(s);t.AudioSourceOffEvent=c;var u=function(e){function t(t,r){var o=e.call(this,"AudioSourceErrorEvent",t,n.EventType.Error)||this;return o.error=r,o}return o.__extends(t,e),Object.defineProperty(t.prototype,"Error",{get:function(){return this.error},enumerable:!0,configurable:!0}),t}(s);t.AudioSourceErrorEvent=u;var l=function(e){function t(t,r,o){var n=e.call(this,t,r)||this;return n.audioNodeId=o,n}return o.__extends(t,e),Object.defineProperty(t.prototype,"AudioNodeId",{get:function(){return this.audioNodeId},enumerable:!0,configurable:!0}),t}(s);t.AudioStreamNodeEvent=l;var d=function(e){function t(t,r){return e.call(this,"AudioStreamNodeAttachingEvent",t,r)||this}return o.__extends(t,e),t}(l);t.AudioStreamNodeAttachingEvent=d;var p=function(e){function t(t,r){return e.call(this,"AudioStreamNodeAttachedEvent",t,r)||this}return o.__extends(t,e),t}(l);t.AudioStreamNodeAttachedEvent=p;var h=function(e){function t(t,r){return e.call(this,"AudioStreamNodeDetachedEvent",t,r)||this}return o.__extends(t,e),t}(l);t.AudioStreamNodeDetachedEvent=h;var f=function(e){function t(t,r,o){var n=e.call(this,"AudioStreamNodeErrorEvent",t,r)||this;return n.error=o,n}return o.__extends(t,e),Object.defineProperty(t.prototype,"Error",{get:function(){return this.error},enumerable:!0,configurable:!0}),t}(l);t.AudioStreamNodeErrorEvent=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(3),n=r(5),s=function(e){function t(t,r,o){void 0===o&&(o=n.EventType.Info);var s=e.call(this,t,o)||this;return s.connectionId=r,s}return o.__extends(t,e),Object.defineProperty(t.prototype,"ConnectionId",{get:function(){return this.connectionId},enumerable:!0,configurable:!0}),t}(n.PlatformEvent);t.ConnectionEvent=s;var i=function(e){function t(t,r,o){var n=e.call(this,"ConnectionStartEvent",t)||this;return n.uri=r,n.headers=o,n}return o.__extends(t,e),Object.defineProperty(t.prototype,"Uri",{get:function(){return this.uri},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Headers",{get:function(){return this.headers},enumerable:!0,configurable:!0}),t}(s);t.ConnectionStartEvent=i;var a=function(e){function t(t,r){return e.call(this,"ConnectionEstablishedEvent",t)||this}return o.__extends(t,e),t}(s);t.ConnectionEstablishedEvent=a;var c=function(e){function t(t,r,o){var s=e.call(this,"ConnectionClosedEvent",t,n.EventType.Warning)||this;return s.reason=o,s.statusCode=r,s}return o.__extends(t,e),Object.defineProperty(t.prototype,"Reason",{get:function(){return this.reason},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"StatusCode",{get:function(){return this.statusCode},enumerable:!0,configurable:!0}),t}(s);t.ConnectionClosedEvent=c;var u=function(e){function t(t,r,o){var s=e.call(this,"ConnectionEstablishErrorEvent",t,n.EventType.Error)||this;return s.statusCode=r,s.reason=o,s}return o.__extends(t,e),Object.defineProperty(t.prototype,"Reason",{get:function(){return this.reason},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"StatusCode",{get:function(){return this.statusCode},enumerable:!0,configurable:!0}),t}(s);t.ConnectionEstablishErrorEvent=u;var l=function(e){function t(t,r,o){var n=e.call(this,"ConnectionMessageReceivedEvent",t)||this;return n.networkReceivedTime=r,n.message=o,n}return o.__extends(t,e),Object.defineProperty(t.prototype,"NetworkReceivedTime",{get:function(){return this.networkReceivedTime},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Message",{get:function(){return this.message},enumerable:!0,configurable:!0}),t}(s);t.ConnectionMessageReceivedEvent=l;var d=function(e){function t(t,r,o){var n=e.call(this,"ConnectionMessageSentEvent",t)||this;return n.networkSentTime=r,n.message=o,n}return o.__extends(t,e),Object.defineProperty(t.prototype,"NetworkSentTime",{get:function(){return this.networkSentTime},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Message",{get:function(){return this.message},enumerable:!0,configurable:!0}),t}(s);t.ConnectionMessageSentEvent=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){this.statusCode=e,this.reason=t}return Object.defineProperty(e.prototype,"StatusCode",{get:function(){return this.statusCode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Reason",{get:function(){return this.reason},enumerable:!0,configurable:!0}),e}();t.ConnectionOpenResponse=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),n=r(11),s=function(){function e(){}return Object.defineProperty(e,"Instance",{get:function(){return e.instance},enumerable:!0,configurable:!0}),e}();s.instance=new n.EventSource,s.SetEventSource=function(e){if(!e)throw new o.ArgumentNullError("eventSource");s.instance=e},t.Events=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.None=0]="None",e[e.Connected=1]="Connected",e[e.Connecting=2]="Connecting",e[e.Disconnected=3]="Disconnected"}(t.ConnectionState||(t.ConnectionState={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(10),n=r(1),s=r(2),i=function(){function e(e,t,r){if(this.payload=null,!t)throw new n.ArgumentNullError("payload");if(e===o.MessageType.Binary&&!(t instanceof ArrayBuffer))throw new n.InvalidOperationError("Payload must be ArrayBuffer");if(e===o.MessageType.Text&&"string"!=typeof t)throw new n.InvalidOperationError("Payload must be a string");this.messageType=e,this.payload=t,this.id=r||s.CreateNoDashGuid()}return Object.defineProperty(e.prototype,"MessageType",{get:function(){return this.messageType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Payload",{get:function(){return this.payload},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"TextContent",{get:function(){if(this.messageType===o.MessageType.Binary)throw new n.InvalidOperationError("Not supported for binary message");return this.payload},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"BinaryContent",{get:function(){if(this.messageType===o.MessageType.Text)throw new n.InvalidOperationError("Not supported for text message");return this.payload},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Id",{get:function(){return this.id},enumerable:!0,configurable:!0}),e}();t.RawWebsocketMessage=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t){var r=this;this.channelCount=1,this.Encode=function(e,t){var o=r.DownSampleAudioFrame(t,r.actualSampleRate,r.desiredSampleRate);if(!o)return null;var n=2*o.length;if(!e){var s=new ArrayBuffer(n),i=new DataView(s);return r.FloatTo16BitPCM(i,0,o),s}var a=new ArrayBuffer(44+n),c=new DataView(a);return r.SetString(c,0,"RIFF"),c.setUint32(4,0,!0),r.SetString(c,8,"WAVEfmt "),c.setUint32(16,16,!0),c.setUint16(20,1,!0),c.setUint16(22,r.channelCount,!0),c.setUint32(24,r.desiredSampleRate,!0),c.setUint32(28,r.desiredSampleRate*r.channelCount*2,!0),c.setUint16(32,2*r.channelCount,!0),c.setUint16(34,16,!0),r.SetString(c,36,"data"),c.setUint32(40,0,!0),r.FloatTo16BitPCM(c,44,o),a},this.SetString=function(e,t,r){for(var o=0;o<r.length;o++)e.setUint8(t+o,r.charCodeAt(o))},this.FloatTo16BitPCM=function(e,t,r){for(var o=0;o<r.length;o++,t+=2){var n=Math.max(-1,Math.min(1,r[o]));e.setInt16(t,n<0?32768*n:32767*n,!0)}},this.DownSampleAudioFrame=function(e,t,r){if(r===t||r>t)return e;for(var o=t/r,n=Math.round(e.length/o),s=new Float32Array(n),i=0,a=0;a<n;){for(var c=Math.round((a+1)*o),u=0,l=0;i<c&&i<e.length;)u+=e[i++],l++;s[a++]=u/l}return s},this.actualSampleRate=e,this.desiredSampleRate=t};t.RiffPcmEncoder=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),n=r(12),s=function(){function e(){}return Object.defineProperty(e,"Session",{get:function(){return e.sessionStorage},enumerable:!0,configurable:!0}),Object.defineProperty(e,"Local",{get:function(){return e.localStorage},enumerable:!0,configurable:!0}),e}();s.sessionStorage=new n.InMemoryStorage,s.localStorage=new n.InMemoryStorage,s.SetSessionStorage=function(e){if(!e)throw new o.ArgumentNullError("sessionStorage");s.sessionStorage=e},s.SetLocalStorage=function(e){if(!e)throw new o.ArgumentNullError("localStorage");s.localStorage=e},t.Storage=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),n=r(2),s=r(15),i=function(){function e(e){var t=this;this.readerIdCounter=1,this.isEnded=!1,this.Write=function(e){t.ThrowIfClosed(),t.WriteStreamChunk({Buffer:e,IsEnd:!1})},this.GetReader=function(){var e=t.readerIdCounter;t.readerIdCounter++;var r=new s.Queue,o=t.streambuffer.length;t.readerQueues[e]=r;for(var n=0;n<o;n++)r.Enqueue(t.streambuffer[n]);return new a(t.id,r,function(){delete t.readerQueues[e]})},this.Close=function(){t.isEnded||(t.WriteStreamChunk({Buffer:null,IsEnd:!0}),t.isEnded=!0)},this.WriteStreamChunk=function(e){for(var r in t.ThrowIfClosed(),t.streambuffer.push(e),t.readerQueues)if(!t.readerQueues[r].IsDisposed())try{t.readerQueues[r].Enqueue(e)}catch(e){}},this.ThrowIfClosed=function(){if(t.isEnded)throw new o.InvalidOperationError("Stream closed")},this.id=e||n.CreateNoDashGuid(),this.streambuffer=[],this.readerQueues={}}return Object.defineProperty(e.prototype,"IsClosed",{get:function(){return this.isEnded},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Id",{get:function(){return this.id},enumerable:!0,configurable:!0}),e}();t.Stream=i;var a=function(){function e(e,t,r){var n=this;this.isClosed=!1,this.Read=function(){if(n.IsClosed)throw new o.InvalidOperationError("StreamReader closed");return n.readerQueue.Dequeue().OnSuccessContinueWith(function(e){return e.IsEnd&&n.readerQueue.Dispose("End of stream reached"),e})},this.Close=function(){n.isClosed||(n.isClosed=!0,n.readerQueue.Dispose("StreamReader closed"),n.onClose())},this.readerQueue=t,this.onClose=r,this.streamId=e}return Object.defineProperty(e.prototype,"IsClosed",{get:function(){return this.isClosed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"StreamId",{get:function(){return this.streamId},enumerable:!0,configurable:!0}),e}();t.StreamReader=a},function(e,t,r){"use strict";function o(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),o(r(50)),o(r(16))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(4),n=r(6),s=r(16);t.CreateRecognizer=function(e,t){return i(e,t)};var i=function(e,t){return a(e,t,new o.MicAudioSource(new o.PcmRecorder))};t.CreateRecognizerWithPcmRecorder=i,t.CreateRecognizerWithFileAudioSource=function(e,t,r){return a(e,t,new o.FileAudioSource(r))};var a=function(e,t,r){return new n.Recognizer(t,new s.SpeechConnectionFactory,r,e)};t.CreateRecognizerWithCustomAudioSource=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),n=r(7),s="Ocp-Apim-Subscription-Key",i=function(e){var t=this;if(this.Fetch=function(e){return o.PromiseHelper.FromResult(t.authInfo)},this.FetchOnExpiry=function(e){return o.PromiseHelper.FromResult(t.authInfo)},!e)throw new o.ArgumentNullError("subscriptionKey");this.authInfo=new n.AuthInfo(s,e)};t.CognitiveSubscriptionKeyAuthentication=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),n=r(7),s="Authorization",i=function(e,t){var r=this;if(this.Fetch=function(e){return r.fetchCallback(e).OnSuccessContinueWith(function(e){return new n.AuthInfo(s,e)})},this.FetchOnExpiry=function(e){return r.fetchOnExpiryCallback(e).OnSuccessContinueWith(function(e){return new n.AuthInfo(s,e)})},!e)throw new o.ArgumentNullError("fetchCallback");if(!t)throw new o.ArgumentNullError("fetchOnExpiryCallback");this.fetchCallback=e,this.fetchOnExpiryCallback=t};t.CognitiveTokenAuthentication=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),n=r(8),s=r(17),i=r(55),a=r(56),c=function(){function e(e,t,r,n){var i=this;if(this.Recognize=function(e,t){var r=new u(i.audioSource.Id(),e);return r.ListenForServiceTelemetry(i.audioSource.Events),i.audioSource.Attach(r.AudioNodeId).ContinueWithPromise(function(e){if(e.IsError)throw r.OnAudioSourceAttachCompleted(null,!0,e.Error),new Error(e.Error);r.OnAudioSourceAttachCompleted(e.Result,!1);var n=e.Result;return i.FetchConnection(r).OnSuccessContinueWith(function(e){var s=i.ReceiveMessage(e,r),a=i.SendSpeechConfig(r.RequestId,e,i.recognizerConfig.SpeechConfig.Serialize()).OnSuccessContinueWithPromise(function(o){return i.SendSpeechContext(r.RequestId,e,t).OnSuccessContinueWithPromise(function(t){return i.SendAudio(r.RequestId,e,n,r)})}),c=o.PromiseHelper.WhenAll([s,a]);return c.On(function(t){r.Dispose(),i.SendTelemetryData(r.RequestId,e,r.GetTelemetry())},function(t){r.Dispose(t),i.SendTelemetryData(r.RequestId,e,r.GetTelemetry())}),c}),r.CompletionPromise})},this.FetchConnection=function(e,t){if(void 0===t&&(t=!1),i.connectionFetchPromise)return i.connectionFetchPromise.Result().IsError||i.connectionFetchPromise.Result().Result.State()===o.ConnectionState.Disconnected?(i.connectionId=null,i.connectionFetchPromise=null,i.FetchConnection(e)):(e.OnPreConnectionStart(i.authFetchEventId,i.connectionId),e.OnConnectionEstablishCompleted(200),e.ListenForServiceTelemetry(i.connectionFetchPromise.Result().Result.Events),i.connectionFetchPromise);i.authFetchEventId=o.CreateNoDashGuid(),i.connectionId=o.CreateNoDashGuid(),e.OnPreConnectionStart(i.authFetchEventId,i.connectionId);var r=t?i.authentication.FetchOnExpiry(i.authFetchEventId):i.authentication.Fetch(i.authFetchEventId);return i.connectionFetchPromise=r.ContinueWithPromise(function(r){if(r.IsError)throw e.OnAuthCompleted(!0,r.Error),new Error(r.Error);e.OnAuthCompleted(!1);var n=i.connectionFactory.Create(i.recognizerConfig,r.Result,i.connectionId);return e.ListenForServiceTelemetry(n.Events),n.Open().OnSuccessContinueWithPromise(function(r){return 200===r.StatusCode?(e.OnConnectionEstablishCompleted(r.StatusCode),o.PromiseHelper.FromResult(n)):403!==r.StatusCode||t?(e.OnConnectionEstablishCompleted(r.StatusCode,r.Reason),o.PromiseHelper.FromError("Unable to contact server. StatusCode: "+r.StatusCode+", Reason: "+r.Reason)):i.FetchConnection(e,!0)})}),i.connectionFetchPromise},this.ReceiveMessage=function(e,t){return e.Read().OnSuccessContinueWithPromise(function(r){var n=a.SpeechConnectionMessage.FromConnectionMessage(r);if(n.RequestId.toLowerCase()===t.RequestId.toLowerCase())switch(n.Path.toLowerCase()){case"turn.start":t.OnServiceTurnStartResponse(JSON.parse(n.TextBody));break;case"speech.startDetected":t.OnServiceSpeechStartDetectedResponse(JSON.parse(n.TextBody));break;case"speech.hypothesis":t.OnServiceSpeechHypothesisResponse(JSON.parse(n.TextBody));break;case"speech.fragment":t.OnServiceSpeechFragmentResponse(JSON.parse(n.TextBody));break;case"speech.enddetected":t.OnServiceSpeechEndDetectedResponse(JSON.parse(n.TextBody));break;case"speech.phrase":i.recognizerConfig.IsContinuousRecognition&&i.SendTelemetryData(t.RequestId,e,t.GetTelemetry()),i.recognizerConfig.Format===s.SpeechResultFormat.Simple?t.OnServiceSimpleSpeechPhraseResponse(JSON.parse(n.TextBody)):t.OnServiceDetailedSpeechPhraseResponse(JSON.parse(n.TextBody));break;case"turn.end":return t.OnServiceTurnEndResponse(),o.PromiseHelper.FromResult(!0)}return i.ReceiveMessage(e,t)})},this.SendSpeechConfig=function(e,t,r){return r&&i.connectionId!==i.speechConfigConnectionId?(i.speechConfigConnectionId=i.connectionId,t.Send(new a.SpeechConnectionMessage(o.MessageType.Text,"speech.config",e,"application/json",r))):o.PromiseHelper.FromResult(!0)},this.SendSpeechContext=function(e,t,r){return r?t.Send(new a.SpeechConnectionMessage(o.MessageType.Text,"speech.context",e,"application/json",r)):o.PromiseHelper.FromResult(!0)},this.SendTelemetryData=function(e,t,r){return t.Send(new a.SpeechConnectionMessage(o.MessageType.Text,"telemetry",e,"application/json",r))},this.SendAudio=function(e,t,r,n){var s=new o.Deferred,i=function(c){r.Read().On(function(r){if(n.IsSpeechEnded)s.Resolve(!0);else{var c=r.IsEnd?null:r.Buffer,u=t.Send(new a.SpeechConnectionMessage(o.MessageType.Binary,"audio",e,null,c));r.IsEnd?s.Resolve(!0):u.OnSuccessContinueWith(i)}},function(e){n.IsSpeechEnded?s.Resolve(!0):s.Reject(e)})};return i(!0),s.Promise()},!e)throw new o.ArgumentNullError("authentication");if(!t)throw new o.ArgumentNullError("connectionFactory");if(!r)throw new o.ArgumentNullError("audioSource");if(!n)throw new o.ArgumentNullError("recognizerConfig");this.authentication=e,this.connectionFactory=t,this.audioSource=r,this.recognizerConfig=n}return Object.defineProperty(e.prototype,"AudioSource",{get:function(){return this.audioSource},enumerable:!0,configurable:!0}),e}();t.Recognizer=c;var u=function(){function e(e,t){var r=this;this.isDisposed=!1,this.detachables=new Array,this.isAudioNodeDetached=!1,this.isCompleted=!1,this.OnAudioSourceAttachCompleted=function(e,t,o){r.audioNode=e,t?r.OnComplete(n.RecognitionCompletionStatus.AudioSourceError,o):r.OnEvent(new n.ListeningStartedEvent(r.requestId,r.audioSourceId,r.audioNodeId))},this.OnPreConnectionStart=function(e,t){r.authFetchEventId=e,r.connectionId=t,r.OnEvent(new n.ConnectingToServiceEvent(r.requestId,r.authFetchEventId,r.connectionId))},this.OnAuthCompleted=function(e,t){e&&r.OnComplete(n.RecognitionCompletionStatus.AuthTokenFetchError,t)},this.OnConnectionEstablishCompleted=function(e,t){200!==e?403===e?r.OnComplete(n.RecognitionCompletionStatus.UnAuthorized,t):r.OnComplete(n.RecognitionCompletionStatus.ConnectError,t):r.OnEvent(new n.RecognitionStartedEvent(r.RequestId,r.audioSourceId,r.audioNodeId,r.authFetchEventId,r.connectionId))},this.OnServiceTurnStartResponse=function(e){e&&e.context&&e.context.serviceTag&&(r.serviceTag=e.context.serviceTag)},this.OnServiceSpeechStartDetectedResponse=function(e){r.OnEvent(new n.SpeechStartDetectedEvent(r.RequestId,e))},this.OnServiceSpeechHypothesisResponse=function(e){r.OnEvent(new n.SpeechHypothesisEvent(r.RequestId,e))},this.OnServiceSpeechFragmentResponse=function(e){r.OnEvent(new n.SpeechFragmentEvent(r.RequestId,e))},this.OnServiceSpeechEndDetectedResponse=function(e){r.DetachAudioNode(),r.OnEvent(new n.SpeechEndDetectedEvent(r.RequestId,e))},this.OnServiceSimpleSpeechPhraseResponse=function(e){r.OnEvent(new n.SpeechSimplePhraseEvent(r.RequestId,e))},this.OnServiceDetailedSpeechPhraseResponse=function(e){r.OnEvent(new n.SpeechDetailedPhraseEvent(r.RequestId,e))},this.OnServiceTurnEndResponse=function(){r.OnComplete(n.RecognitionCompletionStatus.Success)},this.OnConnectionError=function(e){r.OnComplete(n.RecognitionCompletionStatus.UnknownError,e)},this.Dispose=function(e){if(!r.isDisposed){r.OnComplete(n.RecognitionCompletionStatus.UnknownError,e),r.isDisposed=!0;for(var t=0,o=r.detachables;t<o.length;t++)o[t].Detach();r.serviceTelemetryListener.Dispose()}},this.GetTelemetry=function(){return r.serviceTelemetryListener.GetTelemetry()},this.OnComplete=function(e,t){r.isCompleted||(r.isCompleted=!0,r.DetachAudioNode(),r.OnEvent(new n.RecognitionEndedEvent(r.RequestId,r.audioSourceId,r.audioNodeId,r.authFetchEventId,r.connectionId,r.serviceTag,e,t||"")))},this.DetachAudioNode=function(){r.isAudioNodeDetached||(r.isAudioNodeDetached=!0,r.audioNode&&r.audioNode.Detach())},this.OnEvent=function(e){r.serviceTelemetryListener.OnEvent(e),o.Events.Instance.OnEvent(e),r.onEventCallback&&r.onEventCallback(e)},this.audioSourceId=e,this.onEventCallback=t,this.requestId=o.CreateNoDashGuid(),this.audioNodeId=o.CreateNoDashGuid(),this.requestCompletionDeferral=new o.Deferred,this.serviceTelemetryListener=new i.ServiceTelemetryListener(this.requestId,this.audioSourceId,this.audioNodeId),this.OnEvent(new n.RecognitionTriggeredEvent(this.RequestId,this.audioSourceId,this.audioNodeId))}return Object.defineProperty(e.prototype,"RequestId",{get:function(){return this.requestId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"AudioNodeId",{get:function(){return this.audioNodeId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"CompletionPromise",{get:function(){return this.requestCompletionDeferral.Promise()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"IsSpeechEnded",{get:function(){return this.isAudioNodeDetached},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"IsCompleted",{get:function(){return this.isCompleted},enumerable:!0,configurable:!0}),e.prototype.ListenForServiceTelemetry=function(e){this.detachables.push(e.AttachListener(this.serviceTelemetryListener))},e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),n=r(8),s=function(e,t,r){var s=this;this.isDisposed=!1,this.listeningTriggerMetric=null,this.micMetric=null,this.connectionEstablishMetric=null,this.OnEvent=function(e){s.isDisposed||(e instanceof n.RecognitionTriggeredEvent&&e.RequestId===s.requestId&&(s.listeningTriggerMetric={End:e.EventTime,Name:"ListeningTrigger",Start:e.EventTime}),e instanceof o.AudioStreamNodeAttachingEvent&&e.AudioSourceId===s.audioSourceId&&e.AudioNodeId===s.audioNodeId&&(s.micStartTime=e.EventTime),e instanceof o.AudioStreamNodeAttachedEvent&&e.AudioSourceId===s.audioSourceId&&e.AudioNodeId===s.audioNodeId&&(s.micStartTime=e.EventTime),e instanceof o.AudioSourceErrorEvent&&e.AudioSourceId===s.audioSourceId&&(s.micMetric||(s.micMetric={End:e.EventTime,Error:e.Error,Name:"Microphone",Start:s.micStartTime})),e instanceof o.AudioStreamNodeErrorEvent&&e.AudioSourceId===s.audioSourceId&&e.AudioNodeId===s.audioNodeId&&(s.micMetric||(s.micMetric={End:e.EventTime,Error:e.Error,Name:"Microphone",Start:s.micStartTime})),e instanceof o.AudioStreamNodeDetachedEvent&&e.AudioSourceId===s.audioSourceId&&e.AudioNodeId===s.audioNodeId&&(s.micMetric||(s.micMetric={End:e.EventTime,Name:"Microphone",Start:s.micStartTime})),e instanceof n.ConnectingToServiceEvent&&e.RequestId===s.requestId&&(s.connectionId=e.ConnectionId),e instanceof o.ConnectionStartEvent&&e.ConnectionId===s.connectionId&&(s.connectionStartTime=e.EventTime),e instanceof o.ConnectionEstablishedEvent&&e.ConnectionId===s.connectionId&&(s.connectionEstablishMetric||(s.connectionEstablishMetric={End:e.EventTime,Id:s.connectionId,Name:"Connection",Start:s.connectionStartTime})),e instanceof o.ConnectionEstablishErrorEvent&&e.ConnectionId===s.connectionId&&(s.connectionEstablishMetric||(s.connectionEstablishMetric={End:e.EventTime,Error:s.GetConnectionError(e.StatusCode),Id:s.connectionId,Name:"Connection",Start:s.connectionStartTime})),e instanceof o.ConnectionMessageReceivedEvent&&e.ConnectionId===s.connectionId&&e.Message&&e.Message.Headers&&e.Message.Headers.path&&(s.receivedMessages[e.Message.Headers.path]||(s.receivedMessages[e.Message.Headers.path]=new Array),s.receivedMessages[e.Message.Headers.path].push(e.NetworkReceivedTime)))},this.GetTelemetry=function(){var e=new Array;s.listeningTriggerMetric&&e.push(s.listeningTriggerMetric),s.micMetric&&e.push(s.micMetric),s.connectionEstablishMetric&&e.push(s.connectionEstablishMetric);var t={Metrics:e,ReceivedMessages:s.receivedMessages},r=JSON.stringify(t);return s.receivedMessages={},s.listeningTriggerMetric=null,s.micMetric=null,s.connectionEstablishMetric=null,r},this.Dispose=function(){s.isDisposed=!0},this.GetConnectionError=function(e){switch(e){case 400:case 1002:case 1003:case 1005:case 1007:case 1008:case 1009:return"BadRequest";case 401:return"Unauthorized";case 403:return"Forbidden";case 503:case 1001:return"ServerUnavailable";case 500:case 1011:return"ServerError";case 408:case 504:return"Timeout";default:return"statuscode:"+e.toString()}},this.requestId=e,this.audioSourceId=t,this.audioNodeId=r,this.receivedMessages={}};t.ServiceTelemetryListener=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(3),n=r(0),s="path",i="content-type",a="x-requestid",c="x-timestamp",u=function(e){function t(t,r,o,u,l,d,p){var h=this;if(!r)throw new n.ArgumentNullError("path");if(!o)throw new n.ArgumentNullError("requestId");var f={};if(f[s]=r,f[a]=o,f[c]=(new Date).toISOString(),u&&(f[i]=u),d)for(var m in d)m&&(f[m]=d[m]);return(h=p?e.call(this,t,l,f,p)||this:e.call(this,t,l,f)||this).path=r,h.requestId=o,h.contentType=u,h.additionalHeaders=d,h}return o.__extends(t,e),Object.defineProperty(t.prototype,"Path",{get:function(){return this.path},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"RequestId",{get:function(){return this.requestId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ContentType",{get:function(){return this.contentType},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"AdditionalHeaders",{get:function(){return this.additionalHeaders},enumerable:!0,configurable:!0}),t}(n.ConnectionMessage);u.FromConnectionMessage=function(e){var t=null,r=null,o=null,n={};if(e.Headers)for(var l in e.Headers)l&&(l.toLowerCase()===s.toLowerCase()?t=e.Headers[l]:l.toLowerCase()===a.toLowerCase()?r=e.Headers[l]:l.toLowerCase()===c.toLowerCase()?e.Headers[l]:l.toLowerCase()===i.toLowerCase()?o=e.Headers[l]:n[l]=e.Headers[l]);return new u(e.MessageType,t,r,o,e.Body,n,e.Id)},t.SpeechConnectionMessage=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.Success=0]="Success",e[e.NoMatch=1]="NoMatch",e[e.InitialSilenceTimeout=2]="InitialSilenceTimeout",e[e.BabbleTimeout=3]="BabbleTimeout",e[e.Error=4]="Error",e[e.EndOfDictation=5]="EndOfDictation"}(t.RecognitionStatus||(t.RecognitionStatus={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),n="\r\n",s=function(){var e=this;this.ToConnectionMessage=function(t){var r=new o.Deferred;try{if(t.MessageType===o.MessageType.Text){var n=t.TextContent,s={},i=null;if(n){var a=n.split("\r\n\r\n");a&&a.length>0&&(s=e.ParseHeaders(a[0]),a.length>1&&(i=a[1]))}r.Resolve(new o.ConnectionMessage(t.MessageType,i,s,t.Id))}else if(t.MessageType===o.MessageType.Binary){var c=t.BinaryContent,s={},i=null;if(!c||c.byteLength<2)throw new Error("Invalid binary message format. Header length missing.");var u=new DataView(c),l=u.getInt16(0);if(c.byteLength<l+2)throw new Error("Invalid binary message format. Header content missing.");for(var d="",p=0;p<l;p++)d+=String.fromCharCode(u.getInt8(p+2));s=e.ParseHeaders(d),c.byteLength>l+2&&(i=c.slice(2+l)),r.Resolve(new o.ConnectionMessage(t.MessageType,i,s,t.Id))}}catch(e){r.Reject("Error formatting the message. Error: "+e)}return r.Promise()},this.FromConnectionMessage=function(t){var r=new o.Deferred;try{if(t.MessageType===o.MessageType.Text){var s=""+e.MakeHeaders(t)+n+(t.TextBody?t.TextBody:"");r.Resolve(new o.RawWebsocketMessage(o.MessageType.Text,s,t.Id))}else if(t.MessageType===o.MessageType.Binary){var i=e.MakeHeaders(t),a=t.BinaryBody,c=new Int8Array(e.StringToArrayBuffer(i)),s=new ArrayBuffer(2+c.byteLength+(a?a.byteLength:0)),u=new DataView(s);u.setInt16(0,c.length);for(var l=0;l<c.byteLength;l++)u.setInt8(2+l,c[l]);if(a)for(var d=new Int8Array(a),l=0;l<d.byteLength;l++)u.setInt8(2+c.byteLength+l,d[l]);r.Resolve(new o.RawWebsocketMessage(o.MessageType.Binary,s,t.Id))}}catch(e){r.Reject("Error formatting the message. "+e)}return r.Promise()},this.MakeHeaders=function(e){var t="";if(e.Headers)for(var r in e.Headers)r&&(t+=r+": "+e.Headers[r]+n);return t},this.ParseHeaders=function(e){var t={};if(e){var r=e.match(/[^\r\n]+/g);if(t)for(var o=0,n=r;o<n.length;o++){var s=n[o];if(s){var i=s.indexOf(":"),a=i>0?s.substr(0,i).trim().toLowerCase():s,c=i>0&&s.length>i+1?s.substr(i+1).trim():"";t[a]=c}}}return t},this.StringToArrayBuffer=function(e){for(var t=new ArrayBuffer(e.length),r=new DataView(t),o=0;o<e.length;o++)r.setUint8(o,e.charCodeAt(o));return t}};t.WebsocketMessageFormatter=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(19);t.SpeechRecognizer=o.SpeechRecognizer;var n=r(20);t.SpeechSynthesizer=n.SpeechSynthesizer,t.SynthesisGender=n.SynthesisGender},function(e,t,r){"use strict";function o(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function e(t,r,i){if(!Array.isArray(r))throw new Error("path must be an array");if(!r.length)return i(t);var a=(r=r.slice()).shift(),c=void 0!==t&&t[a],u=t;if("string"!=typeof a||"object"===(void 0===u?"undefined":s(u))&&!Array.isArray(u)?"number"!=typeof a||Array.isArray(u)||(u=[]):u={},"number"==typeof a){if(i||r.length){if(-1===a)return[].concat(o(u),[e([],r,i)]);var l=e(c,r,i);if(void 0!==l)return l===c?t:((u=[].concat(o(u)))[a]=l,u)}return a in u&&(u=[].concat(o(u))).splice(a,1),u}if(i||r.length){var d=e(c,r,i);if(void 0!==d)return d===c?t:n({},u,function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},a,d))}return a in u&&delete(u=n({},u))[a],u}},function(e,t){e.exports={import:function(){throw new Error("System.import cannot be used indirectly")}}}])},"../../../node_modules/botframework-webchat/adaptivecards-hostconfig.json":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/botframework-webchat/adaptivecards-hostconfig.json")},"../../../node_modules/botframework-webchat/built/App.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r("../../../node_modules/botframework-webchat/node_modules/tslib/tslib.es6.js"),n=r("../../../node_modules/botframework-webchat/node_modules/react/react.js"),s=r("../../../node_modules/botframework-webchat/node_modules/react-dom/index.js"),i=r("../../../node_modules/botframework-webchat/built/Chat.js"),a=r("../../../node_modules/botframework-webchat/built/Konsole.js");t.App=function(e,t){a.log("BotChat.App props",e),s.render(n.createElement(c,e),t)};var c=function(e){return n.createElement("div",{className:"wc-app"},n.createElement(i.Chat,o.__assign({},e)))}},"../../../node_modules/botframework-webchat/built/Attachment.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/botframework-webchat/built/Attachment.js")},"../../../node_modules/botframework-webchat/built/BotChat.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r("../../../node_modules/botframework-webchat/built/App.js");t.App=o.App;var n=r("../../../node_modules/botframework-webchat/built/Chat.js");t.Chat=n.Chat,function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r("../../../node_modules/botframework-directlinejs/built/directLine.js"));var s=r("../../../node_modules/botframework-webchat/built/Attachment.js");t.queryParams=s.queryParams;var i=r("../../../node_modules/botframework-webchat/built/SpeechOptions.js");t.SpeechOptions=i.SpeechOptions;var a=r("../../../node_modules/botframework-webchat/built/SpeechModule.js");t.Speech=a.Speech},"../../../node_modules/botframework-webchat/built/Chat.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/botframework-webchat/built/Chat.js")},"../../../node_modules/botframework-webchat/built/Konsole.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/botframework-webchat/built/Konsole.js")},"../../../node_modules/botframework-webchat/built/SpeechModule.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/botframework-webchat/built/SpeechModule.js")},"../../../node_modules/botframework-webchat/built/SpeechOptions.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){return function(){}}();t.SpeechOptions=o},"../../../node_modules/botframework-webchat/node_modules/react-dom/index.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/botframework-webchat/node_modules/react-dom/index.js")},"../../../node_modules/botframework-webchat/node_modules/react/react.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/botframework-webchat/node_modules/react/react.js")},"../../../node_modules/botframework-webchat/node_modules/tslib/tslib.es6.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/botframework-webchat/node_modules/tslib/tslib.es6.js")},"../../../node_modules/classnames/index.js":function(e,t,r){var o;
/*!
  Copyright (c) 2016 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
/*!
  Copyright (c) 2016 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){"use strict";var r={}.hasOwnProperty;function n(){for(var e=[],t=0;t<arguments.length;t++){var o=arguments[t];if(o){var s=typeof o;if("string"===s||"number"===s)e.push(o);else if(Array.isArray(o))e.push(n.apply(null,o));else if("object"===s)for(var i in o)r.call(o,i)&&o[i]&&e.push(i)}}return e.join(" ")}void 0!==e&&e.exports?e.exports=n:void 0===(o=function(){return n}.apply(t,[]))||(e.exports=o)}()},"../../../node_modules/jsonpath/index.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/jsonpath/index.js")},"../../../node_modules/msbot/bin/models/index.js":function(e,t,r){e.exports=r("dll-reference shared_8b81f721bafa34fac60d")("../../../node_modules/msbot/bin/models/index.js")},"../../../node_modules/msbot/bin/schema.js":function(e,t,r){e.exports=r("dll-reference shared_8b81f721bafa34fac60d")("../../../node_modules/msbot/bin/schema.js")},"../../../node_modules/office-ui-fabric-react/lib-commonjs/Spinner.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r("../../../node_modules/tslib/tslib.es6.js").__exportStar(r("../../../node_modules/office-ui-fabric-react/lib-commonjs/components/Spinner/index.js"),t)},"../../../node_modules/office-ui-fabric-react/lib-commonjs/Styling.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/office-ui-fabric-react/lib-commonjs/Styling.js")},"../../../node_modules/office-ui-fabric-react/lib-commonjs/Utilities.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/office-ui-fabric-react/lib-commonjs/Utilities.js")},"../../../node_modules/office-ui-fabric-react/lib-commonjs/components/Spinner/Spinner.base.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r("../../../node_modules/tslib/tslib.es6.js"),n=r("../../../node_modules/react/index.js"),s=r("../../../node_modules/office-ui-fabric-react/lib-commonjs/components/Spinner/Spinner.types.js"),i=r("../../../node_modules/office-ui-fabric-react/lib-commonjs/Utilities.js"),a=i.classNamesFunction(),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.type,r=e.size,c=e.ariaLabel,u=e.ariaLive,l=e.styles,d=e.label,p=e.theme,h=e.className,f=c||d,m=i.getNativeProps(this.props,i.divProperties,["size"]),b=r;void 0===b&&void 0!==t&&(b=t===s.SpinnerType.large?s.SpinnerSize.large:s.SpinnerSize.medium);var v=a(l,{theme:p,size:b,className:h});return n.createElement("div",o.__assign({},m,{className:v.root}),n.createElement("div",{className:v.circle}),d&&n.createElement("div",{className:v.label},d),f&&n.createElement("div",{role:"status","aria-live":u},n.createElement(i.DelayedRender,null,n.createElement("div",{className:v.screenReaderText},f))))},t.defaultProps={size:s.SpinnerSize.medium,ariaLive:"polite"},t=o.__decorate([i.customizable("Spinner",["theme"])],t)}(i.BaseComponent);t.SpinnerBase=c},"../../../node_modules/office-ui-fabric-react/lib-commonjs/components/Spinner/Spinner.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r("../../../node_modules/office-ui-fabric-react/lib-commonjs/Utilities.js"),n=r("../../../node_modules/office-ui-fabric-react/lib-commonjs/components/Spinner/Spinner.base.js"),s=r("../../../node_modules/office-ui-fabric-react/lib-commonjs/components/Spinner/Spinner.styles.js");t.Spinner=o.styled(n.SpinnerBase,s.getStyles)},"../../../node_modules/office-ui-fabric-react/lib-commonjs/components/Spinner/Spinner.styles.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r("../../../node_modules/office-ui-fabric-react/lib-commonjs/components/Spinner/Spinner.types.js"),n=r("../../../node_modules/office-ui-fabric-react/lib-commonjs/Styling.js"),s=n.keyframes({"0%":{transform:"rotateZ(0deg)"},"100%":{transform:"rotateZ(360deg)"}});t.getStyles=function(e){var t,r=e.theme,i=e.size,a=e.className,c=r.palette;return{root:["ms-Spinner",a],circle:["ms-Spinner-circle",{margin:"auto",boxSizing:"border-box",borderRadius:"50%",width:"100%",height:"100%",border:"1.5px solid "+c.themeLight,borderTopColor:c.themePrimary,animationName:s,animationDuration:"1.3s",animationIterationCount:"infinite",animationTimingFunction:"cubic-bezier(.53,.21,.29,.67)",selectors:(t={},t[n.HighContrastSelector]={borderTopColor:"Highlight"},t)},i===o.SpinnerSize.xSmall&&["ms-Spinner--xSmall",{width:12,height:12}],i===o.SpinnerSize.small&&["ms-Spinner--small",{width:16,height:16}],i===o.SpinnerSize.medium&&["ms-Spinner--medium",{width:20,height:20}],i===o.SpinnerSize.large&&["ms-Spinner--large",{width:28,height:28}]],label:["ms-Spinner-label",{color:c.themePrimary,marginTop:10,textAlign:"center"}],screenReaderText:n.hiddenContentStyle}}},"../../../node_modules/office-ui-fabric-react/lib-commonjs/components/Spinner/Spinner.types.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.xSmall=0]="xSmall",e[e.small=1]="small",e[e.medium=2]="medium",e[e.large=3]="large"}(t.SpinnerSize||(t.SpinnerSize={})),function(e){e[e.normal=0]="normal",e[e.large=1]="large"}(t.SpinnerType||(t.SpinnerType={}))},"../../../node_modules/office-ui-fabric-react/lib-commonjs/components/Spinner/index.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r("../../../node_modules/tslib/tslib.es6.js");o.__exportStar(r("../../../node_modules/office-ui-fabric-react/lib-commonjs/components/Spinner/Spinner.js"),t),o.__exportStar(r("../../../node_modules/office-ui-fabric-react/lib-commonjs/components/Spinner/Spinner.types.js"),t)},"../../../node_modules/react-dom/index.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/react-dom/index.js")},"../../../node_modules/react-hot-loader/dist/react-hot-loader.production.min.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,n=(o=r("../../../node_modules/react/index.js"))&&"object"==typeof o&&"default"in o?o.default:o,s=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},a=function(e){function t(){return s(this,t),i(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return n.Children.only(this.props.children)},t}(n.Component);t.AppContainer=a,t.hot=function(){return function(e){return e}},t.areComponentsEqual=function(e,t){return e===t},t.setConfig=function(){}},"../../../node_modules/react-hot-loader/index.js":function(e,t,r){"use strict";e.exports=r("../../../node_modules/react-hot-loader/dist/react-hot-loader.production.min.js")},"../../../node_modules/react-redux/es/index.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/react-redux/es/index.js")},"../../../node_modules/react/index.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/react/index.js")},"../../../node_modules/redux-promise-middleware/dist/es/index.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/redux-promise-middleware/dist/es/index.js")},"../../../node_modules/redux-saga/es/effects.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/redux-saga/es/effects.js")},"../../../node_modules/redux-saga/es/index.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/redux-saga/es/index.js")},"../../../node_modules/redux-thunk/lib/index.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/redux-thunk/lib/index.js")},"../../../node_modules/redux/es/index.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/redux/es/index.js")},"../../../node_modules/rxjs/AsyncSubject.js":function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=r("../../../node_modules/rxjs/Subject.js"),s=r("../../../node_modules/rxjs/Subscription.js"),i=function(e){function t(){e.apply(this,arguments),this.value=null,this.hasNext=!1,this.hasCompleted=!1}return o(t,e),t.prototype._subscribe=function(t){return this.hasError?(t.error(this.thrownError),s.Subscription.EMPTY):this.hasCompleted&&this.hasNext?(t.next(this.value),t.complete(),s.Subscription.EMPTY):e.prototype._subscribe.call(this,t)},t.prototype.next=function(e){this.hasCompleted||(this.value=e,this.hasNext=!0)},t.prototype.error=function(t){this.hasCompleted||e.prototype.error.call(this,t)},t.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&e.prototype.next.call(this,this.value),e.prototype.complete.call(this)},t}(n.Subject);t.AsyncSubject=i},"../../../node_modules/rxjs/BehaviorSubject.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/rxjs/BehaviorSubject.js")},"../../../node_modules/rxjs/Notification.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/rxjs/Notification.js")},"../../../node_modules/rxjs/Observable.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/rxjs/Observable.js")},"../../../node_modules/rxjs/OuterSubscriber.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/rxjs/OuterSubscriber.js")},"../../../node_modules/rxjs/ReplaySubject.js":function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=r("../../../node_modules/rxjs/Subject.js"),s=r("../../../node_modules/rxjs/scheduler/queue.js"),i=r("../../../node_modules/rxjs/Subscription.js"),a=r("../../../node_modules/rxjs/operators/observeOn.js"),c=r("../../../node_modules/rxjs/util/ObjectUnsubscribedError.js"),u=r("../../../node_modules/rxjs/SubjectSubscription.js"),l=function(e){function t(t,r,o){void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===r&&(r=Number.POSITIVE_INFINITY),e.call(this),this.scheduler=o,this._events=[],this._bufferSize=t<1?1:t,this._windowTime=r<1?1:r}return o(t,e),t.prototype.next=function(t){var r=this._getNow();this._events.push(new d(r,t)),this._trimBufferThenGetEvents(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){var t,r=this._trimBufferThenGetEvents(),o=this.scheduler;if(this.closed)throw new c.ObjectUnsubscribedError;this.hasError?t=i.Subscription.EMPTY:this.isStopped?t=i.Subscription.EMPTY:(this.observers.push(e),t=new u.SubjectSubscription(this,e)),o&&e.add(e=new a.ObserveOnSubscriber(e,o));for(var n=r.length,s=0;s<n&&!e.closed;s++)e.next(r[s].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t},t.prototype._getNow=function(){return(this.scheduler||s.queue).now()},t.prototype._trimBufferThenGetEvents=function(){for(var e=this._getNow(),t=this._bufferSize,r=this._windowTime,o=this._events,n=o.length,s=0;s<n&&!(e-o[s].time<r);)s++;return n>t&&(s=Math.max(s,n-t)),s>0&&o.splice(0,s),o},t}(n.Subject);t.ReplaySubject=l;var d=function(){return function(e,t){this.time=e,this.value=t}}()},"../../../node_modules/rxjs/Rx.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Subject.js");t.Subject=o.Subject,t.AnonymousSubject=o.AnonymousSubject;var n=r("../../../node_modules/rxjs/Observable.js");t.Observable=n.Observable,r("../../../node_modules/rxjs/add/observable/bindCallback.js"),r("../../../node_modules/rxjs/add/observable/bindNodeCallback.js"),r("../../../node_modules/rxjs/add/observable/combineLatest.js"),r("../../../node_modules/rxjs/add/observable/concat.js"),r("../../../node_modules/rxjs/add/observable/defer.js"),r("../../../node_modules/rxjs/add/observable/empty.js"),r("../../../node_modules/rxjs/add/observable/forkJoin.js"),r("../../../node_modules/rxjs/add/observable/from.js"),r("../../../node_modules/rxjs/add/observable/fromEvent.js"),r("../../../node_modules/rxjs/add/observable/fromEventPattern.js"),r("../../../node_modules/rxjs/add/observable/fromPromise.js"),r("../../../node_modules/rxjs/add/observable/generate.js"),r("../../../node_modules/rxjs/add/observable/if.js"),r("../../../node_modules/rxjs/add/observable/interval.js"),r("../../../node_modules/rxjs/add/observable/merge.js"),r("../../../node_modules/rxjs/add/observable/race.js"),r("../../../node_modules/rxjs/add/observable/never.js"),r("../../../node_modules/rxjs/add/observable/of.js"),r("../../../node_modules/rxjs/add/observable/onErrorResumeNext.js"),r("../../../node_modules/rxjs/add/observable/pairs.js"),r("../../../node_modules/rxjs/add/observable/range.js"),r("../../../node_modules/rxjs/add/observable/using.js"),r("../../../node_modules/rxjs/add/observable/throw.js"),r("../../../node_modules/rxjs/add/observable/timer.js"),r("../../../node_modules/rxjs/add/observable/zip.js"),r("../../../node_modules/rxjs/add/observable/dom/ajax.js"),r("../../../node_modules/rxjs/add/observable/dom/webSocket.js"),r("../../../node_modules/rxjs/add/operator/buffer.js"),r("../../../node_modules/rxjs/add/operator/bufferCount.js"),r("../../../node_modules/rxjs/add/operator/bufferTime.js"),r("../../../node_modules/rxjs/add/operator/bufferToggle.js"),r("../../../node_modules/rxjs/add/operator/bufferWhen.js"),r("../../../node_modules/rxjs/add/operator/catch.js"),r("../../../node_modules/rxjs/add/operator/combineAll.js"),r("../../../node_modules/rxjs/add/operator/combineLatest.js"),r("../../../node_modules/rxjs/add/operator/concat.js"),r("../../../node_modules/rxjs/add/operator/concatAll.js"),r("../../../node_modules/rxjs/add/operator/concatMap.js"),r("../../../node_modules/rxjs/add/operator/concatMapTo.js"),r("../../../node_modules/rxjs/add/operator/count.js"),r("../../../node_modules/rxjs/add/operator/dematerialize.js"),r("../../../node_modules/rxjs/add/operator/debounce.js"),r("../../../node_modules/rxjs/add/operator/debounceTime.js"),r("../../../node_modules/rxjs/add/operator/defaultIfEmpty.js"),r("../../../node_modules/rxjs/add/operator/delay.js"),r("../../../node_modules/rxjs/add/operator/delayWhen.js"),r("../../../node_modules/rxjs/add/operator/distinct.js"),r("../../../node_modules/rxjs/add/operator/distinctUntilChanged.js"),r("../../../node_modules/rxjs/add/operator/distinctUntilKeyChanged.js"),r("../../../node_modules/rxjs/add/operator/do.js"),r("../../../node_modules/rxjs/add/operator/exhaust.js"),r("../../../node_modules/rxjs/add/operator/exhaustMap.js"),r("../../../node_modules/rxjs/add/operator/expand.js"),r("../../../node_modules/rxjs/add/operator/elementAt.js"),r("../../../node_modules/rxjs/add/operator/filter.js"),r("../../../node_modules/rxjs/add/operator/finally.js"),r("../../../node_modules/rxjs/add/operator/find.js"),r("../../../node_modules/rxjs/add/operator/findIndex.js"),r("../../../node_modules/rxjs/add/operator/first.js"),r("../../../node_modules/rxjs/add/operator/groupBy.js"),r("../../../node_modules/rxjs/add/operator/ignoreElements.js"),r("../../../node_modules/rxjs/add/operator/isEmpty.js"),r("../../../node_modules/rxjs/add/operator/audit.js"),r("../../../node_modules/rxjs/add/operator/auditTime.js"),r("../../../node_modules/rxjs/add/operator/last.js"),r("../../../node_modules/rxjs/add/operator/let.js"),r("../../../node_modules/rxjs/add/operator/every.js"),r("../../../node_modules/rxjs/add/operator/map.js"),r("../../../node_modules/rxjs/add/operator/mapTo.js"),r("../../../node_modules/rxjs/add/operator/materialize.js"),r("../../../node_modules/rxjs/add/operator/max.js"),r("../../../node_modules/rxjs/add/operator/merge.js"),r("../../../node_modules/rxjs/add/operator/mergeAll.js"),r("../../../node_modules/rxjs/add/operator/mergeMap.js"),r("../../../node_modules/rxjs/add/operator/mergeMapTo.js"),r("../../../node_modules/rxjs/add/operator/mergeScan.js"),r("../../../node_modules/rxjs/add/operator/min.js"),r("../../../node_modules/rxjs/add/operator/multicast.js"),r("../../../node_modules/rxjs/add/operator/observeOn.js"),r("../../../node_modules/rxjs/add/operator/onErrorResumeNext.js"),r("../../../node_modules/rxjs/add/operator/pairwise.js"),r("../../../node_modules/rxjs/add/operator/partition.js"),r("../../../node_modules/rxjs/add/operator/pluck.js"),r("../../../node_modules/rxjs/add/operator/publish.js"),r("../../../node_modules/rxjs/add/operator/publishBehavior.js"),r("../../../node_modules/rxjs/add/operator/publishReplay.js"),r("../../../node_modules/rxjs/add/operator/publishLast.js"),r("../../../node_modules/rxjs/add/operator/race.js"),r("../../../node_modules/rxjs/add/operator/reduce.js"),r("../../../node_modules/rxjs/add/operator/repeat.js"),r("../../../node_modules/rxjs/add/operator/repeatWhen.js"),r("../../../node_modules/rxjs/add/operator/retry.js"),r("../../../node_modules/rxjs/add/operator/retryWhen.js"),r("../../../node_modules/rxjs/add/operator/sample.js"),r("../../../node_modules/rxjs/add/operator/sampleTime.js"),r("../../../node_modules/rxjs/add/operator/scan.js"),r("../../../node_modules/rxjs/add/operator/sequenceEqual.js"),r("../../../node_modules/rxjs/add/operator/share.js"),r("../../../node_modules/rxjs/add/operator/shareReplay.js"),r("../../../node_modules/rxjs/add/operator/single.js"),r("../../../node_modules/rxjs/add/operator/skip.js"),r("../../../node_modules/rxjs/add/operator/skipLast.js"),r("../../../node_modules/rxjs/add/operator/skipUntil.js"),r("../../../node_modules/rxjs/add/operator/skipWhile.js"),r("../../../node_modules/rxjs/add/operator/startWith.js"),r("../../../node_modules/rxjs/add/operator/subscribeOn.js"),r("../../../node_modules/rxjs/add/operator/switch.js"),r("../../../node_modules/rxjs/add/operator/switchMap.js"),r("../../../node_modules/rxjs/add/operator/switchMapTo.js"),r("../../../node_modules/rxjs/add/operator/take.js"),r("../../../node_modules/rxjs/add/operator/takeLast.js"),r("../../../node_modules/rxjs/add/operator/takeUntil.js"),r("../../../node_modules/rxjs/add/operator/takeWhile.js"),r("../../../node_modules/rxjs/add/operator/throttle.js"),r("../../../node_modules/rxjs/add/operator/throttleTime.js"),r("../../../node_modules/rxjs/add/operator/timeInterval.js"),r("../../../node_modules/rxjs/add/operator/timeout.js"),r("../../../node_modules/rxjs/add/operator/timeoutWith.js"),r("../../../node_modules/rxjs/add/operator/timestamp.js"),r("../../../node_modules/rxjs/add/operator/toArray.js"),r("../../../node_modules/rxjs/add/operator/toPromise.js"),r("../../../node_modules/rxjs/add/operator/window.js"),r("../../../node_modules/rxjs/add/operator/windowCount.js"),r("../../../node_modules/rxjs/add/operator/windowTime.js"),r("../../../node_modules/rxjs/add/operator/windowToggle.js"),r("../../../node_modules/rxjs/add/operator/windowWhen.js"),r("../../../node_modules/rxjs/add/operator/withLatestFrom.js"),r("../../../node_modules/rxjs/add/operator/zip.js"),r("../../../node_modules/rxjs/add/operator/zipAll.js");var s=r("../../../node_modules/rxjs/Subscription.js");t.Subscription=s.Subscription;var i=r("../../../node_modules/rxjs/Subscriber.js");t.Subscriber=i.Subscriber;var a=r("../../../node_modules/rxjs/AsyncSubject.js");t.AsyncSubject=a.AsyncSubject;var c=r("../../../node_modules/rxjs/ReplaySubject.js");t.ReplaySubject=c.ReplaySubject;var u=r("../../../node_modules/rxjs/BehaviorSubject.js");t.BehaviorSubject=u.BehaviorSubject;var l=r("../../../node_modules/rxjs/observable/ConnectableObservable.js");t.ConnectableObservable=l.ConnectableObservable;var d=r("../../../node_modules/rxjs/Notification.js");t.Notification=d.Notification;var p=r("../../../node_modules/rxjs/util/EmptyError.js");t.EmptyError=p.EmptyError;var h=r("../../../node_modules/rxjs/util/ArgumentOutOfRangeError.js");t.ArgumentOutOfRangeError=h.ArgumentOutOfRangeError;var f=r("../../../node_modules/rxjs/util/ObjectUnsubscribedError.js");t.ObjectUnsubscribedError=f.ObjectUnsubscribedError;var m=r("../../../node_modules/rxjs/util/TimeoutError.js");t.TimeoutError=m.TimeoutError;var b=r("../../../node_modules/rxjs/util/UnsubscriptionError.js");t.UnsubscriptionError=b.UnsubscriptionError;var v=r("../../../node_modules/rxjs/operator/timeInterval.js");t.TimeInterval=v.TimeInterval;var j=r("../../../node_modules/rxjs/operators/timestamp.js");t.Timestamp=j.Timestamp;var y=r("../../../node_modules/rxjs/testing/TestScheduler.js");t.TestScheduler=y.TestScheduler;var x=r("../../../node_modules/rxjs/scheduler/VirtualTimeScheduler.js");t.VirtualTimeScheduler=x.VirtualTimeScheduler;var g=r("../../../node_modules/rxjs/observable/dom/AjaxObservable.js");t.AjaxResponse=g.AjaxResponse,t.AjaxError=g.AjaxError,t.AjaxTimeoutError=g.AjaxTimeoutError;var _=r("../../../node_modules/rxjs/util/pipe.js");t.pipe=_.pipe;var S=r("../../../node_modules/rxjs/scheduler/asap.js"),w=r("../../../node_modules/rxjs/scheduler/async.js"),O=r("../../../node_modules/rxjs/scheduler/queue.js"),E=r("../../../node_modules/rxjs/scheduler/animationFrame.js"),C=r("../../../node_modules/rxjs/symbol/rxSubscriber.js"),T=r("../../../node_modules/rxjs/symbol/iterator.js"),I=r("../../../node_modules/rxjs/symbol/observable.js"),k=r("../../../node_modules/rxjs/operators.js");t.operators=k;var A={asap:S.asap,queue:O.queue,animationFrame:E.animationFrame,async:w.async};t.Scheduler=A;var R={rxSubscriber:C.rxSubscriber,observable:I.observable,iterator:T.iterator};t.Symbol=R},"../../../node_modules/rxjs/Subject.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/rxjs/Subject.js")},"../../../node_modules/rxjs/SubjectSubscription.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/rxjs/SubjectSubscription.js")},"../../../node_modules/rxjs/Subscriber.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/rxjs/Subscriber.js")},"../../../node_modules/rxjs/Subscription.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/rxjs/Subscription.js")},"../../../node_modules/rxjs/add/observable/bindCallback.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/observable/bindCallback.js");o.Observable.bindCallback=n.bindCallback},"../../../node_modules/rxjs/add/observable/bindNodeCallback.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/observable/bindNodeCallback.js");o.Observable.bindNodeCallback=n.bindNodeCallback},"../../../node_modules/rxjs/add/observable/combineLatest.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/observable/combineLatest.js");o.Observable.combineLatest=n.combineLatest},"../../../node_modules/rxjs/add/observable/concat.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/observable/concat.js");o.Observable.concat=n.concat},"../../../node_modules/rxjs/add/observable/defer.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/observable/defer.js");o.Observable.defer=n.defer},"../../../node_modules/rxjs/add/observable/dom/ajax.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/rxjs/add/observable/dom/ajax.js")},"../../../node_modules/rxjs/add/observable/dom/webSocket.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/observable/dom/webSocket.js");o.Observable.webSocket=n.webSocket},"../../../node_modules/rxjs/add/observable/empty.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/rxjs/add/observable/empty.js")},"../../../node_modules/rxjs/add/observable/forkJoin.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/observable/forkJoin.js");o.Observable.forkJoin=n.forkJoin},"../../../node_modules/rxjs/add/observable/from.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/rxjs/add/observable/from.js")},"../../../node_modules/rxjs/add/observable/fromEvent.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/observable/fromEvent.js");o.Observable.fromEvent=n.fromEvent},"../../../node_modules/rxjs/add/observable/fromEventPattern.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/observable/fromEventPattern.js");o.Observable.fromEventPattern=n.fromEventPattern},"../../../node_modules/rxjs/add/observable/fromPromise.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/observable/fromPromise.js");o.Observable.fromPromise=n.fromPromise},"../../../node_modules/rxjs/add/observable/generate.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/observable/generate.js");o.Observable.generate=n.generate},"../../../node_modules/rxjs/add/observable/if.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/observable/if.js");o.Observable.if=n._if},"../../../node_modules/rxjs/add/observable/interval.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/rxjs/add/observable/interval.js")},"../../../node_modules/rxjs/add/observable/merge.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/observable/merge.js");o.Observable.merge=n.merge},"../../../node_modules/rxjs/add/observable/never.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/observable/never.js");o.Observable.never=n.never},"../../../node_modules/rxjs/add/observable/of.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/rxjs/add/observable/of.js")},"../../../node_modules/rxjs/add/observable/onErrorResumeNext.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/observable/onErrorResumeNext.js");o.Observable.onErrorResumeNext=n.onErrorResumeNext},"../../../node_modules/rxjs/add/observable/pairs.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/observable/pairs.js");o.Observable.pairs=n.pairs},"../../../node_modules/rxjs/add/observable/race.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/observable/race.js");o.Observable.race=n.race},"../../../node_modules/rxjs/add/observable/range.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/observable/range.js");o.Observable.range=n.range},"../../../node_modules/rxjs/add/observable/throw.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/rxjs/add/observable/throw.js")},"../../../node_modules/rxjs/add/observable/timer.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/observable/timer.js");o.Observable.timer=n.timer},"../../../node_modules/rxjs/add/observable/using.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/observable/using.js");o.Observable.using=n.using},"../../../node_modules/rxjs/add/observable/zip.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/observable/zip.js");o.Observable.zip=n.zip},"../../../node_modules/rxjs/add/operator/audit.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/operator/audit.js");o.Observable.prototype.audit=n.audit},"../../../node_modules/rxjs/add/operator/auditTime.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/operator/auditTime.js");o.Observable.prototype.auditTime=n.auditTime},"../../../node_modules/rxjs/add/operator/buffer.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/operator/buffer.js");o.Observable.prototype.buffer=n.buffer},"../../../node_modules/rxjs/add/operator/bufferCount.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/operator/bufferCount.js");o.Observable.prototype.bufferCount=n.bufferCount},"../../../node_modules/rxjs/add/operator/bufferTime.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/operator/bufferTime.js");o.Observable.prototype.bufferTime=n.bufferTime},"../../../node_modules/rxjs/add/operator/bufferToggle.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/operator/bufferToggle.js");o.Observable.prototype.bufferToggle=n.bufferToggle},"../../../node_modules/rxjs/add/operator/bufferWhen.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/operator/bufferWhen.js");o.Observable.prototype.bufferWhen=n.bufferWhen},"../../../node_modules/rxjs/add/operator/catch.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/rxjs/add/operator/catch.js")},"../../../node_modules/rxjs/add/operator/combineAll.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/operator/combineAll.js");o.Observable.prototype.combineAll=n.combineAll},"../../../node_modules/rxjs/add/operator/combineLatest.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/rxjs/add/operator/combineLatest.js")},"../../../node_modules/rxjs/add/operator/concat.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/operator/concat.js");o.Observable.prototype.concat=n.concat},"../../../node_modules/rxjs/add/operator/concatAll.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/operator/concatAll.js");o.Observable.prototype.concatAll=n.concatAll},"../../../node_modules/rxjs/add/operator/concatMap.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/operator/concatMap.js");o.Observable.prototype.concatMap=n.concatMap},"../../../node_modules/rxjs/add/operator/concatMapTo.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/operator/concatMapTo.js");o.Observable.prototype.concatMapTo=n.concatMapTo},"../../../node_modules/rxjs/add/operator/count.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/rxjs/add/operator/count.js")},"../../../node_modules/rxjs/add/operator/debounce.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/operator/debounce.js");o.Observable.prototype.debounce=n.debounce},"../../../node_modules/rxjs/add/operator/debounceTime.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/operator/debounceTime.js");o.Observable.prototype.debounceTime=n.debounceTime},"../../../node_modules/rxjs/add/operator/defaultIfEmpty.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/operator/defaultIfEmpty.js");o.Observable.prototype.defaultIfEmpty=n.defaultIfEmpty},"../../../node_modules/rxjs/add/operator/delay.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/rxjs/add/operator/delay.js")},"../../../node_modules/rxjs/add/operator/delayWhen.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/operator/delayWhen.js");o.Observable.prototype.delayWhen=n.delayWhen},"../../../node_modules/rxjs/add/operator/dematerialize.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/operator/dematerialize.js");o.Observable.prototype.dematerialize=n.dematerialize},"../../../node_modules/rxjs/add/operator/distinct.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/operator/distinct.js");o.Observable.prototype.distinct=n.distinct},"../../../node_modules/rxjs/add/operator/distinctUntilChanged.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/operator/distinctUntilChanged.js");o.Observable.prototype.distinctUntilChanged=n.distinctUntilChanged},"../../../node_modules/rxjs/add/operator/distinctUntilKeyChanged.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/operator/distinctUntilKeyChanged.js");o.Observable.prototype.distinctUntilKeyChanged=n.distinctUntilKeyChanged},"../../../node_modules/rxjs/add/operator/do.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/rxjs/add/operator/do.js")},"../../../node_modules/rxjs/add/operator/elementAt.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/operator/elementAt.js");o.Observable.prototype.elementAt=n.elementAt},"../../../node_modules/rxjs/add/operator/every.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/operator/every.js");o.Observable.prototype.every=n.every},"../../../node_modules/rxjs/add/operator/exhaust.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/operator/exhaust.js");o.Observable.prototype.exhaust=n.exhaust},"../../../node_modules/rxjs/add/operator/exhaustMap.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/operator/exhaustMap.js");o.Observable.prototype.exhaustMap=n.exhaustMap},"../../../node_modules/rxjs/add/operator/expand.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/operator/expand.js");o.Observable.prototype.expand=n.expand},"../../../node_modules/rxjs/add/operator/filter.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/rxjs/add/operator/filter.js")},"../../../node_modules/rxjs/add/operator/finally.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/operator/finally.js");o.Observable.prototype.finally=n._finally,o.Observable.prototype._finally=n._finally},"../../../node_modules/rxjs/add/operator/find.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/operator/find.js");o.Observable.prototype.find=n.find},"../../../node_modules/rxjs/add/operator/findIndex.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/operator/findIndex.js");o.Observable.prototype.findIndex=n.findIndex},"../../../node_modules/rxjs/add/operator/first.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/operator/first.js");o.Observable.prototype.first=n.first},"../../../node_modules/rxjs/add/operator/groupBy.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/operator/groupBy.js");o.Observable.prototype.groupBy=n.groupBy},"../../../node_modules/rxjs/add/operator/ignoreElements.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/operator/ignoreElements.js");o.Observable.prototype.ignoreElements=n.ignoreElements},"../../../node_modules/rxjs/add/operator/isEmpty.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/operator/isEmpty.js");o.Observable.prototype.isEmpty=n.isEmpty},"../../../node_modules/rxjs/add/operator/last.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/operator/last.js");o.Observable.prototype.last=n.last},"../../../node_modules/rxjs/add/operator/let.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/operator/let.js");o.Observable.prototype.let=n.letProto,o.Observable.prototype.letBind=n.letProto},"../../../node_modules/rxjs/add/operator/map.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/rxjs/add/operator/map.js")},"../../../node_modules/rxjs/add/operator/mapTo.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/operator/mapTo.js");o.Observable.prototype.mapTo=n.mapTo},"../../../node_modules/rxjs/add/operator/materialize.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/operator/materialize.js");o.Observable.prototype.materialize=n.materialize},"../../../node_modules/rxjs/add/operator/max.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/operator/max.js");o.Observable.prototype.max=n.max},"../../../node_modules/rxjs/add/operator/merge.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/operator/merge.js");o.Observable.prototype.merge=n.merge},"../../../node_modules/rxjs/add/operator/mergeAll.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/operator/mergeAll.js");o.Observable.prototype.mergeAll=n.mergeAll},"../../../node_modules/rxjs/add/operator/mergeMap.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/rxjs/add/operator/mergeMap.js")},"../../../node_modules/rxjs/add/operator/mergeMapTo.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/operator/mergeMapTo.js");o.Observable.prototype.flatMapTo=n.mergeMapTo,o.Observable.prototype.mergeMapTo=n.mergeMapTo},"../../../node_modules/rxjs/add/operator/mergeScan.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/operator/mergeScan.js");o.Observable.prototype.mergeScan=n.mergeScan},"../../../node_modules/rxjs/add/operator/min.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/operator/min.js");o.Observable.prototype.min=n.min},"../../../node_modules/rxjs/add/operator/multicast.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/operator/multicast.js");o.Observable.prototype.multicast=n.multicast},"../../../node_modules/rxjs/add/operator/observeOn.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/operator/observeOn.js");o.Observable.prototype.observeOn=n.observeOn},"../../../node_modules/rxjs/add/operator/onErrorResumeNext.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/operator/onErrorResumeNext.js");o.Observable.prototype.onErrorResumeNext=n.onErrorResumeNext},"../../../node_modules/rxjs/add/operator/pairwise.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/operator/pairwise.js");o.Observable.prototype.pairwise=n.pairwise},"../../../node_modules/rxjs/add/operator/partition.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/operator/partition.js");o.Observable.prototype.partition=n.partition},"../../../node_modules/rxjs/add/operator/pluck.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/operator/pluck.js");o.Observable.prototype.pluck=n.pluck},"../../../node_modules/rxjs/add/operator/publish.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/operator/publish.js");o.Observable.prototype.publish=n.publish},"../../../node_modules/rxjs/add/operator/publishBehavior.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/operator/publishBehavior.js");o.Observable.prototype.publishBehavior=n.publishBehavior},"../../../node_modules/rxjs/add/operator/publishLast.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/operator/publishLast.js");o.Observable.prototype.publishLast=n.publishLast},"../../../node_modules/rxjs/add/operator/publishReplay.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/operator/publishReplay.js");o.Observable.prototype.publishReplay=n.publishReplay},"../../../node_modules/rxjs/add/operator/race.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/operator/race.js");o.Observable.prototype.race=n.race},"../../../node_modules/rxjs/add/operator/reduce.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/operator/reduce.js");o.Observable.prototype.reduce=n.reduce},"../../../node_modules/rxjs/add/operator/repeat.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/operator/repeat.js");o.Observable.prototype.repeat=n.repeat},"../../../node_modules/rxjs/add/operator/repeatWhen.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/operator/repeatWhen.js");o.Observable.prototype.repeatWhen=n.repeatWhen},"../../../node_modules/rxjs/add/operator/retry.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/operator/retry.js");o.Observable.prototype.retry=n.retry},"../../../node_modules/rxjs/add/operator/retryWhen.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/rxjs/add/operator/retryWhen.js")},"../../../node_modules/rxjs/add/operator/sample.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/operator/sample.js");o.Observable.prototype.sample=n.sample},"../../../node_modules/rxjs/add/operator/sampleTime.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/operator/sampleTime.js");o.Observable.prototype.sampleTime=n.sampleTime},"../../../node_modules/rxjs/add/operator/scan.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/operator/scan.js");o.Observable.prototype.scan=n.scan},"../../../node_modules/rxjs/add/operator/sequenceEqual.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/operator/sequenceEqual.js");o.Observable.prototype.sequenceEqual=n.sequenceEqual},"../../../node_modules/rxjs/add/operator/share.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/rxjs/add/operator/share.js")},"../../../node_modules/rxjs/add/operator/shareReplay.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/operator/shareReplay.js");o.Observable.prototype.shareReplay=n.shareReplay},"../../../node_modules/rxjs/add/operator/single.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/operator/single.js");o.Observable.prototype.single=n.single},"../../../node_modules/rxjs/add/operator/skip.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/operator/skip.js");o.Observable.prototype.skip=n.skip},"../../../node_modules/rxjs/add/operator/skipLast.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/operator/skipLast.js");o.Observable.prototype.skipLast=n.skipLast},"../../../node_modules/rxjs/add/operator/skipUntil.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/operator/skipUntil.js");o.Observable.prototype.skipUntil=n.skipUntil},"../../../node_modules/rxjs/add/operator/skipWhile.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/operator/skipWhile.js");o.Observable.prototype.skipWhile=n.skipWhile},"../../../node_modules/rxjs/add/operator/startWith.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/operator/startWith.js");o.Observable.prototype.startWith=n.startWith},"../../../node_modules/rxjs/add/operator/subscribeOn.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/operator/subscribeOn.js");o.Observable.prototype.subscribeOn=n.subscribeOn},"../../../node_modules/rxjs/add/operator/switch.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/operator/switch.js");o.Observable.prototype.switch=n._switch,o.Observable.prototype._switch=n._switch},"../../../node_modules/rxjs/add/operator/switchMap.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/operator/switchMap.js");o.Observable.prototype.switchMap=n.switchMap},"../../../node_modules/rxjs/add/operator/switchMapTo.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/operator/switchMapTo.js");o.Observable.prototype.switchMapTo=n.switchMapTo},"../../../node_modules/rxjs/add/operator/take.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/rxjs/add/operator/take.js")},"../../../node_modules/rxjs/add/operator/takeLast.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/operator/takeLast.js");o.Observable.prototype.takeLast=n.takeLast},"../../../node_modules/rxjs/add/operator/takeUntil.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/operator/takeUntil.js");o.Observable.prototype.takeUntil=n.takeUntil},"../../../node_modules/rxjs/add/operator/takeWhile.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/operator/takeWhile.js");o.Observable.prototype.takeWhile=n.takeWhile},"../../../node_modules/rxjs/add/operator/throttle.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/operator/throttle.js");o.Observable.prototype.throttle=n.throttle},"../../../node_modules/rxjs/add/operator/throttleTime.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/operator/throttleTime.js");o.Observable.prototype.throttleTime=n.throttleTime},"../../../node_modules/rxjs/add/operator/timeInterval.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/operator/timeInterval.js");o.Observable.prototype.timeInterval=n.timeInterval},"../../../node_modules/rxjs/add/operator/timeout.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/operator/timeout.js");o.Observable.prototype.timeout=n.timeout},"../../../node_modules/rxjs/add/operator/timeoutWith.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/operator/timeoutWith.js");o.Observable.prototype.timeoutWith=n.timeoutWith},"../../../node_modules/rxjs/add/operator/timestamp.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/operator/timestamp.js");o.Observable.prototype.timestamp=n.timestamp},"../../../node_modules/rxjs/add/operator/toArray.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/operator/toArray.js");o.Observable.prototype.toArray=n.toArray},"../../../node_modules/rxjs/add/operator/toPromise.js":function(e,t){},"../../../node_modules/rxjs/add/operator/window.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/operator/window.js");o.Observable.prototype.window=n.window},"../../../node_modules/rxjs/add/operator/windowCount.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/operator/windowCount.js");o.Observable.prototype.windowCount=n.windowCount},"../../../node_modules/rxjs/add/operator/windowTime.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/operator/windowTime.js");o.Observable.prototype.windowTime=n.windowTime},"../../../node_modules/rxjs/add/operator/windowToggle.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/operator/windowToggle.js");o.Observable.prototype.windowToggle=n.windowToggle},"../../../node_modules/rxjs/add/operator/windowWhen.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/operator/windowWhen.js");o.Observable.prototype.windowWhen=n.windowWhen},"../../../node_modules/rxjs/add/operator/withLatestFrom.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/operator/withLatestFrom.js");o.Observable.prototype.withLatestFrom=n.withLatestFrom},"../../../node_modules/rxjs/add/operator/zip.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/operator/zip.js");o.Observable.prototype.zip=n.zipProto},"../../../node_modules/rxjs/add/operator/zipAll.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Observable.js"),n=r("../../../node_modules/rxjs/operator/zipAll.js");o.Observable.prototype.zipAll=n.zipAll},"../../../node_modules/rxjs/observable/ArrayObservable.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/rxjs/observable/ArrayObservable.js")},"../../../node_modules/rxjs/observable/BoundCallbackObservable.js":function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=r("../../../node_modules/rxjs/Observable.js"),s=r("../../../node_modules/rxjs/util/tryCatch.js"),i=r("../../../node_modules/rxjs/util/errorObject.js"),a=r("../../../node_modules/rxjs/AsyncSubject.js"),c=function(e){function t(t,r,o,n,s){e.call(this),this.callbackFunc=t,this.selector=r,this.args=o,this.context=n,this.scheduler=s}return o(t,e),t.create=function(e,r,o){return void 0===r&&(r=void 0),function(){for(var n=[],s=0;s<arguments.length;s++)n[s-0]=arguments[s];return new t(e,r,n,this,o)}},t.prototype._subscribe=function(e){var r=this.callbackFunc,o=this.args,n=this.scheduler,c=this.subject;if(n)return n.schedule(t.dispatch,0,{source:this,subscriber:e,context:this.context});if(!c){c=this.subject=new a.AsyncSubject;var u=function e(){for(var t=[],r=0;r<arguments.length;r++)t[r-0]=arguments[r];var o=e.source,n=o.selector,a=o.subject;if(n){var c=s.tryCatch(n).apply(this,t);c===i.errorObject?a.error(i.errorObject.e):(a.next(c),a.complete())}else a.next(t.length<=1?t[0]:t),a.complete()};u.source=this,s.tryCatch(r).apply(this.context,o.concat(u))===i.errorObject&&c.error(i.errorObject.e)}return c.subscribe(e)},t.dispatch=function(e){var t=this,r=e.source,o=e.subscriber,n=e.context,c=r.callbackFunc,d=r.args,p=r.scheduler,h=r.subject;if(!h){h=r.subject=new a.AsyncSubject;var f=function e(){for(var r=[],o=0;o<arguments.length;o++)r[o-0]=arguments[o];var n=e.source,a=n.selector,c=n.subject;if(a){var d=s.tryCatch(a).apply(this,r);d===i.errorObject?t.add(p.schedule(l,0,{err:i.errorObject.e,subject:c})):t.add(p.schedule(u,0,{value:d,subject:c}))}else{var h=r.length<=1?r[0]:r;t.add(p.schedule(u,0,{value:h,subject:c}))}};f.source=r,s.tryCatch(c).apply(n,d.concat(f))===i.errorObject&&h.error(i.errorObject.e)}t.add(h.subscribe(o))},t}(n.Observable);function u(e){var t=e.value,r=e.subject;r.next(t),r.complete()}function l(e){var t=e.err;e.subject.error(t)}t.BoundCallbackObservable=c},"../../../node_modules/rxjs/observable/BoundNodeCallbackObservable.js":function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=r("../../../node_modules/rxjs/Observable.js"),s=r("../../../node_modules/rxjs/util/tryCatch.js"),i=r("../../../node_modules/rxjs/util/errorObject.js"),a=r("../../../node_modules/rxjs/AsyncSubject.js"),c=function(e){function t(t,r,o,n,s){e.call(this),this.callbackFunc=t,this.selector=r,this.args=o,this.context=n,this.scheduler=s}return o(t,e),t.create=function(e,r,o){return void 0===r&&(r=void 0),function(){for(var n=[],s=0;s<arguments.length;s++)n[s-0]=arguments[s];return new t(e,r,n,this,o)}},t.prototype._subscribe=function(e){var t=this.callbackFunc,r=this.args,o=this.scheduler,n=this.subject;if(o)return o.schedule(u,0,{source:this,subscriber:e,context:this.context});if(!n){n=this.subject=new a.AsyncSubject;var c=function e(){for(var t=[],r=0;r<arguments.length;r++)t[r-0]=arguments[r];var o=e.source,n=o.selector,a=o.subject,c=t.shift();if(c)a.error(c);else if(n){var u=s.tryCatch(n).apply(this,t);u===i.errorObject?a.error(i.errorObject.e):(a.next(u),a.complete())}else a.next(t.length<=1?t[0]:t),a.complete()};c.source=this,s.tryCatch(t).apply(this.context,r.concat(c))===i.errorObject&&n.error(i.errorObject.e)}return n.subscribe(e)},t}(n.Observable);function u(e){var t=this,r=e.source,o=e.subscriber,n=e.context,c=r,u=c.callbackFunc,p=c.args,h=c.scheduler,f=r.subject;if(!f){f=r.subject=new a.AsyncSubject;var m=function e(){for(var r=[],o=0;o<arguments.length;o++)r[o-0]=arguments[o];var n=e.source,a=n.selector,c=n.subject,u=r.shift();if(u)t.add(h.schedule(d,0,{err:u,subject:c}));else if(a){var p=s.tryCatch(a).apply(this,r);p===i.errorObject?t.add(h.schedule(d,0,{err:i.errorObject.e,subject:c})):t.add(h.schedule(l,0,{value:p,subject:c}))}else{var f=r.length<=1?r[0]:r;t.add(h.schedule(l,0,{value:f,subject:c}))}};m.source=r,s.tryCatch(u).apply(n,p.concat(m))===i.errorObject&&t.add(h.schedule(d,0,{err:i.errorObject.e,subject:f}))}t.add(f.subscribe(o))}function l(e){var t=e.value,r=e.subject;r.next(t),r.complete()}function d(e){var t=e.err;e.subject.error(t)}t.BoundNodeCallbackObservable=c},"../../../node_modules/rxjs/observable/ConnectableObservable.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/rxjs/observable/ConnectableObservable.js")},"../../../node_modules/rxjs/observable/DeferObservable.js":function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=r("../../../node_modules/rxjs/Observable.js"),s=r("../../../node_modules/rxjs/util/subscribeToResult.js"),i=r("../../../node_modules/rxjs/OuterSubscriber.js"),a=function(e){function t(t){e.call(this),this.observableFactory=t}return o(t,e),t.create=function(e){return new t(e)},t.prototype._subscribe=function(e){return new c(e,this.observableFactory)},t}(n.Observable);t.DeferObservable=a;var c=function(e){function t(t,r){e.call(this,t),this.factory=r,this.tryDefer()}return o(t,e),t.prototype.tryDefer=function(){try{this._callFactory()}catch(e){this._error(e)}},t.prototype._callFactory=function(){var e=this.factory();e&&this.add(s.subscribeToResult(this,e))},t}(i.OuterSubscriber)},"../../../node_modules/rxjs/observable/EmptyObservable.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/rxjs/observable/EmptyObservable.js")},"../../../node_modules/rxjs/observable/ForkJoinObservable.js":function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=r("../../../node_modules/rxjs/Observable.js"),s=r("../../../node_modules/rxjs/observable/EmptyObservable.js"),i=r("../../../node_modules/rxjs/util/isArray.js"),a=r("../../../node_modules/rxjs/util/subscribeToResult.js"),c=r("../../../node_modules/rxjs/OuterSubscriber.js"),u=function(e){function t(t,r){e.call(this),this.sources=t,this.resultSelector=r}return o(t,e),t.create=function(){for(var e=[],r=0;r<arguments.length;r++)e[r-0]=arguments[r];if(null===e||0===arguments.length)return new s.EmptyObservable;var o=null;return"function"==typeof e[e.length-1]&&(o=e.pop()),1===e.length&&i.isArray(e[0])&&(e=e[0]),0===e.length?new s.EmptyObservable:new t(e,o)},t.prototype._subscribe=function(e){return new l(e,this.sources,this.resultSelector)},t}(n.Observable);t.ForkJoinObservable=u;var l=function(e){function t(t,r,o){e.call(this,t),this.sources=r,this.resultSelector=o,this.completed=0,this.haveValues=0;var n=r.length;this.total=n,this.values=new Array(n);for(var s=0;s<n;s++){var i=r[s],c=a.subscribeToResult(this,i,null,s);c&&(c.outerIndex=s,this.add(c))}}return o(t,e),t.prototype.notifyNext=function(e,t,r,o,n){this.values[r]=t,n._hasValue||(n._hasValue=!0,this.haveValues++)},t.prototype.notifyComplete=function(e){var t=this.destination,r=this.haveValues,o=this.resultSelector,n=this.values,s=n.length;if(e._hasValue){if(this.completed++,this.completed===s){if(r===s){var i=o?o.apply(this,n):n;t.next(i)}t.complete()}}else t.complete()},t}(c.OuterSubscriber)},"../../../node_modules/rxjs/observable/FromEventObservable.js":function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=r("../../../node_modules/rxjs/Observable.js"),s=r("../../../node_modules/rxjs/util/tryCatch.js"),i=r("../../../node_modules/rxjs/util/isFunction.js"),a=r("../../../node_modules/rxjs/util/errorObject.js"),c=r("../../../node_modules/rxjs/Subscription.js"),u=Object.prototype.toString;var l=function(e){function t(t,r,o,n){e.call(this),this.sourceObj=t,this.eventName=r,this.selector=o,this.options=n}return o(t,e),t.create=function(e,r,o,n){return i.isFunction(o)&&(n=o,o=void 0),new t(e,r,n,o)},t.setupSubscription=function(e,r,o,n,s){var i;if(function(e){return!!e&&"[object NodeList]"===u.call(e)}(e)||function(e){return!!e&&"[object HTMLCollection]"===u.call(e)}(e))for(var a=0,l=e.length;a<l;a++)t.setupSubscription(e[a],r,o,n,s);else if(function(e){return!!e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(e)){var d=e;e.addEventListener(r,o,s),i=function(){return d.removeEventListener(r,o,s)}}else if(function(e){return!!e&&"function"==typeof e.on&&"function"==typeof e.off}(e)){var p=e;e.on(r,o),i=function(){return p.off(r,o)}}else{if(!function(e){return!!e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(e))throw new TypeError("Invalid event target");var h=e;e.addListener(r,o),i=function(){return h.removeListener(r,o)}}n.add(new c.Subscription(i))},t.prototype._subscribe=function(e){var r=this.sourceObj,o=this.eventName,n=this.options,i=this.selector,c=i?function(){for(var t=[],r=0;r<arguments.length;r++)t[r-0]=arguments[r];var o=s.tryCatch(i).apply(void 0,t);o===a.errorObject?e.error(a.errorObject.e):e.next(o)}:function(t){return e.next(t)};t.setupSubscription(r,o,c,e,n)},t}(n.Observable);t.FromEventObservable=l},"../../../node_modules/rxjs/observable/FromEventPatternObservable.js":function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=r("../../../node_modules/rxjs/util/isFunction.js"),s=r("../../../node_modules/rxjs/Observable.js"),i=r("../../../node_modules/rxjs/Subscription.js"),a=function(e){function t(t,r,o){e.call(this),this.addHandler=t,this.removeHandler=r,this.selector=o}return o(t,e),t.create=function(e,r,o){return new t(e,r,o)},t.prototype._subscribe=function(e){var t=this,r=this.removeHandler,o=this.selector?function(){for(var r=[],o=0;o<arguments.length;o++)r[o-0]=arguments[o];t._callSelector(e,r)}:function(t){e.next(t)},s=this._callAddHandler(o,e);n.isFunction(r)&&e.add(new i.Subscription(function(){r(o,s)}))},t.prototype._callSelector=function(e,t){try{var r=this.selector.apply(this,t);e.next(r)}catch(t){e.error(t)}},t.prototype._callAddHandler=function(e,t){try{return this.addHandler(e)||null}catch(e){t.error(e)}},t}(s.Observable);t.FromEventPatternObservable=a},"../../../node_modules/rxjs/observable/FromObservable.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/rxjs/observable/FromObservable.js")},"../../../node_modules/rxjs/observable/GenerateObservable.js":function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=r("../../../node_modules/rxjs/Observable.js"),s=r("../../../node_modules/rxjs/util/isScheduler.js"),i=function(e){return e},a=function(e){function t(t,r,o,n,s){e.call(this),this.initialState=t,this.condition=r,this.iterate=o,this.resultSelector=n,this.scheduler=s}return o(t,e),t.create=function(e,r,o,n,a){return 1==arguments.length?new t(e.initialState,e.condition,e.iterate,e.resultSelector||i,e.scheduler):void 0===n||s.isScheduler(n)?new t(e,r,o,i,n):new t(e,r,o,n,a)},t.prototype._subscribe=function(e){var r=this.initialState;if(this.scheduler)return this.scheduler.schedule(t.dispatch,0,{subscriber:e,iterate:this.iterate,condition:this.condition,resultSelector:this.resultSelector,state:r});for(var o=this.condition,n=this.resultSelector,s=this.iterate;;){if(o){var i=void 0;try{i=o(r)}catch(t){return void e.error(t)}if(!i){e.complete();break}}var a=void 0;try{a=n(r)}catch(t){return void e.error(t)}if(e.next(a),e.closed)break;try{r=s(r)}catch(t){return void e.error(t)}}},t.dispatch=function(e){var t=e.subscriber,r=e.condition;if(!t.closed){if(e.needIterate)try{e.state=e.iterate(e.state)}catch(e){return void t.error(e)}else e.needIterate=!0;if(r){var o=void 0;try{o=r(e.state)}catch(e){return void t.error(e)}if(!o)return void t.complete();if(t.closed)return}var n;try{n=e.resultSelector(e.state)}catch(e){return void t.error(e)}if(!t.closed&&(t.next(n),!t.closed))return this.schedule(e)}},t}(n.Observable);t.GenerateObservable=a},"../../../node_modules/rxjs/observable/IfObservable.js":function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=r("../../../node_modules/rxjs/Observable.js"),s=r("../../../node_modules/rxjs/util/subscribeToResult.js"),i=r("../../../node_modules/rxjs/OuterSubscriber.js"),a=function(e){function t(t,r,o){e.call(this),this.condition=t,this.thenSource=r,this.elseSource=o}return o(t,e),t.create=function(e,r,o){return new t(e,r,o)},t.prototype._subscribe=function(e){var t=this.condition,r=this.thenSource,o=this.elseSource;return new c(e,t,r,o)},t}(n.Observable);t.IfObservable=a;var c=function(e){function t(t,r,o,n){e.call(this,t),this.condition=r,this.thenSource=o,this.elseSource=n,this.tryIf()}return o(t,e),t.prototype.tryIf=function(){var e=this.condition,t=this.thenSource,r=this.elseSource;try{var o=e()?t:r;o?this.add(s.subscribeToResult(this,o)):this._complete()}catch(e){this._error(e)}},t}(i.OuterSubscriber)},"../../../node_modules/rxjs/observable/NeverObservable.js":function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=r("../../../node_modules/rxjs/Observable.js"),s=r("../../../node_modules/rxjs/util/noop.js"),i=function(e){function t(){e.call(this)}return o(t,e),t.create=function(){return new t},t.prototype._subscribe=function(e){s.noop()},t}(n.Observable);t.NeverObservable=i},"../../../node_modules/rxjs/observable/PairsObservable.js":function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)};function n(e){var t=e.obj,r=e.keys,o=e.length,n=e.index,s=e.subscriber;if(n!==o){var i=r[n];s.next([i,t[i]]),e.index=n+1,this.schedule(e)}else s.complete()}var s=function(e){function t(t,r){e.call(this),this.obj=t,this.scheduler=r,this.keys=Object.keys(t)}return o(t,e),t.create=function(e,r){return new t(e,r)},t.prototype._subscribe=function(e){var t=this.keys,r=this.scheduler,o=t.length;if(r)return r.schedule(n,0,{obj:this.obj,keys:t,length:o,index:0,subscriber:e});for(var s=0;s<o;s++){var i=t[s];e.next([i,this.obj[i]])}e.complete()},t}(r("../../../node_modules/rxjs/Observable.js").Observable);t.PairsObservable=s},"../../../node_modules/rxjs/observable/PromiseObservable.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/rxjs/observable/PromiseObservable.js")},"../../../node_modules/rxjs/observable/RangeObservable.js":function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=function(e){function t(t,r,o){e.call(this),this.start=t,this._count=r,this.scheduler=o}return o(t,e),t.create=function(e,r,o){return void 0===e&&(e=0),void 0===r&&(r=0),new t(e,r,o)},t.dispatch=function(e){var t=e.start,r=e.index,o=e.count,n=e.subscriber;r>=o?n.complete():(n.next(t),n.closed||(e.index=r+1,e.start=t+1,this.schedule(e)))},t.prototype._subscribe=function(e){var r=0,o=this.start,n=this._count,s=this.scheduler;if(s)return s.schedule(t.dispatch,0,{index:r,count:n,start:o,subscriber:e});for(;;){if(r++>=n){e.complete();break}if(e.next(o++),e.closed)break}},t}(r("../../../node_modules/rxjs/Observable.js").Observable);t.RangeObservable=n},"../../../node_modules/rxjs/observable/ScalarObservable.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/rxjs/observable/ScalarObservable.js")},"../../../node_modules/rxjs/observable/SubscribeOnObservable.js":function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=r("../../../node_modules/rxjs/Observable.js"),s=r("../../../node_modules/rxjs/scheduler/asap.js"),i=r("../../../node_modules/rxjs/util/isNumeric.js"),a=function(e){function t(t,r,o){void 0===r&&(r=0),void 0===o&&(o=s.asap),e.call(this),this.source=t,this.delayTime=r,this.scheduler=o,(!i.isNumeric(r)||r<0)&&(this.delayTime=0),o&&"function"==typeof o.schedule||(this.scheduler=s.asap)}return o(t,e),t.create=function(e,r,o){return void 0===r&&(r=0),void 0===o&&(o=s.asap),new t(e,r,o)},t.dispatch=function(e){var t=e.source,r=e.subscriber;return this.add(t.subscribe(r))},t.prototype._subscribe=function(e){var r=this.delayTime,o=this.source;return this.scheduler.schedule(t.dispatch,r,{source:o,subscriber:e})},t}(n.Observable);t.SubscribeOnObservable=a},"../../../node_modules/rxjs/observable/TimerObservable.js":function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=r("../../../node_modules/rxjs/util/isNumeric.js"),s=r("../../../node_modules/rxjs/Observable.js"),i=r("../../../node_modules/rxjs/scheduler/async.js"),a=r("../../../node_modules/rxjs/util/isScheduler.js"),c=r("../../../node_modules/rxjs/util/isDate.js"),u=function(e){function t(t,r,o){void 0===t&&(t=0),e.call(this),this.period=-1,this.dueTime=0,n.isNumeric(r)?this.period=Number(r)<1?1:Number(r):a.isScheduler(r)&&(o=r),a.isScheduler(o)||(o=i.async),this.scheduler=o,this.dueTime=c.isDate(t)?+t-this.scheduler.now():t}return o(t,e),t.create=function(e,r,o){return void 0===e&&(e=0),new t(e,r,o)},t.dispatch=function(e){var t=e.index,r=e.period,o=e.subscriber;if(o.next(t),!o.closed){if(-1===r)return o.complete();e.index=t+1,this.schedule(e,r)}},t.prototype._subscribe=function(e){var r=this.period,o=this.dueTime;return this.scheduler.schedule(t.dispatch,o,{index:0,period:r,subscriber:e})},t}(s.Observable);t.TimerObservable=u},"../../../node_modules/rxjs/observable/UsingObservable.js":function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=r("../../../node_modules/rxjs/Observable.js"),s=r("../../../node_modules/rxjs/util/subscribeToResult.js"),i=r("../../../node_modules/rxjs/OuterSubscriber.js"),a=function(e){function t(t,r){e.call(this),this.resourceFactory=t,this.observableFactory=r}return o(t,e),t.create=function(e,r){return new t(e,r)},t.prototype._subscribe=function(e){var t,r=this.resourceFactory,o=this.observableFactory;try{return t=r(),new c(e,t,o)}catch(t){e.error(t)}},t}(n.Observable);t.UsingObservable=a;var c=function(e){function t(t,r,o){e.call(this,t),this.resource=r,this.observableFactory=o,t.add(r),this.tryUse()}return o(t,e),t.prototype.tryUse=function(){try{var e=this.observableFactory.call(this,this.resource);e&&this.add(s.subscribeToResult(this,e))}catch(e){this._error(e)}},t}(i.OuterSubscriber)},"../../../node_modules/rxjs/observable/bindCallback.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/observable/BoundCallbackObservable.js");t.bindCallback=o.BoundCallbackObservable.create},"../../../node_modules/rxjs/observable/bindNodeCallback.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/observable/BoundNodeCallbackObservable.js");t.bindNodeCallback=o.BoundNodeCallbackObservable.create},"../../../node_modules/rxjs/observable/combineLatest.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/util/isScheduler.js"),n=r("../../../node_modules/rxjs/util/isArray.js"),s=r("../../../node_modules/rxjs/observable/ArrayObservable.js"),i=r("../../../node_modules/rxjs/operators/combineLatest.js");t.combineLatest=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r=null,a=null;return o.isScheduler(e[e.length-1])&&(a=e.pop()),"function"==typeof e[e.length-1]&&(r=e.pop()),1===e.length&&n.isArray(e[0])&&(e=e[0]),new s.ArrayObservable(e,a).lift(new i.CombineLatestOperator(r))}},"../../../node_modules/rxjs/observable/concat.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/util/isScheduler.js"),n=r("../../../node_modules/rxjs/observable/of.js"),s=r("../../../node_modules/rxjs/observable/from.js"),i=r("../../../node_modules/rxjs/operators/concatAll.js");t.concat=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return 1===e.length||2===e.length&&o.isScheduler(e[1])?s.from(e[0]):i.concatAll()(n.of.apply(void 0,e))}},"../../../node_modules/rxjs/observable/defer.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/observable/DeferObservable.js");t.defer=o.DeferObservable.create},"../../../node_modules/rxjs/observable/dom/AjaxObservable.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/rxjs/observable/dom/AjaxObservable.js")},"../../../node_modules/rxjs/observable/dom/WebSocketSubject.js":function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=r("../../../node_modules/rxjs/Subject.js"),s=r("../../../node_modules/rxjs/Subscriber.js"),i=r("../../../node_modules/rxjs/Observable.js"),a=r("../../../node_modules/rxjs/Subscription.js"),c=r("../../../node_modules/rxjs/util/root.js"),u=r("../../../node_modules/rxjs/ReplaySubject.js"),l=r("../../../node_modules/rxjs/util/tryCatch.js"),d=r("../../../node_modules/rxjs/util/errorObject.js"),p=r("../../../node_modules/rxjs/util/assign.js"),h=function(e){function t(t,r){if(t instanceof i.Observable)e.call(this,r,t);else{if(e.call(this),this.WebSocketCtor=c.root.WebSocket,this._output=new n.Subject,"string"==typeof t?this.url=t:p.assign(this,t),!this.WebSocketCtor)throw new Error("no WebSocket constructor can be found");this.destination=new u.ReplaySubject}}return o(t,e),t.prototype.resultSelector=function(e){return JSON.parse(e.data)},t.create=function(e){return new t(e)},t.prototype.lift=function(e){var r=new t(this,this.destination);return r.operator=e,r},t.prototype._resetState=function(){this.socket=null,this.source||(this.destination=new u.ReplaySubject),this._output=new n.Subject},t.prototype.multiplex=function(e,t,r){var o=this;return new i.Observable(function(n){var s=l.tryCatch(e)();s===d.errorObject?n.error(d.errorObject.e):o.next(s);var i=o.subscribe(function(e){var t=l.tryCatch(r)(e);t===d.errorObject?n.error(d.errorObject.e):t&&n.next(e)},function(e){return n.error(e)},function(){return n.complete()});return function(){var e=l.tryCatch(t)();e===d.errorObject?n.error(d.errorObject.e):o.next(e),i.unsubscribe()}})},t.prototype._connectSocket=function(){var e=this,t=this.WebSocketCtor,r=this._output,o=null;try{o=this.protocol?new t(this.url,this.protocol):new t(this.url),this.socket=o,this.binaryType&&(this.socket.binaryType=this.binaryType)}catch(e){return void r.error(e)}var n=new a.Subscription(function(){e.socket=null,o&&1===o.readyState&&o.close()});o.onopen=function(t){var i=e.openObserver;i&&i.next(t);var a=e.destination;e.destination=s.Subscriber.create(function(e){return 1===o.readyState&&o.send(e)},function(t){var n=e.closingObserver;n&&n.next(void 0),t&&t.code?o.close(t.code,t.reason):r.error(new TypeError("WebSocketSubject.error must be called with an object with an error code, and an optional reason: { code: number, reason: string }")),e._resetState()},function(){var t=e.closingObserver;t&&t.next(void 0),o.close(),e._resetState()}),a&&a instanceof u.ReplaySubject&&n.add(a.subscribe(e.destination))},o.onerror=function(t){e._resetState(),r.error(t)},o.onclose=function(t){e._resetState();var o=e.closeObserver;o&&o.next(t),t.wasClean?r.complete():r.error(t)},o.onmessage=function(t){var o=l.tryCatch(e.resultSelector)(t);o===d.errorObject?r.error(d.errorObject.e):r.next(o)}},t.prototype._subscribe=function(e){var t=this,r=this.source;if(r)return r.subscribe(e);this.socket||this._connectSocket();var o=new a.Subscription;return o.add(this._output.subscribe(e)),o.add(function(){var e=t.socket;0===t._output.observers.length&&(e&&1===e.readyState&&e.close(),t._resetState())}),o},t.prototype.unsubscribe=function(){var t=this.source,r=this.socket;r&&1===r.readyState&&(r.close(),this._resetState()),e.prototype.unsubscribe.call(this),t||(this.destination=new u.ReplaySubject)},t}(n.AnonymousSubject);t.WebSocketSubject=h},"../../../node_modules/rxjs/observable/dom/webSocket.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/observable/dom/WebSocketSubject.js");t.webSocket=o.WebSocketSubject.create},"../../../node_modules/rxjs/observable/forkJoin.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/observable/ForkJoinObservable.js");t.forkJoin=o.ForkJoinObservable.create},"../../../node_modules/rxjs/observable/from.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/rxjs/observable/from.js")},"../../../node_modules/rxjs/observable/fromEvent.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/observable/FromEventObservable.js");t.fromEvent=o.FromEventObservable.create},"../../../node_modules/rxjs/observable/fromEventPattern.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/observable/FromEventPatternObservable.js");t.fromEventPattern=o.FromEventPatternObservable.create},"../../../node_modules/rxjs/observable/fromPromise.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/observable/PromiseObservable.js");t.fromPromise=o.PromiseObservable.create},"../../../node_modules/rxjs/observable/generate.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/observable/GenerateObservable.js");t.generate=o.GenerateObservable.create},"../../../node_modules/rxjs/observable/if.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/observable/IfObservable.js");t._if=o.IfObservable.create},"../../../node_modules/rxjs/observable/merge.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/rxjs/observable/merge.js")},"../../../node_modules/rxjs/observable/never.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/observable/NeverObservable.js");t.never=o.NeverObservable.create},"../../../node_modules/rxjs/observable/of.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/rxjs/observable/of.js")},"../../../node_modules/rxjs/observable/onErrorResumeNext.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/onErrorResumeNext.js");t.onErrorResumeNext=o.onErrorResumeNextStatic},"../../../node_modules/rxjs/observable/pairs.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/observable/PairsObservable.js");t.pairs=o.PairsObservable.create},"../../../node_modules/rxjs/observable/race.js":function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=r("../../../node_modules/rxjs/util/isArray.js"),s=r("../../../node_modules/rxjs/observable/ArrayObservable.js"),i=r("../../../node_modules/rxjs/OuterSubscriber.js"),a=r("../../../node_modules/rxjs/util/subscribeToResult.js");t.race=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];if(1===e.length){if(!n.isArray(e[0]))return e[0];e=e[0]}return new s.ArrayObservable(e).lift(new c)};var c=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new u(e))},e}();t.RaceOperator=c;var u=function(e){function t(t){e.call(this,t),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}return o(t,e),t.prototype._next=function(e){this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{for(var r=0;r<t&&!this.hasFirst;r++){var o=e[r],n=a.subscribeToResult(this,o,o,r);this.subscriptions&&this.subscriptions.push(n),this.add(n)}this.observables=null}},t.prototype.notifyNext=function(e,t,r,o,n){if(!this.hasFirst){this.hasFirst=!0;for(var s=0;s<this.subscriptions.length;s++)if(s!==r){var i=this.subscriptions[s];i.unsubscribe(),this.remove(i)}this.subscriptions=null}this.destination.next(t)},t}(i.OuterSubscriber);t.RaceSubscriber=u},"../../../node_modules/rxjs/observable/range.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/observable/RangeObservable.js");t.range=o.RangeObservable.create},"../../../node_modules/rxjs/observable/timer.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/observable/TimerObservable.js");t.timer=o.TimerObservable.create},"../../../node_modules/rxjs/observable/using.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/observable/UsingObservable.js");t.using=o.UsingObservable.create},"../../../node_modules/rxjs/observable/zip.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/zip.js");t.zip=o.zipStatic},"../../../node_modules/rxjs/operator/audit.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/audit.js");t.audit=function(e){return o.audit(e)(this)}},"../../../node_modules/rxjs/operator/auditTime.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/scheduler/async.js"),n=r("../../../node_modules/rxjs/operators/auditTime.js");t.auditTime=function(e,t){return void 0===t&&(t=o.async),n.auditTime(e,t)(this)}},"../../../node_modules/rxjs/operator/buffer.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/buffer.js");t.buffer=function(e){return o.buffer(e)(this)}},"../../../node_modules/rxjs/operator/bufferCount.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/bufferCount.js");t.bufferCount=function(e,t){return void 0===t&&(t=null),o.bufferCount(e,t)(this)}},"../../../node_modules/rxjs/operator/bufferTime.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/scheduler/async.js"),n=r("../../../node_modules/rxjs/util/isScheduler.js"),s=r("../../../node_modules/rxjs/operators/bufferTime.js");t.bufferTime=function(e){var t=arguments.length,r=o.async;n.isScheduler(arguments[arguments.length-1])&&(r=arguments[arguments.length-1],t--);var i=null;t>=2&&(i=arguments[1]);var a=Number.POSITIVE_INFINITY;return t>=3&&(a=arguments[2]),s.bufferTime(e,i,a,r)(this)}},"../../../node_modules/rxjs/operator/bufferToggle.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/bufferToggle.js");t.bufferToggle=function(e,t){return o.bufferToggle(e,t)(this)}},"../../../node_modules/rxjs/operator/bufferWhen.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/bufferWhen.js");t.bufferWhen=function(e){return o.bufferWhen(e)(this)}},"../../../node_modules/rxjs/operator/combineAll.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/combineAll.js");t.combineAll=function(e){return o.combineAll(e)(this)}},"../../../node_modules/rxjs/operator/concat.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/concat.js"),n=r("../../../node_modules/rxjs/observable/concat.js");t.concatStatic=n.concat,t.concat=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return o.concat.apply(void 0,e)(this)}},"../../../node_modules/rxjs/operator/concatAll.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/concatAll.js");t.concatAll=function(){return o.concatAll()(this)}},"../../../node_modules/rxjs/operator/concatMap.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/concatMap.js");t.concatMap=function(e,t){return o.concatMap(e,t)(this)}},"../../../node_modules/rxjs/operator/concatMapTo.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/concatMapTo.js");t.concatMapTo=function(e,t){return o.concatMapTo(e,t)(this)}},"../../../node_modules/rxjs/operator/debounce.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/debounce.js");t.debounce=function(e){return o.debounce(e)(this)}},"../../../node_modules/rxjs/operator/debounceTime.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/scheduler/async.js"),n=r("../../../node_modules/rxjs/operators/debounceTime.js");t.debounceTime=function(e,t){return void 0===t&&(t=o.async),n.debounceTime(e,t)(this)}},"../../../node_modules/rxjs/operator/defaultIfEmpty.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/defaultIfEmpty.js");t.defaultIfEmpty=function(e){return void 0===e&&(e=null),o.defaultIfEmpty(e)(this)}},"../../../node_modules/rxjs/operator/delayWhen.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/delayWhen.js");t.delayWhen=function(e,t){return o.delayWhen(e,t)(this)}},"../../../node_modules/rxjs/operator/dematerialize.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/dematerialize.js");t.dematerialize=function(){return o.dematerialize()(this)}},"../../../node_modules/rxjs/operator/distinct.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/distinct.js");t.distinct=function(e,t){return o.distinct(e,t)(this)}},"../../../node_modules/rxjs/operator/distinctUntilChanged.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/distinctUntilChanged.js");t.distinctUntilChanged=function(e,t){return o.distinctUntilChanged(e,t)(this)}},"../../../node_modules/rxjs/operator/distinctUntilKeyChanged.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/distinctUntilKeyChanged.js");t.distinctUntilKeyChanged=function(e,t){return o.distinctUntilKeyChanged(e,t)(this)}},"../../../node_modules/rxjs/operator/elementAt.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/elementAt.js");t.elementAt=function(e,t){return o.elementAt(e,t)(this)}},"../../../node_modules/rxjs/operator/every.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/every.js");t.every=function(e,t){return o.every(e,t)(this)}},"../../../node_modules/rxjs/operator/exhaust.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/exhaust.js");t.exhaust=function(){return o.exhaust()(this)}},"../../../node_modules/rxjs/operator/exhaustMap.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/exhaustMap.js");t.exhaustMap=function(e,t){return o.exhaustMap(e,t)(this)}},"../../../node_modules/rxjs/operator/expand.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/expand.js");t.expand=function(e,t,r){return void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===r&&(r=void 0),t=(t||0)<1?Number.POSITIVE_INFINITY:t,o.expand(e,t,r)(this)}},"../../../node_modules/rxjs/operator/finally.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/finalize.js");t._finally=function(e){return o.finalize(e)(this)}},"../../../node_modules/rxjs/operator/find.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/find.js");t.find=function(e,t){return o.find(e,t)(this)}},"../../../node_modules/rxjs/operator/findIndex.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/findIndex.js");t.findIndex=function(e,t){return o.findIndex(e,t)(this)}},"../../../node_modules/rxjs/operator/first.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/first.js");t.first=function(e,t,r){return o.first(e,t,r)(this)}},"../../../node_modules/rxjs/operator/groupBy.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/groupBy.js");t.GroupedObservable=o.GroupedObservable,t.groupBy=function(e,t,r,n){return o.groupBy(e,t,r,n)(this)}},"../../../node_modules/rxjs/operator/ignoreElements.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/ignoreElements.js");t.ignoreElements=function(){return o.ignoreElements()(this)}},"../../../node_modules/rxjs/operator/isEmpty.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/isEmpty.js");t.isEmpty=function(){return o.isEmpty()(this)}},"../../../node_modules/rxjs/operator/last.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/last.js");t.last=function(e,t,r){return o.last(e,t,r)(this)}},"../../../node_modules/rxjs/operator/let.js":function(e,t,r){"use strict";t.letProto=function(e){return e(this)}},"../../../node_modules/rxjs/operator/mapTo.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/mapTo.js");t.mapTo=function(e){return o.mapTo(e)(this)}},"../../../node_modules/rxjs/operator/materialize.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/materialize.js");t.materialize=function(){return o.materialize()(this)}},"../../../node_modules/rxjs/operator/max.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/max.js");t.max=function(e){return o.max(e)(this)}},"../../../node_modules/rxjs/operator/merge.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/merge.js"),n=r("../../../node_modules/rxjs/observable/merge.js");t.mergeStatic=n.merge,t.merge=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return o.merge.apply(void 0,e)(this)}},"../../../node_modules/rxjs/operator/mergeAll.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/mergeAll.js");t.mergeAll=function(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),o.mergeAll(e)(this)}},"../../../node_modules/rxjs/operator/mergeMapTo.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/mergeMapTo.js");t.mergeMapTo=function(e,t,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),o.mergeMapTo(e,t,r)(this)}},"../../../node_modules/rxjs/operator/mergeScan.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/mergeScan.js");t.mergeScan=function(e,t,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),o.mergeScan(e,t,r)(this)}},"../../../node_modules/rxjs/operator/min.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/min.js");t.min=function(e){return o.min(e)(this)}},"../../../node_modules/rxjs/operator/multicast.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/multicast.js");t.multicast=function(e,t){return o.multicast(e,t)(this)}},"../../../node_modules/rxjs/operator/observeOn.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/observeOn.js");t.observeOn=function(e,t){return void 0===t&&(t=0),o.observeOn(e,t)(this)}},"../../../node_modules/rxjs/operator/onErrorResumeNext.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/onErrorResumeNext.js");t.onErrorResumeNext=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return o.onErrorResumeNext.apply(void 0,e)(this)}},"../../../node_modules/rxjs/operator/pairwise.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/pairwise.js");t.pairwise=function(){return o.pairwise()(this)}},"../../../node_modules/rxjs/operator/partition.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/partition.js");t.partition=function(e,t){return o.partition(e,t)(this)}},"../../../node_modules/rxjs/operator/pluck.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/pluck.js");t.pluck=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return o.pluck.apply(void 0,e)(this)}},"../../../node_modules/rxjs/operator/publish.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/publish.js");t.publish=function(e){return o.publish(e)(this)}},"../../../node_modules/rxjs/operator/publishBehavior.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/publishBehavior.js");t.publishBehavior=function(e){return o.publishBehavior(e)(this)}},"../../../node_modules/rxjs/operator/publishLast.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/publishLast.js");t.publishLast=function(){return o.publishLast()(this)}},"../../../node_modules/rxjs/operator/publishReplay.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/publishReplay.js");t.publishReplay=function(e,t,r,n){return o.publishReplay(e,t,r,n)(this)}},"../../../node_modules/rxjs/operator/race.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/race.js"),n=r("../../../node_modules/rxjs/observable/race.js");t.raceStatic=n.race,t.race=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return o.race.apply(void 0,e)(this)}},"../../../node_modules/rxjs/operator/reduce.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/reduce.js");t.reduce=function(e,t){return arguments.length>=2?o.reduce(e,t)(this):o.reduce(e)(this)}},"../../../node_modules/rxjs/operator/repeat.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/repeat.js");t.repeat=function(e){return void 0===e&&(e=-1),o.repeat(e)(this)}},"../../../node_modules/rxjs/operator/repeatWhen.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/repeatWhen.js");t.repeatWhen=function(e){return o.repeatWhen(e)(this)}},"../../../node_modules/rxjs/operator/retry.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/retry.js");t.retry=function(e){return void 0===e&&(e=-1),o.retry(e)(this)}},"../../../node_modules/rxjs/operator/sample.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/sample.js");t.sample=function(e){return o.sample(e)(this)}},"../../../node_modules/rxjs/operator/sampleTime.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/scheduler/async.js"),n=r("../../../node_modules/rxjs/operators/sampleTime.js");t.sampleTime=function(e,t){return void 0===t&&(t=o.async),n.sampleTime(e,t)(this)}},"../../../node_modules/rxjs/operator/scan.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/scan.js");t.scan=function(e,t){return arguments.length>=2?o.scan(e,t)(this):o.scan(e)(this)}},"../../../node_modules/rxjs/operator/sequenceEqual.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/sequenceEqual.js");t.sequenceEqual=function(e,t){return o.sequenceEqual(e,t)(this)}},"../../../node_modules/rxjs/operator/shareReplay.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/shareReplay.js");t.shareReplay=function(e,t,r){return o.shareReplay(e,t,r)(this)}},"../../../node_modules/rxjs/operator/single.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/single.js");t.single=function(e){return o.single(e)(this)}},"../../../node_modules/rxjs/operator/skip.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/skip.js");t.skip=function(e){return o.skip(e)(this)}},"../../../node_modules/rxjs/operator/skipLast.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/skipLast.js");t.skipLast=function(e){return o.skipLast(e)(this)}},"../../../node_modules/rxjs/operator/skipUntil.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/skipUntil.js");t.skipUntil=function(e){return o.skipUntil(e)(this)}},"../../../node_modules/rxjs/operator/skipWhile.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/skipWhile.js");t.skipWhile=function(e){return o.skipWhile(e)(this)}},"../../../node_modules/rxjs/operator/startWith.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/startWith.js");t.startWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return o.startWith.apply(void 0,e)(this)}},"../../../node_modules/rxjs/operator/subscribeOn.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/subscribeOn.js");t.subscribeOn=function(e,t){return void 0===t&&(t=0),o.subscribeOn(e,t)(this)}},"../../../node_modules/rxjs/operator/switch.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/switchAll.js");t._switch=function(){return o.switchAll()(this)}},"../../../node_modules/rxjs/operator/switchMap.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/rxjs/operator/switchMap.js")},"../../../node_modules/rxjs/operator/switchMapTo.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/switchMapTo.js");t.switchMapTo=function(e,t){return o.switchMapTo(e,t)(this)}},"../../../node_modules/rxjs/operator/takeLast.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/takeLast.js");t.takeLast=function(e){return o.takeLast(e)(this)}},"../../../node_modules/rxjs/operator/takeUntil.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/takeUntil.js");t.takeUntil=function(e){return o.takeUntil(e)(this)}},"../../../node_modules/rxjs/operator/takeWhile.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/takeWhile.js");t.takeWhile=function(e){return o.takeWhile(e)(this)}},"../../../node_modules/rxjs/operator/throttle.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/throttle.js");t.throttle=function(e,t){return void 0===t&&(t=o.defaultThrottleConfig),o.throttle(e,t)(this)}},"../../../node_modules/rxjs/operator/throttleTime.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/scheduler/async.js"),n=r("../../../node_modules/rxjs/operators/throttle.js"),s=r("../../../node_modules/rxjs/operators/throttleTime.js");t.throttleTime=function(e,t,r){return void 0===t&&(t=o.async),void 0===r&&(r=n.defaultThrottleConfig),s.throttleTime(e,t,r)(this)}},"../../../node_modules/rxjs/operator/timeInterval.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/scheduler/async.js"),n=r("../../../node_modules/rxjs/operators/timeInterval.js");t.TimeInterval=n.TimeInterval,t.timeInterval=function(e){return void 0===e&&(e=o.async),n.timeInterval(e)(this)}},"../../../node_modules/rxjs/operator/timeout.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/scheduler/async.js"),n=r("../../../node_modules/rxjs/operators/timeout.js");t.timeout=function(e,t){return void 0===t&&(t=o.async),n.timeout(e,t)(this)}},"../../../node_modules/rxjs/operator/timeoutWith.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/scheduler/async.js"),n=r("../../../node_modules/rxjs/operators/timeoutWith.js");t.timeoutWith=function(e,t,r){return void 0===r&&(r=o.async),n.timeoutWith(e,t,r)(this)}},"../../../node_modules/rxjs/operator/timestamp.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/scheduler/async.js"),n=r("../../../node_modules/rxjs/operators/timestamp.js");t.timestamp=function(e){return void 0===e&&(e=o.async),n.timestamp(e)(this)}},"../../../node_modules/rxjs/operator/toArray.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/toArray.js");t.toArray=function(){return o.toArray()(this)}},"../../../node_modules/rxjs/operator/window.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/window.js");t.window=function(e){return o.window(e)(this)}},"../../../node_modules/rxjs/operator/windowCount.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/windowCount.js");t.windowCount=function(e,t){return void 0===t&&(t=0),o.windowCount(e,t)(this)}},"../../../node_modules/rxjs/operator/windowTime.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/scheduler/async.js"),n=r("../../../node_modules/rxjs/util/isNumeric.js"),s=r("../../../node_modules/rxjs/util/isScheduler.js"),i=r("../../../node_modules/rxjs/operators/windowTime.js");t.windowTime=function(e){var t=o.async,r=null,a=Number.POSITIVE_INFINITY;return s.isScheduler(arguments[3])&&(t=arguments[3]),s.isScheduler(arguments[2])?t=arguments[2]:n.isNumeric(arguments[2])&&(a=arguments[2]),s.isScheduler(arguments[1])?t=arguments[1]:n.isNumeric(arguments[1])&&(r=arguments[1]),i.windowTime(e,r,a,t)(this)}},"../../../node_modules/rxjs/operator/windowToggle.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/windowToggle.js");t.windowToggle=function(e,t){return o.windowToggle(e,t)(this)}},"../../../node_modules/rxjs/operator/windowWhen.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/windowWhen.js");t.windowWhen=function(e){return o.windowWhen(e)(this)}},"../../../node_modules/rxjs/operator/withLatestFrom.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/withLatestFrom.js");t.withLatestFrom=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return o.withLatestFrom.apply(void 0,e)(this)}},"../../../node_modules/rxjs/operator/zip.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/zip.js");t.zipProto=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return o.zip.apply(void 0,e)(this)}},"../../../node_modules/rxjs/operator/zipAll.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/zipAll.js");t.zipAll=function(e){return o.zipAll(e)(this)}},"../../../node_modules/rxjs/operators.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/audit.js");t.audit=o.audit;var n=r("../../../node_modules/rxjs/operators/auditTime.js");t.auditTime=n.auditTime;var s=r("../../../node_modules/rxjs/operators/buffer.js");t.buffer=s.buffer;var i=r("../../../node_modules/rxjs/operators/bufferCount.js");t.bufferCount=i.bufferCount;var a=r("../../../node_modules/rxjs/operators/bufferTime.js");t.bufferTime=a.bufferTime;var c=r("../../../node_modules/rxjs/operators/bufferToggle.js");t.bufferToggle=c.bufferToggle;var u=r("../../../node_modules/rxjs/operators/bufferWhen.js");t.bufferWhen=u.bufferWhen;var l=r("../../../node_modules/rxjs/operators/catchError.js");t.catchError=l.catchError;var d=r("../../../node_modules/rxjs/operators/combineAll.js");t.combineAll=d.combineAll;var p=r("../../../node_modules/rxjs/operators/combineLatest.js");t.combineLatest=p.combineLatest;var h=r("../../../node_modules/rxjs/operators/concat.js");t.concat=h.concat;var f=r("../../../node_modules/rxjs/operators/concatAll.js");t.concatAll=f.concatAll;var m=r("../../../node_modules/rxjs/operators/concatMap.js");t.concatMap=m.concatMap;var b=r("../../../node_modules/rxjs/operators/concatMapTo.js");t.concatMapTo=b.concatMapTo;var v=r("../../../node_modules/rxjs/operators/count.js");t.count=v.count;var j=r("../../../node_modules/rxjs/operators/debounce.js");t.debounce=j.debounce;var y=r("../../../node_modules/rxjs/operators/debounceTime.js");t.debounceTime=y.debounceTime;var x=r("../../../node_modules/rxjs/operators/defaultIfEmpty.js");t.defaultIfEmpty=x.defaultIfEmpty;var g=r("../../../node_modules/rxjs/operators/delay.js");t.delay=g.delay;var _=r("../../../node_modules/rxjs/operators/delayWhen.js");t.delayWhen=_.delayWhen;var S=r("../../../node_modules/rxjs/operators/dematerialize.js");t.dematerialize=S.dematerialize;var w=r("../../../node_modules/rxjs/operators/distinct.js");t.distinct=w.distinct;var O=r("../../../node_modules/rxjs/operators/distinctUntilChanged.js");t.distinctUntilChanged=O.distinctUntilChanged;var E=r("../../../node_modules/rxjs/operators/distinctUntilKeyChanged.js");t.distinctUntilKeyChanged=E.distinctUntilKeyChanged;var C=r("../../../node_modules/rxjs/operators/elementAt.js");t.elementAt=C.elementAt;var T=r("../../../node_modules/rxjs/operators/every.js");t.every=T.every;var I=r("../../../node_modules/rxjs/operators/exhaust.js");t.exhaust=I.exhaust;var k=r("../../../node_modules/rxjs/operators/exhaustMap.js");t.exhaustMap=k.exhaustMap;var A=r("../../../node_modules/rxjs/operators/expand.js");t.expand=A.expand;var R=r("../../../node_modules/rxjs/operators/filter.js");t.filter=R.filter;var N=r("../../../node_modules/rxjs/operators/finalize.js");t.finalize=N.finalize;var P=r("../../../node_modules/rxjs/operators/find.js");t.find=P.find;var D=r("../../../node_modules/rxjs/operators/findIndex.js");t.findIndex=D.findIndex;var M=r("../../../node_modules/rxjs/operators/first.js");t.first=M.first;var F=r("../../../node_modules/rxjs/operators/groupBy.js");t.groupBy=F.groupBy;var L=r("../../../node_modules/rxjs/operators/ignoreElements.js");t.ignoreElements=L.ignoreElements;var B=r("../../../node_modules/rxjs/operators/isEmpty.js");t.isEmpty=B.isEmpty;var V=r("../../../node_modules/rxjs/operators/last.js");t.last=V.last;var z=r("../../../node_modules/rxjs/operators/map.js");t.map=z.map;var H=r("../../../node_modules/rxjs/operators/mapTo.js");t.mapTo=H.mapTo;var W=r("../../../node_modules/rxjs/operators/materialize.js");t.materialize=W.materialize;var U=r("../../../node_modules/rxjs/operators/max.js");t.max=U.max;var q=r("../../../node_modules/rxjs/operators/merge.js");t.merge=q.merge;var K=r("../../../node_modules/rxjs/operators/mergeAll.js");t.mergeAll=K.mergeAll;var $=r("../../../node_modules/rxjs/operators/mergeMap.js");t.mergeMap=$.mergeMap;var Y=r("../../../node_modules/rxjs/operators/mergeMap.js");t.flatMap=Y.mergeMap;var G=r("../../../node_modules/rxjs/operators/mergeMapTo.js");t.mergeMapTo=G.mergeMapTo;var Q=r("../../../node_modules/rxjs/operators/mergeScan.js");t.mergeScan=Q.mergeScan;var J=r("../../../node_modules/rxjs/operators/min.js");t.min=J.min;var X=r("../../../node_modules/rxjs/operators/multicast.js");t.multicast=X.multicast;var Z=r("../../../node_modules/rxjs/operators/observeOn.js");t.observeOn=Z.observeOn;var ee=r("../../../node_modules/rxjs/operators/onErrorResumeNext.js");t.onErrorResumeNext=ee.onErrorResumeNext;var te=r("../../../node_modules/rxjs/operators/pairwise.js");t.pairwise=te.pairwise;var re=r("../../../node_modules/rxjs/operators/partition.js");t.partition=re.partition;var oe=r("../../../node_modules/rxjs/operators/pluck.js");t.pluck=oe.pluck;var ne=r("../../../node_modules/rxjs/operators/publish.js");t.publish=ne.publish;var se=r("../../../node_modules/rxjs/operators/publishBehavior.js");t.publishBehavior=se.publishBehavior;var ie=r("../../../node_modules/rxjs/operators/publishLast.js");t.publishLast=ie.publishLast;var ae=r("../../../node_modules/rxjs/operators/publishReplay.js");t.publishReplay=ae.publishReplay;var ce=r("../../../node_modules/rxjs/operators/race.js");t.race=ce.race;var ue=r("../../../node_modules/rxjs/operators/reduce.js");t.reduce=ue.reduce;var le=r("../../../node_modules/rxjs/operators/repeat.js");t.repeat=le.repeat;var de=r("../../../node_modules/rxjs/operators/repeatWhen.js");t.repeatWhen=de.repeatWhen;var pe=r("../../../node_modules/rxjs/operators/retry.js");t.retry=pe.retry;var he=r("../../../node_modules/rxjs/operators/retryWhen.js");t.retryWhen=he.retryWhen;var fe=r("../../../node_modules/rxjs/operators/refCount.js");t.refCount=fe.refCount;var me=r("../../../node_modules/rxjs/operators/sample.js");t.sample=me.sample;var be=r("../../../node_modules/rxjs/operators/sampleTime.js");t.sampleTime=be.sampleTime;var ve=r("../../../node_modules/rxjs/operators/scan.js");t.scan=ve.scan;var je=r("../../../node_modules/rxjs/operators/sequenceEqual.js");t.sequenceEqual=je.sequenceEqual;var ye=r("../../../node_modules/rxjs/operators/share.js");t.share=ye.share;var xe=r("../../../node_modules/rxjs/operators/shareReplay.js");t.shareReplay=xe.shareReplay;var ge=r("../../../node_modules/rxjs/operators/single.js");t.single=ge.single;var _e=r("../../../node_modules/rxjs/operators/skip.js");t.skip=_e.skip;var Se=r("../../../node_modules/rxjs/operators/skipLast.js");t.skipLast=Se.skipLast;var we=r("../../../node_modules/rxjs/operators/skipUntil.js");t.skipUntil=we.skipUntil;var Oe=r("../../../node_modules/rxjs/operators/skipWhile.js");t.skipWhile=Oe.skipWhile;var Ee=r("../../../node_modules/rxjs/operators/startWith.js");t.startWith=Ee.startWith;var Ce=r("../../../node_modules/rxjs/operators/switchAll.js");t.switchAll=Ce.switchAll;var Te=r("../../../node_modules/rxjs/operators/switchMap.js");t.switchMap=Te.switchMap;var Ie=r("../../../node_modules/rxjs/operators/switchMapTo.js");t.switchMapTo=Ie.switchMapTo;var ke=r("../../../node_modules/rxjs/operators/take.js");t.take=ke.take;var Ae=r("../../../node_modules/rxjs/operators/takeLast.js");t.takeLast=Ae.takeLast;var Re=r("../../../node_modules/rxjs/operators/takeUntil.js");t.takeUntil=Re.takeUntil;var Ne=r("../../../node_modules/rxjs/operators/takeWhile.js");t.takeWhile=Ne.takeWhile;var Pe=r("../../../node_modules/rxjs/operators/tap.js");t.tap=Pe.tap;var De=r("../../../node_modules/rxjs/operators/throttle.js");t.throttle=De.throttle;var Me=r("../../../node_modules/rxjs/operators/throttleTime.js");t.throttleTime=Me.throttleTime;var Fe=r("../../../node_modules/rxjs/operators/timeInterval.js");t.timeInterval=Fe.timeInterval;var Le=r("../../../node_modules/rxjs/operators/timeout.js");t.timeout=Le.timeout;var Be=r("../../../node_modules/rxjs/operators/timeoutWith.js");t.timeoutWith=Be.timeoutWith;var Ve=r("../../../node_modules/rxjs/operators/timestamp.js");t.timestamp=Ve.timestamp;var ze=r("../../../node_modules/rxjs/operators/toArray.js");t.toArray=ze.toArray;var He=r("../../../node_modules/rxjs/operators/window.js");t.window=He.window;var We=r("../../../node_modules/rxjs/operators/windowCount.js");t.windowCount=We.windowCount;var Ue=r("../../../node_modules/rxjs/operators/windowTime.js");t.windowTime=Ue.windowTime;var qe=r("../../../node_modules/rxjs/operators/windowToggle.js");t.windowToggle=qe.windowToggle;var Ke=r("../../../node_modules/rxjs/operators/windowWhen.js");t.windowWhen=Ke.windowWhen;var $e=r("../../../node_modules/rxjs/operators/withLatestFrom.js");t.withLatestFrom=$e.withLatestFrom;var Ye=r("../../../node_modules/rxjs/operators/zip.js");t.zip=Ye.zip;var Ge=r("../../../node_modules/rxjs/operators/zipAll.js");t.zipAll=Ge.zipAll},"../../../node_modules/rxjs/operators/audit.js":function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=r("../../../node_modules/rxjs/util/tryCatch.js"),s=r("../../../node_modules/rxjs/util/errorObject.js"),i=r("../../../node_modules/rxjs/OuterSubscriber.js"),a=r("../../../node_modules/rxjs/util/subscribeToResult.js");t.audit=function(e){return function(t){return t.lift(new c(e))}};var c=function(){function e(e){this.durationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.durationSelector))},e}(),u=function(e){function t(t,r){e.call(this,t),this.durationSelector=r,this.hasValue=!1}return o(t,e),t.prototype._next=function(e){if(this.value=e,this.hasValue=!0,!this.throttled){var t=n.tryCatch(this.durationSelector)(e);if(t===s.errorObject)this.destination.error(s.errorObject.e);else{var r=a.subscribeToResult(this,t);r.closed?this.clearThrottle():this.add(this.throttled=r)}}},t.prototype.clearThrottle=function(){var e=this.value,t=this.hasValue,r=this.throttled;r&&(this.remove(r),this.throttled=null,r.unsubscribe()),t&&(this.value=null,this.hasValue=!1,this.destination.next(e))},t.prototype.notifyNext=function(e,t,r,o){this.clearThrottle()},t.prototype.notifyComplete=function(){this.clearThrottle()},t}(i.OuterSubscriber)},"../../../node_modules/rxjs/operators/auditTime.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/scheduler/async.js"),n=r("../../../node_modules/rxjs/operators/audit.js"),s=r("../../../node_modules/rxjs/observable/timer.js");t.auditTime=function(e,t){return void 0===t&&(t=o.async),n.audit(function(){return s.timer(e,t)})}},"../../../node_modules/rxjs/operators/buffer.js":function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=r("../../../node_modules/rxjs/OuterSubscriber.js"),s=r("../../../node_modules/rxjs/util/subscribeToResult.js");t.buffer=function(e){return function(t){return t.lift(new i(e))}};var i=function(){function e(e){this.closingNotifier=e}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.closingNotifier))},e}(),a=function(e){function t(t,r){e.call(this,t),this.buffer=[],this.add(s.subscribeToResult(this,r))}return o(t,e),t.prototype._next=function(e){this.buffer.push(e)},t.prototype.notifyNext=function(e,t,r,o,n){var s=this.buffer;this.buffer=[],this.destination.next(s)},t}(n.OuterSubscriber)},"../../../node_modules/rxjs/operators/bufferCount.js":function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=r("../../../node_modules/rxjs/Subscriber.js");t.bufferCount=function(e,t){return void 0===t&&(t=null),function(r){return r.lift(new s(e,t))}};var s=function(){function e(e,t){this.bufferSize=e,this.startBufferEvery=t,this.subscriberClass=t&&e!==t?a:i}return e.prototype.call=function(e,t){return t.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))},e}(),i=function(e){function t(t,r){e.call(this,t),this.bufferSize=r,this.buffer=[]}return o(t,e),t.prototype._next=function(e){var t=this.buffer;t.push(e),t.length==this.bufferSize&&(this.destination.next(t),this.buffer=[])},t.prototype._complete=function(){var t=this.buffer;t.length>0&&this.destination.next(t),e.prototype._complete.call(this)},t}(n.Subscriber),a=function(e){function t(t,r,o){e.call(this,t),this.bufferSize=r,this.startBufferEvery=o,this.buffers=[],this.count=0}return o(t,e),t.prototype._next=function(e){var t=this.bufferSize,r=this.startBufferEvery,o=this.buffers,n=this.count;this.count++,n%r==0&&o.push([]);for(var s=o.length;s--;){var i=o[s];i.push(e),i.length===t&&(o.splice(s,1),this.destination.next(i))}},t.prototype._complete=function(){for(var t=this.buffers,r=this.destination;t.length>0;){var o=t.shift();o.length>0&&r.next(o)}e.prototype._complete.call(this)},t}(n.Subscriber)},"../../../node_modules/rxjs/operators/bufferTime.js":function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=r("../../../node_modules/rxjs/scheduler/async.js"),s=r("../../../node_modules/rxjs/Subscriber.js"),i=r("../../../node_modules/rxjs/util/isScheduler.js");t.bufferTime=function(e){var t=arguments.length,r=n.async;i.isScheduler(arguments[arguments.length-1])&&(r=arguments[arguments.length-1],t--);var o=null;t>=2&&(o=arguments[1]);var s=Number.POSITIVE_INFINITY;return t>=3&&(s=arguments[2]),function(t){return t.lift(new a(e,o,s,r))}};var a=function(){function e(e,t,r,o){this.bufferTimeSpan=e,this.bufferCreationInterval=t,this.maxBufferSize=r,this.scheduler=o}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},e}(),c=function(){return function(){this.buffer=[]}}(),u=function(e){function t(t,r,o,n,s){e.call(this,t),this.bufferTimeSpan=r,this.bufferCreationInterval=o,this.maxBufferSize=n,this.scheduler=s,this.contexts=[];var i=this.openContext();if(this.timespanOnly=null==o||o<0,this.timespanOnly){var a={subscriber:this,context:i,bufferTimeSpan:r};this.add(i.closeAction=s.schedule(l,r,a))}else{var c={subscriber:this,context:i},u={bufferTimeSpan:r,bufferCreationInterval:o,subscriber:this,scheduler:s};this.add(i.closeAction=s.schedule(p,r,c)),this.add(s.schedule(d,o,u))}}return o(t,e),t.prototype._next=function(e){for(var t,r=this.contexts,o=r.length,n=0;n<o;n++){var s=r[n],i=s.buffer;i.push(e),i.length==this.maxBufferSize&&(t=s)}t&&this.onBufferFull(t)},t.prototype._error=function(t){this.contexts.length=0,e.prototype._error.call(this,t)},t.prototype._complete=function(){for(var t=this.contexts,r=this.destination;t.length>0;){var o=t.shift();r.next(o.buffer)}e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.contexts=null},t.prototype.onBufferFull=function(e){this.closeContext(e);var t=e.closeAction;if(t.unsubscribe(),this.remove(t),!this.closed&&this.timespanOnly){e=this.openContext();var r=this.bufferTimeSpan,o={subscriber:this,context:e,bufferTimeSpan:r};this.add(e.closeAction=this.scheduler.schedule(l,r,o))}},t.prototype.openContext=function(){var e=new c;return this.contexts.push(e),e},t.prototype.closeContext=function(e){this.destination.next(e.buffer);var t=this.contexts;(t?t.indexOf(e):-1)>=0&&t.splice(t.indexOf(e),1)},t}(s.Subscriber);function l(e){var t=e.subscriber,r=e.context;r&&t.closeContext(r),t.closed||(e.context=t.openContext(),e.context.closeAction=this.schedule(e,e.bufferTimeSpan))}function d(e){var t=e.bufferCreationInterval,r=e.bufferTimeSpan,o=e.subscriber,n=e.scheduler,s=o.openContext();o.closed||(o.add(s.closeAction=n.schedule(p,r,{subscriber:o,context:s})),this.schedule(e,t))}function p(e){var t=e.subscriber,r=e.context;t.closeContext(r)}},"../../../node_modules/rxjs/operators/bufferToggle.js":function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=r("../../../node_modules/rxjs/Subscription.js"),s=r("../../../node_modules/rxjs/util/subscribeToResult.js"),i=r("../../../node_modules/rxjs/OuterSubscriber.js");t.bufferToggle=function(e,t){return function(r){return r.lift(new a(e,t))}};var a=function(){function e(e,t){this.openings=e,this.closingSelector=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.openings,this.closingSelector))},e}(),c=function(e){function t(t,r,o){e.call(this,t),this.openings=r,this.closingSelector=o,this.contexts=[],this.add(s.subscribeToResult(this,r))}return o(t,e),t.prototype._next=function(e){for(var t=this.contexts,r=t.length,o=0;o<r;o++)t[o].buffer.push(e)},t.prototype._error=function(t){for(var r=this.contexts;r.length>0;){var o=r.shift();o.subscription.unsubscribe(),o.buffer=null,o.subscription=null}this.contexts=null,e.prototype._error.call(this,t)},t.prototype._complete=function(){for(var t=this.contexts;t.length>0;){var r=t.shift();this.destination.next(r.buffer),r.subscription.unsubscribe(),r.buffer=null,r.subscription=null}this.contexts=null,e.prototype._complete.call(this)},t.prototype.notifyNext=function(e,t,r,o,n){e?this.closeBuffer(e):this.openBuffer(t)},t.prototype.notifyComplete=function(e){this.closeBuffer(e.context)},t.prototype.openBuffer=function(e){try{var t=this.closingSelector.call(this,e);t&&this.trySubscribe(t)}catch(e){this._error(e)}},t.prototype.closeBuffer=function(e){var t=this.contexts;if(t&&e){var r=e.buffer,o=e.subscription;this.destination.next(r),t.splice(t.indexOf(e),1),this.remove(o),o.unsubscribe()}},t.prototype.trySubscribe=function(e){var t=this.contexts,r=new n.Subscription,o={buffer:[],subscription:r};t.push(o);var i=s.subscribeToResult(this,e,o);!i||i.closed?this.closeBuffer(o):(i.context=o,this.add(i),r.add(i))},t}(i.OuterSubscriber)},"../../../node_modules/rxjs/operators/bufferWhen.js":function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=r("../../../node_modules/rxjs/Subscription.js"),s=r("../../../node_modules/rxjs/util/tryCatch.js"),i=r("../../../node_modules/rxjs/util/errorObject.js"),a=r("../../../node_modules/rxjs/OuterSubscriber.js"),c=r("../../../node_modules/rxjs/util/subscribeToResult.js");t.bufferWhen=function(e){return function(t){return t.lift(new u(e))}};var u=function(){function e(e){this.closingSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.closingSelector))},e}(),l=function(e){function t(t,r){e.call(this,t),this.closingSelector=r,this.subscribing=!1,this.openBuffer()}return o(t,e),t.prototype._next=function(e){this.buffer.push(e)},t.prototype._complete=function(){var t=this.buffer;t&&this.destination.next(t),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.buffer=null,this.subscribing=!1},t.prototype.notifyNext=function(e,t,r,o,n){this.openBuffer()},t.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},t.prototype.openBuffer=function(){var e=this.closingSubscription;e&&(this.remove(e),e.unsubscribe());var t=this.buffer;this.buffer&&this.destination.next(t),this.buffer=[];var r=s.tryCatch(this.closingSelector)();r===i.errorObject?this.error(i.errorObject.e):(e=new n.Subscription,this.closingSubscription=e,this.add(e),this.subscribing=!0,e.add(c.subscribeToResult(this,r)),this.subscribing=!1)},t}(a.OuterSubscriber)},"../../../node_modules/rxjs/operators/catchError.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/rxjs/operators/catchError.js")},"../../../node_modules/rxjs/operators/combineAll.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/combineLatest.js");t.combineAll=function(e){return function(t){return t.lift(new o.CombineLatestOperator(e))}}},"../../../node_modules/rxjs/operators/combineLatest.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/rxjs/operators/combineLatest.js")},"../../../node_modules/rxjs/operators/concat.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/observable/concat.js"),n=r("../../../node_modules/rxjs/observable/concat.js");t.concatStatic=n.concat,t.concat=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return function(t){return t.lift.call(o.concat.apply(void 0,[t].concat(e)))}}},"../../../node_modules/rxjs/operators/concatAll.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/mergeAll.js");t.concatAll=function(){return o.mergeAll(1)}},"../../../node_modules/rxjs/operators/concatMap.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/mergeMap.js");t.concatMap=function(e,t){return o.mergeMap(e,t,1)}},"../../../node_modules/rxjs/operators/concatMapTo.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/concatMap.js");t.concatMapTo=function(e,t){return o.concatMap(function(){return e},t)}},"../../../node_modules/rxjs/operators/count.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/rxjs/operators/count.js")},"../../../node_modules/rxjs/operators/debounce.js":function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=r("../../../node_modules/rxjs/OuterSubscriber.js"),s=r("../../../node_modules/rxjs/util/subscribeToResult.js");t.debounce=function(e){return function(t){return t.lift(new i(e))}};var i=function(){function e(e){this.durationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.durationSelector))},e}(),a=function(e){function t(t,r){e.call(this,t),this.durationSelector=r,this.hasValue=!1,this.durationSubscription=null}return o(t,e),t.prototype._next=function(e){try{var t=this.durationSelector.call(this,e);t&&this._tryNext(e,t)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){this.emitValue(),this.destination.complete()},t.prototype._tryNext=function(e,t){var r=this.durationSubscription;this.value=e,this.hasValue=!0,r&&(r.unsubscribe(),this.remove(r)),(r=s.subscribeToResult(this,t)).closed||this.add(this.durationSubscription=r)},t.prototype.notifyNext=function(e,t,r,o,n){this.emitValue()},t.prototype.notifyComplete=function(){this.emitValue()},t.prototype.emitValue=function(){if(this.hasValue){var t=this.value,r=this.durationSubscription;r&&(this.durationSubscription=null,r.unsubscribe(),this.remove(r)),this.value=null,this.hasValue=!1,e.prototype._next.call(this,t)}},t}(n.OuterSubscriber)},"../../../node_modules/rxjs/operators/debounceTime.js":function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=r("../../../node_modules/rxjs/Subscriber.js"),s=r("../../../node_modules/rxjs/scheduler/async.js");t.debounceTime=function(e,t){return void 0===t&&(t=s.async),function(r){return r.lift(new i(e,t))}};var i=function(){function e(e,t){this.dueTime=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.dueTime,this.scheduler))},e}(),a=function(e){function t(t,r,o){e.call(this,t),this.dueTime=r,this.scheduler=o,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}return o(t,e),t.prototype._next=function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(c,this.dueTime,this))},t.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},t.prototype.debouncedNext=function(){this.clearDebounce(),this.hasValue&&(this.destination.next(this.lastValue),this.lastValue=null,this.hasValue=!1)},t.prototype.clearDebounce=function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)},t}(n.Subscriber);function c(e){e.debouncedNext()}},"../../../node_modules/rxjs/operators/defaultIfEmpty.js":function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=r("../../../node_modules/rxjs/Subscriber.js");t.defaultIfEmpty=function(e){return void 0===e&&(e=null),function(t){return t.lift(new s(e))}};var s=function(){function e(e){this.defaultValue=e}return e.prototype.call=function(e,t){return t.subscribe(new i(e,this.defaultValue))},e}(),i=function(e){function t(t,r){e.call(this,t),this.defaultValue=r,this.isEmpty=!0}return o(t,e),t.prototype._next=function(e){this.isEmpty=!1,this.destination.next(e)},t.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},t}(n.Subscriber)},"../../../node_modules/rxjs/operators/delay.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/rxjs/operators/delay.js")},"../../../node_modules/rxjs/operators/delayWhen.js":function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=r("../../../node_modules/rxjs/Subscriber.js"),s=r("../../../node_modules/rxjs/Observable.js"),i=r("../../../node_modules/rxjs/OuterSubscriber.js"),a=r("../../../node_modules/rxjs/util/subscribeToResult.js");t.delayWhen=function(e,t){return t?function(r){return new l(r,t).lift(new c(e))}:function(t){return t.lift(new c(e))}};var c=function(){function e(e){this.delayDurationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.delayDurationSelector))},e}(),u=function(e){function t(t,r){e.call(this,t),this.delayDurationSelector=r,this.completed=!1,this.delayNotifierSubscriptions=[],this.values=[]}return o(t,e),t.prototype.notifyNext=function(e,t,r,o,n){this.destination.next(e),this.removeSubscription(n),this.tryComplete()},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype.notifyComplete=function(e){var t=this.removeSubscription(e);t&&this.destination.next(t),this.tryComplete()},t.prototype._next=function(e){try{var t=this.delayDurationSelector(e);t&&this.tryDelay(t,e)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){this.completed=!0,this.tryComplete()},t.prototype.removeSubscription=function(e){e.unsubscribe();var t=this.delayNotifierSubscriptions.indexOf(e),r=null;return-1!==t&&(r=this.values[t],this.delayNotifierSubscriptions.splice(t,1),this.values.splice(t,1)),r},t.prototype.tryDelay=function(e,t){var r=a.subscribeToResult(this,e,t);r&&!r.closed&&(this.add(r),this.delayNotifierSubscriptions.push(r)),this.values.push(t)},t.prototype.tryComplete=function(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()},t}(i.OuterSubscriber),l=function(e){function t(t,r){e.call(this),this.source=t,this.subscriptionDelay=r}return o(t,e),t.prototype._subscribe=function(e){this.subscriptionDelay.subscribe(new d(e,this.source))},t}(s.Observable),d=function(e){function t(t,r){e.call(this),this.parent=t,this.source=r,this.sourceSubscribed=!1}return o(t,e),t.prototype._next=function(e){this.subscribeToSource()},t.prototype._error=function(e){this.unsubscribe(),this.parent.error(e)},t.prototype._complete=function(){this.subscribeToSource()},t.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},t}(n.Subscriber)},"../../../node_modules/rxjs/operators/dematerialize.js":function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=r("../../../node_modules/rxjs/Subscriber.js");t.dematerialize=function(){return function(e){return e.lift(new s)}};var s=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new i(e))},e}(),i=function(e){function t(t){e.call(this,t)}return o(t,e),t.prototype._next=function(e){e.observe(this.destination)},t}(n.Subscriber)},"../../../node_modules/rxjs/operators/distinct.js":function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=r("../../../node_modules/rxjs/OuterSubscriber.js"),s=r("../../../node_modules/rxjs/util/subscribeToResult.js"),i=r("../../../node_modules/rxjs/util/Set.js");t.distinct=function(e,t){return function(r){return r.lift(new a(e,t))}};var a=function(){function e(e,t){this.keySelector=e,this.flushes=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.keySelector,this.flushes))},e}(),c=function(e){function t(t,r,o){e.call(this,t),this.keySelector=r,this.values=new i.Set,o&&this.add(s.subscribeToResult(this,o))}return o(t,e),t.prototype.notifyNext=function(e,t,r,o,n){this.values.clear()},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype._next=function(e){this.keySelector?this._useKeySelector(e):this._finalizeNext(e,e)},t.prototype._useKeySelector=function(e){var t,r=this.destination;try{t=this.keySelector(e)}catch(e){return void r.error(e)}this._finalizeNext(t,e)},t.prototype._finalizeNext=function(e,t){var r=this.values;r.has(e)||(r.add(e),this.destination.next(t))},t}(n.OuterSubscriber);t.DistinctSubscriber=c},"../../../node_modules/rxjs/operators/distinctUntilChanged.js":function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=r("../../../node_modules/rxjs/Subscriber.js"),s=r("../../../node_modules/rxjs/util/tryCatch.js"),i=r("../../../node_modules/rxjs/util/errorObject.js");t.distinctUntilChanged=function(e,t){return function(r){return r.lift(new a(e,t))}};var a=function(){function e(e,t){this.compare=e,this.keySelector=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.compare,this.keySelector))},e}(),c=function(e){function t(t,r,o){e.call(this,t),this.keySelector=o,this.hasKey=!1,"function"==typeof r&&(this.compare=r)}return o(t,e),t.prototype.compare=function(e,t){return e===t},t.prototype._next=function(e){var t=e;if(this.keySelector&&(t=s.tryCatch(this.keySelector)(e))===i.errorObject)return this.destination.error(i.errorObject.e);var r=!1;if(this.hasKey){if((r=s.tryCatch(this.compare)(this.key,t))===i.errorObject)return this.destination.error(i.errorObject.e)}else this.hasKey=!0;!1===Boolean(r)&&(this.key=t,this.destination.next(e))},t}(n.Subscriber)},"../../../node_modules/rxjs/operators/distinctUntilKeyChanged.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/distinctUntilChanged.js");t.distinctUntilKeyChanged=function(e,t){return o.distinctUntilChanged(function(r,o){return t?t(r[e],o[e]):r[e]===o[e]})}},"../../../node_modules/rxjs/operators/elementAt.js":function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=r("../../../node_modules/rxjs/Subscriber.js"),s=r("../../../node_modules/rxjs/util/ArgumentOutOfRangeError.js");t.elementAt=function(e,t){return function(r){return r.lift(new i(e,t))}};var i=function(){function e(e,t){if(this.index=e,this.defaultValue=t,e<0)throw new s.ArgumentOutOfRangeError}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.index,this.defaultValue))},e}(),a=function(e){function t(t,r,o){e.call(this,t),this.index=r,this.defaultValue=o}return o(t,e),t.prototype._next=function(e){0==this.index--&&(this.destination.next(e),this.destination.complete())},t.prototype._complete=function(){var e=this.destination;this.index>=0&&(void 0!==this.defaultValue?e.next(this.defaultValue):e.error(new s.ArgumentOutOfRangeError)),e.complete()},t}(n.Subscriber)},"../../../node_modules/rxjs/operators/every.js":function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=r("../../../node_modules/rxjs/Subscriber.js");t.every=function(e,t){return function(r){return r.lift(new s(e,t,r))}};var s=function(){function e(e,t,r){this.predicate=e,this.thisArg=t,this.source=r}return e.prototype.call=function(e,t){return t.subscribe(new i(e,this.predicate,this.thisArg,this.source))},e}(),i=function(e){function t(t,r,o,n){e.call(this,t),this.predicate=r,this.thisArg=o,this.source=n,this.index=0,this.thisArg=o||this}return o(t,e),t.prototype.notifyComplete=function(e){this.destination.next(e),this.destination.complete()},t.prototype._next=function(e){var t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(e){return void this.destination.error(e)}t||this.notifyComplete(!1)},t.prototype._complete=function(){this.notifyComplete(!0)},t}(n.Subscriber)},"../../../node_modules/rxjs/operators/exhaust.js":function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=r("../../../node_modules/rxjs/OuterSubscriber.js"),s=r("../../../node_modules/rxjs/util/subscribeToResult.js");t.exhaust=function(){return function(e){return e.lift(new i)}};var i=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new a(e))},e}(),a=function(e){function t(t){e.call(this,t),this.hasCompleted=!1,this.hasSubscription=!1}return o(t,e),t.prototype._next=function(e){this.hasSubscription||(this.hasSubscription=!0,this.add(s.subscribeToResult(this,e)))},t.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},t.prototype.notifyComplete=function(e){this.remove(e),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},t}(n.OuterSubscriber)},"../../../node_modules/rxjs/operators/exhaustMap.js":function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=r("../../../node_modules/rxjs/OuterSubscriber.js"),s=r("../../../node_modules/rxjs/util/subscribeToResult.js");t.exhaustMap=function(e,t){return function(r){return r.lift(new i(e,t))}};var i=function(){function e(e,t){this.project=e,this.resultSelector=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.project,this.resultSelector))},e}(),a=function(e){function t(t,r,o){e.call(this,t),this.project=r,this.resultSelector=o,this.hasSubscription=!1,this.hasCompleted=!1,this.index=0}return o(t,e),t.prototype._next=function(e){this.hasSubscription||this.tryNext(e)},t.prototype.tryNext=function(e){var t=this.index++,r=this.destination;try{var o=this.project(e,t);this.hasSubscription=!0,this.add(s.subscribeToResult(this,o,e,t))}catch(e){r.error(e)}},t.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},t.prototype.notifyNext=function(e,t,r,o,n){var s=this.resultSelector,i=this.destination;s?this.trySelectResult(e,t,r,o):i.next(t)},t.prototype.trySelectResult=function(e,t,r,o){var n=this.resultSelector,s=this.destination;try{var i=n(e,t,r,o);s.next(i)}catch(e){s.error(e)}},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.remove(e),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},t}(n.OuterSubscriber)},"../../../node_modules/rxjs/operators/expand.js":function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=r("../../../node_modules/rxjs/util/tryCatch.js"),s=r("../../../node_modules/rxjs/util/errorObject.js"),i=r("../../../node_modules/rxjs/OuterSubscriber.js"),a=r("../../../node_modules/rxjs/util/subscribeToResult.js");t.expand=function(e,t,r){return void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===r&&(r=void 0),t=(t||0)<1?Number.POSITIVE_INFINITY:t,function(o){return o.lift(new c(e,t,r))}};var c=function(){function e(e,t,r){this.project=e,this.concurrent=t,this.scheduler=r}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.project,this.concurrent,this.scheduler))},e}();t.ExpandOperator=c;var u=function(e){function t(t,r,o,n){e.call(this,t),this.project=r,this.concurrent=o,this.scheduler=n,this.index=0,this.active=0,this.hasCompleted=!1,o<Number.POSITIVE_INFINITY&&(this.buffer=[])}return o(t,e),t.dispatch=function(e){var t=e.subscriber,r=e.result,o=e.value,n=e.index;t.subscribeToProjection(r,o,n)},t.prototype._next=function(e){var r=this.destination;if(r.closed)this._complete();else{var o=this.index++;if(this.active<this.concurrent){r.next(e);var i=n.tryCatch(this.project)(e,o);if(i===s.errorObject)r.error(s.errorObject.e);else if(this.scheduler){var a={subscriber:this,result:i,value:e,index:o};this.add(this.scheduler.schedule(t.dispatch,0,a))}else this.subscribeToProjection(i,e,o)}else this.buffer.push(e)}},t.prototype.subscribeToProjection=function(e,t,r){this.active++,this.add(a.subscribeToResult(this,e,t,r))},t.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete()},t.prototype.notifyNext=function(e,t,r,o,n){this._next(t)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t&&t.length>0&&this._next(t.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()},t}(i.OuterSubscriber);t.ExpandSubscriber=u},"../../../node_modules/rxjs/operators/filter.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/rxjs/operators/filter.js")},"../../../node_modules/rxjs/operators/finalize.js":function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=r("../../../node_modules/rxjs/Subscriber.js"),s=r("../../../node_modules/rxjs/Subscription.js");t.finalize=function(e){return function(t){return t.lift(new i(e))}};var i=function(){function e(e){this.callback=e}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.callback))},e}(),a=function(e){function t(t,r){e.call(this,t),this.add(new s.Subscription(r))}return o(t,e),t}(n.Subscriber)},"../../../node_modules/rxjs/operators/find.js":function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=r("../../../node_modules/rxjs/Subscriber.js");t.find=function(e,t){if("function"!=typeof e)throw new TypeError("predicate is not a function");return function(r){return r.lift(new s(e,r,!1,t))}};var s=function(){function e(e,t,r,o){this.predicate=e,this.source=t,this.yieldIndex=r,this.thisArg=o}return e.prototype.call=function(e,t){return t.subscribe(new i(e,this.predicate,this.source,this.yieldIndex,this.thisArg))},e}();t.FindValueOperator=s;var i=function(e){function t(t,r,o,n,s){e.call(this,t),this.predicate=r,this.source=o,this.yieldIndex=n,this.thisArg=s,this.index=0}return o(t,e),t.prototype.notifyComplete=function(e){var t=this.destination;t.next(e),t.complete()},t.prototype._next=function(e){var t=this.predicate,r=this.thisArg,o=this.index++;try{t.call(r||this,e,o,this.source)&&this.notifyComplete(this.yieldIndex?o:e)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},t}(n.Subscriber);t.FindValueSubscriber=i},"../../../node_modules/rxjs/operators/findIndex.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/find.js");t.findIndex=function(e,t){return function(r){return r.lift(new o.FindValueOperator(e,r,!0,t))}}},"../../../node_modules/rxjs/operators/first.js":function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=r("../../../node_modules/rxjs/Subscriber.js"),s=r("../../../node_modules/rxjs/util/EmptyError.js");t.first=function(e,t,r){return function(o){return o.lift(new i(e,t,r,o))}};var i=function(){function e(e,t,r,o){this.predicate=e,this.resultSelector=t,this.defaultValue=r,this.source=o}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.predicate,this.resultSelector,this.defaultValue,this.source))},e}(),a=function(e){function t(t,r,o,n,s){e.call(this,t),this.predicate=r,this.resultSelector=o,this.defaultValue=n,this.source=s,this.index=0,this.hasCompleted=!1,this._emitted=!1}return o(t,e),t.prototype._next=function(e){var t=this.index++;this.predicate?this._tryPredicate(e,t):this._emit(e,t)},t.prototype._tryPredicate=function(e,t){var r;try{r=this.predicate(e,t,this.source)}catch(e){return void this.destination.error(e)}r&&this._emit(e,t)},t.prototype._emit=function(e,t){this.resultSelector?this._tryResultSelector(e,t):this._emitFinal(e)},t.prototype._tryResultSelector=function(e,t){var r;try{r=this.resultSelector(e,t)}catch(e){return void this.destination.error(e)}this._emitFinal(r)},t.prototype._emitFinal=function(e){var t=this.destination;this._emitted||(this._emitted=!0,t.next(e),t.complete(),this.hasCompleted=!0)},t.prototype._complete=function(){var e=this.destination;this.hasCompleted||void 0===this.defaultValue?this.hasCompleted||e.error(new s.EmptyError):(e.next(this.defaultValue),e.complete())},t}(n.Subscriber)},"../../../node_modules/rxjs/operators/groupBy.js":function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=r("../../../node_modules/rxjs/Subscriber.js"),s=r("../../../node_modules/rxjs/Subscription.js"),i=r("../../../node_modules/rxjs/Observable.js"),a=r("../../../node_modules/rxjs/Subject.js"),c=r("../../../node_modules/rxjs/util/Map.js"),u=r("../../../node_modules/rxjs/util/FastMap.js");t.groupBy=function(e,t,r,o){return function(n){return n.lift(new l(e,t,r,o))}};var l=function(){function e(e,t,r,o){this.keySelector=e,this.elementSelector=t,this.durationSelector=r,this.subjectSelector=o}return e.prototype.call=function(e,t){return t.subscribe(new d(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},e}(),d=function(e){function t(t,r,o,n,s){e.call(this,t),this.keySelector=r,this.elementSelector=o,this.durationSelector=n,this.subjectSelector=s,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}return o(t,e),t.prototype._next=function(e){var t;try{t=this.keySelector(e)}catch(e){return void this.error(e)}this._group(e,t)},t.prototype._group=function(e,t){var r=this.groups;r||(r=this.groups="string"==typeof t?new u.FastMap:new c.Map);var o,n=r.get(t);if(this.elementSelector)try{o=this.elementSelector(e)}catch(e){this.error(e)}else o=e;if(!n){n=this.subjectSelector?this.subjectSelector():new a.Subject,r.set(t,n);var s=new h(t,n,this);if(this.destination.next(s),this.durationSelector){var i=void 0;try{i=this.durationSelector(new h(t,n))}catch(e){return void this.error(e)}this.add(i.subscribe(new p(t,n,this)))}}n.closed||n.next(o)},t.prototype._error=function(e){var t=this.groups;t&&(t.forEach(function(t,r){t.error(e)}),t.clear()),this.destination.error(e)},t.prototype._complete=function(){var e=this.groups;e&&(e.forEach(function(e,t){e.complete()}),e.clear()),this.destination.complete()},t.prototype.removeGroup=function(e){this.groups.delete(e)},t.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&e.prototype.unsubscribe.call(this))},t}(n.Subscriber),p=function(e){function t(t,r,o){e.call(this,r),this.key=t,this.group=r,this.parent=o}return o(t,e),t.prototype._next=function(e){this.complete()},t.prototype._unsubscribe=function(){var e=this.parent,t=this.key;this.key=this.parent=null,e&&e.removeGroup(t)},t}(n.Subscriber),h=function(e){function t(t,r,o){e.call(this),this.key=t,this.groupSubject=r,this.refCountSubscription=o}return o(t,e),t.prototype._subscribe=function(e){var t=new s.Subscription,r=this.refCountSubscription,o=this.groupSubject;return r&&!r.closed&&t.add(new f(r)),t.add(o.subscribe(e)),t},t}(i.Observable);t.GroupedObservable=h;var f=function(e){function t(t){e.call(this),this.parent=t,t.count++}return o(t,e),t.prototype.unsubscribe=function(){var t=this.parent;t.closed||this.closed||(e.prototype.unsubscribe.call(this),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())},t}(s.Subscription)},"../../../node_modules/rxjs/operators/ignoreElements.js":function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=r("../../../node_modules/rxjs/Subscriber.js"),s=r("../../../node_modules/rxjs/util/noop.js");t.ignoreElements=function(){return function(e){return e.lift(new i)}};var i=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new a(e))},e}(),a=function(e){function t(){e.apply(this,arguments)}return o(t,e),t.prototype._next=function(e){s.noop()},t}(n.Subscriber)},"../../../node_modules/rxjs/operators/isEmpty.js":function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=r("../../../node_modules/rxjs/Subscriber.js");t.isEmpty=function(){return function(e){return e.lift(new s)}};var s=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new i(e))},e}(),i=function(e){function t(t){e.call(this,t)}return o(t,e),t.prototype.notifyComplete=function(e){var t=this.destination;t.next(e),t.complete()},t.prototype._next=function(e){this.notifyComplete(!1)},t.prototype._complete=function(){this.notifyComplete(!0)},t}(n.Subscriber)},"../../../node_modules/rxjs/operators/last.js":function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=r("../../../node_modules/rxjs/Subscriber.js"),s=r("../../../node_modules/rxjs/util/EmptyError.js");t.last=function(e,t,r){return function(o){return o.lift(new i(e,t,r,o))}};var i=function(){function e(e,t,r,o){this.predicate=e,this.resultSelector=t,this.defaultValue=r,this.source=o}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.predicate,this.resultSelector,this.defaultValue,this.source))},e}(),a=function(e){function t(t,r,o,n,s){e.call(this,t),this.predicate=r,this.resultSelector=o,this.defaultValue=n,this.source=s,this.hasValue=!1,this.index=0,void 0!==n&&(this.lastValue=n,this.hasValue=!0)}return o(t,e),t.prototype._next=function(e){var t=this.index++;if(this.predicate)this._tryPredicate(e,t);else{if(this.resultSelector)return void this._tryResultSelector(e,t);this.lastValue=e,this.hasValue=!0}},t.prototype._tryPredicate=function(e,t){var r;try{r=this.predicate(e,t,this.source)}catch(e){return void this.destination.error(e)}if(r){if(this.resultSelector)return void this._tryResultSelector(e,t);this.lastValue=e,this.hasValue=!0}},t.prototype._tryResultSelector=function(e,t){var r;try{r=this.resultSelector(e,t)}catch(e){return void this.destination.error(e)}this.lastValue=r,this.hasValue=!0},t.prototype._complete=function(){var e=this.destination;this.hasValue?(e.next(this.lastValue),e.complete()):e.error(new s.EmptyError)},t}(n.Subscriber)},"../../../node_modules/rxjs/operators/map.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/rxjs/operators/map.js")},"../../../node_modules/rxjs/operators/mapTo.js":function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=r("../../../node_modules/rxjs/Subscriber.js");t.mapTo=function(e){return function(t){return t.lift(new s(e))}};var s=function(){function e(e){this.value=e}return e.prototype.call=function(e,t){return t.subscribe(new i(e,this.value))},e}(),i=function(e){function t(t,r){e.call(this,t),this.value=r}return o(t,e),t.prototype._next=function(e){this.destination.next(this.value)},t}(n.Subscriber)},"../../../node_modules/rxjs/operators/materialize.js":function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=r("../../../node_modules/rxjs/Subscriber.js"),s=r("../../../node_modules/rxjs/Notification.js");t.materialize=function(){return function(e){return e.lift(new i)}};var i=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new a(e))},e}(),a=function(e){function t(t){e.call(this,t)}return o(t,e),t.prototype._next=function(e){this.destination.next(s.Notification.createNext(e))},t.prototype._error=function(e){var t=this.destination;t.next(s.Notification.createError(e)),t.complete()},t.prototype._complete=function(){var e=this.destination;e.next(s.Notification.createComplete()),e.complete()},t}(n.Subscriber)},"../../../node_modules/rxjs/operators/max.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/reduce.js");t.max=function(e){var t="function"==typeof e?function(t,r){return e(t,r)>0?t:r}:function(e,t){return e>t?e:t};return o.reduce(t)}},"../../../node_modules/rxjs/operators/merge.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/observable/merge.js"),n=r("../../../node_modules/rxjs/observable/merge.js");t.mergeStatic=n.merge,t.merge=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return function(t){return t.lift.call(o.merge.apply(void 0,[t].concat(e)))}}},"../../../node_modules/rxjs/operators/mergeAll.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/rxjs/operators/mergeAll.js")},"../../../node_modules/rxjs/operators/mergeMap.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/rxjs/operators/mergeMap.js")},"../../../node_modules/rxjs/operators/mergeMapTo.js":function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=r("../../../node_modules/rxjs/OuterSubscriber.js"),s=r("../../../node_modules/rxjs/util/subscribeToResult.js");t.mergeMapTo=function(e,t,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),"number"==typeof t&&(r=t,t=null),function(o){return o.lift(new i(e,t,r))}};var i=function(){function e(e,t,r){void 0===r&&(r=Number.POSITIVE_INFINITY),this.ish=e,this.resultSelector=t,this.concurrent=r}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.ish,this.resultSelector,this.concurrent))},e}();t.MergeMapToOperator=i;var a=function(e){function t(t,r,o,n){void 0===n&&(n=Number.POSITIVE_INFINITY),e.call(this,t),this.ish=r,this.resultSelector=o,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return o(t,e),t.prototype._next=function(e){if(this.active<this.concurrent){var t=this.resultSelector,r=this.index++,o=this.ish,n=this.destination;this.active++,this._innerSub(o,n,t,e,r)}else this.buffer.push(e)},t.prototype._innerSub=function(e,t,r,o,n){this.add(s.subscribeToResult(this,e,o,n))},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},t.prototype.notifyNext=function(e,t,r,o,n){var s=this.resultSelector,i=this.destination;s?this.trySelectResult(e,t,r,o):i.next(t)},t.prototype.trySelectResult=function(e,t,r,o){var n,s=this.resultSelector,i=this.destination;try{n=s(e,t,r,o)}catch(e){return void i.error(e)}i.next(n)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(n.OuterSubscriber);t.MergeMapToSubscriber=a},"../../../node_modules/rxjs/operators/mergeScan.js":function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=r("../../../node_modules/rxjs/util/tryCatch.js"),s=r("../../../node_modules/rxjs/util/errorObject.js"),i=r("../../../node_modules/rxjs/util/subscribeToResult.js"),a=r("../../../node_modules/rxjs/OuterSubscriber.js");t.mergeScan=function(e,t,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),function(o){return o.lift(new c(e,t,r))}};var c=function(){function e(e,t,r){this.accumulator=e,this.seed=t,this.concurrent=r}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.accumulator,this.seed,this.concurrent))},e}();t.MergeScanOperator=c;var u=function(e){function t(t,r,o,n){e.call(this,t),this.accumulator=r,this.acc=o,this.concurrent=n,this.hasValue=!1,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return o(t,e),t.prototype._next=function(e){if(this.active<this.concurrent){var t=this.index++,r=n.tryCatch(this.accumulator)(this.acc,e),o=this.destination;r===s.errorObject?o.error(s.errorObject.e):(this.active++,this._innerSub(r,e,t))}else this.buffer.push(e)},t.prototype._innerSub=function(e,t,r){this.add(i.subscribeToResult(this,e,t,r))},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())},t.prototype.notifyNext=function(e,t,r,o,n){var s=this.destination;this.acc=t,this.hasValue=!0,s.next(t)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())},t}(a.OuterSubscriber);t.MergeScanSubscriber=u},"../../../node_modules/rxjs/operators/min.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/reduce.js");t.min=function(e){var t="function"==typeof e?function(t,r){return e(t,r)<0?t:r}:function(e,t){return e<t?e:t};return o.reduce(t)}},"../../../node_modules/rxjs/operators/multicast.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/rxjs/operators/multicast.js")},"../../../node_modules/rxjs/operators/observeOn.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/rxjs/operators/observeOn.js")},"../../../node_modules/rxjs/operators/onErrorResumeNext.js":function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=r("../../../node_modules/rxjs/observable/FromObservable.js"),s=r("../../../node_modules/rxjs/util/isArray.js"),i=r("../../../node_modules/rxjs/OuterSubscriber.js"),a=r("../../../node_modules/rxjs/util/subscribeToResult.js");t.onErrorResumeNext=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return 1===e.length&&s.isArray(e[0])&&(e=e[0]),function(t){return t.lift(new c(e))}},t.onErrorResumeNextStatic=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r;return 1===e.length&&s.isArray(e[0])&&(e=e[0]),r=e.shift(),new n.FromObservable(r,null).lift(new c(e))};var c=function(){function e(e){this.nextSources=e}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.nextSources))},e}(),u=function(e){function t(t,r){e.call(this,t),this.destination=t,this.nextSources=r}return o(t,e),t.prototype.notifyError=function(e,t){this.subscribeToNextSource()},t.prototype.notifyComplete=function(e){this.subscribeToNextSource()},t.prototype._error=function(e){this.subscribeToNextSource()},t.prototype._complete=function(){this.subscribeToNextSource()},t.prototype.subscribeToNextSource=function(){var e=this.nextSources.shift();e?this.add(a.subscribeToResult(this,e)):this.destination.complete()},t}(i.OuterSubscriber)},"../../../node_modules/rxjs/operators/pairwise.js":function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=r("../../../node_modules/rxjs/Subscriber.js");t.pairwise=function(){return function(e){return e.lift(new s)}};var s=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new i(e))},e}(),i=function(e){function t(t){e.call(this,t),this.hasPrev=!1}return o(t,e),t.prototype._next=function(e){this.hasPrev?this.destination.next([this.prev,e]):this.hasPrev=!0,this.prev=e},t}(n.Subscriber)},"../../../node_modules/rxjs/operators/partition.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/util/not.js"),n=r("../../../node_modules/rxjs/operators/filter.js");t.partition=function(e,t){return function(r){return[n.filter(e,t)(r),n.filter(o.not(e,t))(r)]}}},"../../../node_modules/rxjs/operators/pluck.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/map.js");t.pluck=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r=e.length;if(0===r)throw new Error("list of properties cannot be empty.");return function(t){return o.map(function(e,t){return function(r){for(var o=r,n=0;n<t;n++){var s=o[e[n]];if(void 0===s)return;o=s}return o}}(e,r))(t)}}},"../../../node_modules/rxjs/operators/publish.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/Subject.js"),n=r("../../../node_modules/rxjs/operators/multicast.js");t.publish=function(e){return e?n.multicast(function(){return new o.Subject},e):n.multicast(new o.Subject)}},"../../../node_modules/rxjs/operators/publishBehavior.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/BehaviorSubject.js"),n=r("../../../node_modules/rxjs/operators/multicast.js");t.publishBehavior=function(e){return function(t){return n.multicast(new o.BehaviorSubject(e))(t)}}},"../../../node_modules/rxjs/operators/publishLast.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/AsyncSubject.js"),n=r("../../../node_modules/rxjs/operators/multicast.js");t.publishLast=function(){return function(e){return n.multicast(new o.AsyncSubject)(e)}}},"../../../node_modules/rxjs/operators/publishReplay.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/ReplaySubject.js"),n=r("../../../node_modules/rxjs/operators/multicast.js");t.publishReplay=function(e,t,r,s){r&&"function"!=typeof r&&(s=r);var i="function"==typeof r?r:void 0,a=new o.ReplaySubject(e,t,s);return function(e){return n.multicast(function(){return a},i)(e)}}},"../../../node_modules/rxjs/operators/race.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/util/isArray.js"),n=r("../../../node_modules/rxjs/observable/race.js");t.race=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return function(t){return 1===e.length&&o.isArray(e[0])&&(e=e[0]),t.lift.call(n.race.apply(void 0,[t].concat(e)))}}},"../../../node_modules/rxjs/operators/reduce.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/scan.js"),n=r("../../../node_modules/rxjs/operators/takeLast.js"),s=r("../../../node_modules/rxjs/operators/defaultIfEmpty.js"),i=r("../../../node_modules/rxjs/util/pipe.js");t.reduce=function(e,t){return arguments.length>=2?function(r){return i.pipe(o.scan(e,t),n.takeLast(1),s.defaultIfEmpty(t))(r)}:function(t){return i.pipe(o.scan(function(t,r,o){return e(t,r,o+1)}),n.takeLast(1))(t)}}},"../../../node_modules/rxjs/operators/refCount.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/rxjs/operators/refCount.js")},"../../../node_modules/rxjs/operators/repeat.js":function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=r("../../../node_modules/rxjs/Subscriber.js"),s=r("../../../node_modules/rxjs/observable/EmptyObservable.js");t.repeat=function(e){return void 0===e&&(e=-1),function(t){return 0===e?new s.EmptyObservable:e<0?t.lift(new i(-1,t)):t.lift(new i(e-1,t))}};var i=function(){function e(e,t){this.count=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.count,this.source))},e}(),a=function(e){function t(t,r,o){e.call(this,t),this.count=r,this.source=o}return o(t,e),t.prototype.complete=function(){if(!this.isStopped){var t=this.source,r=this.count;if(0===r)return e.prototype.complete.call(this);r>-1&&(this.count=r-1),t.subscribe(this._unsubscribeAndRecycle())}},t}(n.Subscriber)},"../../../node_modules/rxjs/operators/repeatWhen.js":function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=r("../../../node_modules/rxjs/Subject.js"),s=r("../../../node_modules/rxjs/util/tryCatch.js"),i=r("../../../node_modules/rxjs/util/errorObject.js"),a=r("../../../node_modules/rxjs/OuterSubscriber.js"),c=r("../../../node_modules/rxjs/util/subscribeToResult.js");t.repeatWhen=function(e){return function(t){return t.lift(new u(e))}};var u=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.notifier,t))},e}(),l=function(e){function t(t,r,o){e.call(this,t),this.notifier=r,this.source=o,this.sourceIsBeingSubscribedTo=!0}return o(t,e),t.prototype.notifyNext=function(e,t,r,o,n){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},t.prototype.notifyComplete=function(t){if(!1===this.sourceIsBeingSubscribedTo)return e.prototype.complete.call(this)},t.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return e.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next()}},t.prototype._unsubscribe=function(){var e=this.notifications,t=this.retriesSubscription;e&&(e.unsubscribe(),this.notifications=null),t&&(t.unsubscribe(),this.retriesSubscription=null),this.retries=null},t.prototype._unsubscribeAndRecycle=function(){var t=this.notifications,r=this.retries,o=this.retriesSubscription;return this.notifications=null,this.retries=null,this.retriesSubscription=null,e.prototype._unsubscribeAndRecycle.call(this),this.notifications=t,this.retries=r,this.retriesSubscription=o,this},t.prototype.subscribeToRetries=function(){this.notifications=new n.Subject;var t=s.tryCatch(this.notifier)(this.notifications);if(t===i.errorObject)return e.prototype.complete.call(this);this.retries=t,this.retriesSubscription=c.subscribeToResult(this,t)},t}(a.OuterSubscriber)},"../../../node_modules/rxjs/operators/retry.js":function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=r("../../../node_modules/rxjs/Subscriber.js");t.retry=function(e){return void 0===e&&(e=-1),function(t){return t.lift(new s(e,t))}};var s=function(){function e(e,t){this.count=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new i(e,this.count,this.source))},e}(),i=function(e){function t(t,r,o){e.call(this,t),this.count=r,this.source=o}return o(t,e),t.prototype.error=function(t){if(!this.isStopped){var r=this.source,o=this.count;if(0===o)return e.prototype.error.call(this,t);o>-1&&(this.count=o-1),r.subscribe(this._unsubscribeAndRecycle())}},t}(n.Subscriber)},"../../../node_modules/rxjs/operators/retryWhen.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/rxjs/operators/retryWhen.js")},"../../../node_modules/rxjs/operators/sample.js":function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=r("../../../node_modules/rxjs/OuterSubscriber.js"),s=r("../../../node_modules/rxjs/util/subscribeToResult.js");t.sample=function(e){return function(t){return t.lift(new i(e))}};var i=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){var r=new a(e),o=t.subscribe(r);return o.add(s.subscribeToResult(r,this.notifier)),o},e}(),a=function(e){function t(){e.apply(this,arguments),this.hasValue=!1}return o(t,e),t.prototype._next=function(e){this.value=e,this.hasValue=!0},t.prototype.notifyNext=function(e,t,r,o,n){this.emitValue()},t.prototype.notifyComplete=function(){this.emitValue()},t.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},t}(n.OuterSubscriber)},"../../../node_modules/rxjs/operators/sampleTime.js":function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=r("../../../node_modules/rxjs/Subscriber.js"),s=r("../../../node_modules/rxjs/scheduler/async.js");t.sampleTime=function(e,t){return void 0===t&&(t=s.async),function(r){return r.lift(new i(e,t))}};var i=function(){function e(e,t){this.period=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.period,this.scheduler))},e}(),a=function(e){function t(t,r,o){e.call(this,t),this.period=r,this.scheduler=o,this.hasValue=!1,this.add(o.schedule(c,r,{subscriber:this,period:r}))}return o(t,e),t.prototype._next=function(e){this.lastValue=e,this.hasValue=!0},t.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},t}(n.Subscriber);function c(e){var t=e.subscriber,r=e.period;t.notifyNext(),this.schedule(e,r)}},"../../../node_modules/rxjs/operators/scan.js":function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=r("../../../node_modules/rxjs/Subscriber.js");t.scan=function(e,t){var r=!1;return arguments.length>=2&&(r=!0),function(o){return o.lift(new s(e,t,r))}};var s=function(){function e(e,t,r){void 0===r&&(r=!1),this.accumulator=e,this.seed=t,this.hasSeed=r}return e.prototype.call=function(e,t){return t.subscribe(new i(e,this.accumulator,this.seed,this.hasSeed))},e}(),i=function(e){function t(t,r,o,n){e.call(this,t),this.accumulator=r,this._seed=o,this.hasSeed=n,this.index=0}return o(t,e),Object.defineProperty(t.prototype,"seed",{get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e},enumerable:!0,configurable:!0}),t.prototype._next=function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)},t.prototype._tryNext=function(e){var t,r=this.index++;try{t=this.accumulator(this.seed,e,r)}catch(e){this.destination.error(e)}this.seed=t,this.destination.next(t)},t}(n.Subscriber)},"../../../node_modules/rxjs/operators/sequenceEqual.js":function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=r("../../../node_modules/rxjs/Subscriber.js"),s=r("../../../node_modules/rxjs/util/tryCatch.js"),i=r("../../../node_modules/rxjs/util/errorObject.js");t.sequenceEqual=function(e,t){return function(r){return r.lift(new a(e,t))}};var a=function(){function e(e,t){this.compareTo=e,this.comparor=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.compareTo,this.comparor))},e}();t.SequenceEqualOperator=a;var c=function(e){function t(t,r,o){e.call(this,t),this.compareTo=r,this.comparor=o,this._a=[],this._b=[],this._oneComplete=!1,this.add(r.subscribe(new u(t,this)))}return o(t,e),t.prototype._next=function(e){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(e),this.checkValues())},t.prototype._complete=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0},t.prototype.checkValues=function(){for(var e=this._a,t=this._b,r=this.comparor;e.length>0&&t.length>0;){var o=e.shift(),n=t.shift(),a=!1;r?(a=s.tryCatch(r)(o,n))===i.errorObject&&this.destination.error(i.errorObject.e):a=o===n,a||this.emit(!1)}},t.prototype.emit=function(e){var t=this.destination;t.next(e),t.complete()},t.prototype.nextB=function(e){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(e),this.checkValues())},t}(n.Subscriber);t.SequenceEqualSubscriber=c;var u=function(e){function t(t,r){e.call(this,t),this.parent=r}return o(t,e),t.prototype._next=function(e){this.parent.nextB(e)},t.prototype._error=function(e){this.parent.error(e)},t.prototype._complete=function(){this.parent._complete()},t}(n.Subscriber)},"../../../node_modules/rxjs/operators/share.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/rxjs/operators/share.js")},"../../../node_modules/rxjs/operators/shareReplay.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/ReplaySubject.js");t.shareReplay=function(e,t,r){return function(n){return n.lift(function(e,t,r){var n,s,i=0,a=!1,c=!1;return function(u){i++,n&&!a||(a=!1,n=new o.ReplaySubject(e,t,r),s=u.subscribe({next:function(e){n.next(e)},error:function(e){a=!0,n.error(e)},complete:function(){c=!0,n.complete()}}));var l=n.subscribe(this);return function(){i--,l.unsubscribe(),s&&0===i&&c&&s.unsubscribe()}}}(e,t,r))}}},"../../../node_modules/rxjs/operators/single.js":function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=r("../../../node_modules/rxjs/Subscriber.js"),s=r("../../../node_modules/rxjs/util/EmptyError.js");t.single=function(e){return function(t){return t.lift(new i(e,t))}};var i=function(){function e(e,t){this.predicate=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.predicate,this.source))},e}(),a=function(e){function t(t,r,o){e.call(this,t),this.predicate=r,this.source=o,this.seenValue=!1,this.index=0}return o(t,e),t.prototype.applySingleValue=function(e){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=e)},t.prototype._next=function(e){var t=this.index++;this.predicate?this.tryNext(e,t):this.applySingleValue(e)},t.prototype.tryNext=function(e,t){try{this.predicate(e,t,this.source)&&this.applySingleValue(e)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){var e=this.destination;this.index>0?(e.next(this.seenValue?this.singleValue:void 0),e.complete()):e.error(new s.EmptyError)},t}(n.Subscriber)},"../../../node_modules/rxjs/operators/skip.js":function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=r("../../../node_modules/rxjs/Subscriber.js");t.skip=function(e){return function(t){return t.lift(new s(e))}};var s=function(){function e(e){this.total=e}return e.prototype.call=function(e,t){return t.subscribe(new i(e,this.total))},e}(),i=function(e){function t(t,r){e.call(this,t),this.total=r,this.count=0}return o(t,e),t.prototype._next=function(e){++this.count>this.total&&this.destination.next(e)},t}(n.Subscriber)},"../../../node_modules/rxjs/operators/skipLast.js":function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=r("../../../node_modules/rxjs/Subscriber.js"),s=r("../../../node_modules/rxjs/util/ArgumentOutOfRangeError.js");t.skipLast=function(e){return function(t){return t.lift(new i(e))}};var i=function(){function e(e){if(this._skipCount=e,this._skipCount<0)throw new s.ArgumentOutOfRangeError}return e.prototype.call=function(e,t){return 0===this._skipCount?t.subscribe(new n.Subscriber(e)):t.subscribe(new a(e,this._skipCount))},e}(),a=function(e){function t(t,r){e.call(this,t),this._skipCount=r,this._count=0,this._ring=new Array(r)}return o(t,e),t.prototype._next=function(e){var t=this._skipCount,r=this._count++;if(r<t)this._ring[r]=e;else{var o=r%t,n=this._ring,s=n[o];n[o]=e,this.destination.next(s)}},t}(n.Subscriber)},"../../../node_modules/rxjs/operators/skipUntil.js":function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=r("../../../node_modules/rxjs/OuterSubscriber.js"),s=r("../../../node_modules/rxjs/util/subscribeToResult.js");t.skipUntil=function(e){return function(t){return t.lift(new i(e))}};var i=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.notifier))},e}(),a=function(e){function t(t,r){e.call(this,t),this.hasValue=!1,this.isInnerStopped=!1,this.add(s.subscribeToResult(this,r))}return o(t,e),t.prototype._next=function(t){this.hasValue&&e.prototype._next.call(this,t)},t.prototype._complete=function(){this.isInnerStopped?e.prototype._complete.call(this):this.unsubscribe()},t.prototype.notifyNext=function(e,t,r,o,n){this.hasValue=!0},t.prototype.notifyComplete=function(){this.isInnerStopped=!0,this.isStopped&&e.prototype._complete.call(this)},t}(n.OuterSubscriber)},"../../../node_modules/rxjs/operators/skipWhile.js":function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=r("../../../node_modules/rxjs/Subscriber.js");t.skipWhile=function(e){return function(t){return t.lift(new s(e))}};var s=function(){function e(e){this.predicate=e}return e.prototype.call=function(e,t){return t.subscribe(new i(e,this.predicate))},e}(),i=function(e){function t(t,r){e.call(this,t),this.predicate=r,this.skipping=!0,this.index=0}return o(t,e),t.prototype._next=function(e){var t=this.destination;this.skipping&&this.tryCallPredicate(e),this.skipping||t.next(e)},t.prototype.tryCallPredicate=function(e){try{var t=this.predicate(e,this.index++);this.skipping=Boolean(t)}catch(e){this.destination.error(e)}},t}(n.Subscriber)},"../../../node_modules/rxjs/operators/startWith.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/observable/ArrayObservable.js"),n=r("../../../node_modules/rxjs/observable/ScalarObservable.js"),s=r("../../../node_modules/rxjs/observable/EmptyObservable.js"),i=r("../../../node_modules/rxjs/observable/concat.js"),a=r("../../../node_modules/rxjs/util/isScheduler.js");t.startWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return function(t){var r=e[e.length-1];a.isScheduler(r)?e.pop():r=null;var c=e.length;return 1===c?i.concat(new n.ScalarObservable(e[0],r),t):c>1?i.concat(new o.ArrayObservable(e,r),t):i.concat(new s.EmptyObservable(r),t)}}},"../../../node_modules/rxjs/operators/subscribeOn.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/observable/SubscribeOnObservable.js");t.subscribeOn=function(e,t){return void 0===t&&(t=0),function(r){return r.lift(new n(e,t))}};var n=function(){function e(e,t){this.scheduler=e,this.delay=t}return e.prototype.call=function(e,t){return new o.SubscribeOnObservable(t,this.delay,this.scheduler).subscribe(e)},e}()},"../../../node_modules/rxjs/operators/switchAll.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/switchMap.js"),n=r("../../../node_modules/rxjs/util/identity.js");t.switchAll=function(){return o.switchMap(n.identity)}},"../../../node_modules/rxjs/operators/switchMap.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/rxjs/operators/switchMap.js")},"../../../node_modules/rxjs/operators/switchMapTo.js":function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=r("../../../node_modules/rxjs/OuterSubscriber.js"),s=r("../../../node_modules/rxjs/util/subscribeToResult.js");t.switchMapTo=function(e,t){return function(r){return r.lift(new i(e,t))}};var i=function(){function e(e,t){this.observable=e,this.resultSelector=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.observable,this.resultSelector))},e}(),a=function(e){function t(t,r,o){e.call(this,t),this.inner=r,this.resultSelector=o,this.index=0}return o(t,e),t.prototype._next=function(e){var t=this.innerSubscription;t&&t.unsubscribe(),this.add(this.innerSubscription=s.subscribeToResult(this,this.inner,e,this.index++))},t.prototype._complete=function(){var t=this.innerSubscription;t&&!t.closed||e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.innerSubscription=null},t.prototype.notifyComplete=function(t){this.remove(t),this.innerSubscription=null,this.isStopped&&e.prototype._complete.call(this)},t.prototype.notifyNext=function(e,t,r,o,n){var s=this.resultSelector,i=this.destination;s?this.tryResultSelector(e,t,r,o):i.next(t)},t.prototype.tryResultSelector=function(e,t,r,o){var n,s=this.resultSelector,i=this.destination;try{n=s(e,t,r,o)}catch(e){return void i.error(e)}i.next(n)},t}(n.OuterSubscriber)},"../../../node_modules/rxjs/operators/take.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/rxjs/operators/take.js")},"../../../node_modules/rxjs/operators/takeLast.js":function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=r("../../../node_modules/rxjs/Subscriber.js"),s=r("../../../node_modules/rxjs/util/ArgumentOutOfRangeError.js"),i=r("../../../node_modules/rxjs/observable/EmptyObservable.js");t.takeLast=function(e){return function(t){return 0===e?new i.EmptyObservable:t.lift(new a(e))}};var a=function(){function e(e){if(this.total=e,this.total<0)throw new s.ArgumentOutOfRangeError}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.total))},e}(),c=function(e){function t(t,r){e.call(this,t),this.total=r,this.ring=new Array,this.count=0}return o(t,e),t.prototype._next=function(e){var t=this.ring,r=this.total,o=this.count++;t.length<r?t.push(e):t[o%r]=e},t.prototype._complete=function(){var e=this.destination,t=this.count;if(t>0)for(var r=this.count>=this.total?this.total:this.count,o=this.ring,n=0;n<r;n++){var s=t++%r;e.next(o[s])}e.complete()},t}(n.Subscriber)},"../../../node_modules/rxjs/operators/takeUntil.js":function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=r("../../../node_modules/rxjs/OuterSubscriber.js"),s=r("../../../node_modules/rxjs/util/subscribeToResult.js");t.takeUntil=function(e){return function(t){return t.lift(new i(e))}};var i=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.notifier))},e}(),a=function(e){function t(t,r){e.call(this,t),this.notifier=r,this.add(s.subscribeToResult(this,r))}return o(t,e),t.prototype.notifyNext=function(e,t,r,o,n){this.complete()},t.prototype.notifyComplete=function(){},t}(n.OuterSubscriber)},"../../../node_modules/rxjs/operators/takeWhile.js":function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=r("../../../node_modules/rxjs/Subscriber.js");t.takeWhile=function(e){return function(t){return t.lift(new s(e))}};var s=function(){function e(e){this.predicate=e}return e.prototype.call=function(e,t){return t.subscribe(new i(e,this.predicate))},e}(),i=function(e){function t(t,r){e.call(this,t),this.predicate=r,this.index=0}return o(t,e),t.prototype._next=function(e){var t,r=this.destination;try{t=this.predicate(e,this.index++)}catch(e){return void r.error(e)}this.nextOrComplete(e,t)},t.prototype.nextOrComplete=function(e,t){var r=this.destination;Boolean(t)?r.next(e):r.complete()},t}(n.Subscriber)},"../../../node_modules/rxjs/operators/tap.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/rxjs/operators/tap.js")},"../../../node_modules/rxjs/operators/throttle.js":function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=r("../../../node_modules/rxjs/OuterSubscriber.js"),s=r("../../../node_modules/rxjs/util/subscribeToResult.js");t.defaultThrottleConfig={leading:!0,trailing:!1},t.throttle=function(e,r){return void 0===r&&(r=t.defaultThrottleConfig),function(t){return t.lift(new i(e,r.leading,r.trailing))}};var i=function(){function e(e,t,r){this.durationSelector=e,this.leading=t,this.trailing=r}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.durationSelector,this.leading,this.trailing))},e}(),a=function(e){function t(t,r,o,n){e.call(this,t),this.destination=t,this.durationSelector=r,this._leading=o,this._trailing=n,this._hasTrailingValue=!1}return o(t,e),t.prototype._next=function(e){if(this.throttled)this._trailing&&(this._hasTrailingValue=!0,this._trailingValue=e);else{var t=this.tryDurationSelector(e);t&&this.add(this.throttled=s.subscribeToResult(this,t)),this._leading&&(this.destination.next(e),this._trailing&&(this._hasTrailingValue=!0,this._trailingValue=e))}},t.prototype.tryDurationSelector=function(e){try{return this.durationSelector(e)}catch(e){return this.destination.error(e),null}},t.prototype._unsubscribe=function(){var e=this.throttled;this._trailingValue,this._hasTrailingValue,this._trailing;this._trailingValue=null,this._hasTrailingValue=!1,e&&(this.remove(e),this.throttled=null,e.unsubscribe())},t.prototype._sendTrailing=function(){var e=this,t=e.destination,r=e.throttled,o=e._trailing,n=e._trailingValue,s=e._hasTrailingValue;r&&o&&s&&(t.next(n),this._trailingValue=null,this._hasTrailingValue=!1)},t.prototype.notifyNext=function(e,t,r,o,n){this._sendTrailing(),this._unsubscribe()},t.prototype.notifyComplete=function(){this._sendTrailing(),this._unsubscribe()},t}(n.OuterSubscriber)},"../../../node_modules/rxjs/operators/throttleTime.js":function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=r("../../../node_modules/rxjs/Subscriber.js"),s=r("../../../node_modules/rxjs/scheduler/async.js"),i=r("../../../node_modules/rxjs/operators/throttle.js");t.throttleTime=function(e,t,r){return void 0===t&&(t=s.async),void 0===r&&(r=i.defaultThrottleConfig),function(o){return o.lift(new a(e,t,r.leading,r.trailing))}};var a=function(){function e(e,t,r,o){this.duration=e,this.scheduler=t,this.leading=r,this.trailing=o}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.duration,this.scheduler,this.leading,this.trailing))},e}(),c=function(e){function t(t,r,o,n,s){e.call(this,t),this.duration=r,this.scheduler=o,this.leading=n,this.trailing=s,this._hasTrailingValue=!1,this._trailingValue=null}return o(t,e),t.prototype._next=function(e){this.throttled?this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(u,this.duration,{subscriber:this})),this.leading&&this.destination.next(e))},t.prototype.clearThrottle=function(){var e=this.throttled;e&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),e.unsubscribe(),this.remove(e),this.throttled=null)},t}(n.Subscriber);function u(e){e.subscriber.clearThrottle()}},"../../../node_modules/rxjs/operators/timeInterval.js":function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=r("../../../node_modules/rxjs/Subscriber.js"),s=r("../../../node_modules/rxjs/scheduler/async.js");t.timeInterval=function(e){return void 0===e&&(e=s.async),function(t){return t.lift(new a(e))}};var i=function(){return function(e,t){this.value=e,this.interval=t}}();t.TimeInterval=i;var a=function(){function e(e){this.scheduler=e}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.scheduler))},e}(),c=function(e){function t(t,r){e.call(this,t),this.scheduler=r,this.lastTime=0,this.lastTime=r.now()}return o(t,e),t.prototype._next=function(e){var t=this.scheduler.now(),r=t-this.lastTime;this.lastTime=t,this.destination.next(new i(e,r))},t}(n.Subscriber)},"../../../node_modules/rxjs/operators/timeout.js":function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=r("../../../node_modules/rxjs/scheduler/async.js"),s=r("../../../node_modules/rxjs/util/isDate.js"),i=r("../../../node_modules/rxjs/Subscriber.js"),a=r("../../../node_modules/rxjs/util/TimeoutError.js");t.timeout=function(e,t){void 0===t&&(t=n.async);var r=s.isDate(e),o=r?+e-t.now():Math.abs(e);return function(e){return e.lift(new c(o,r,t,new a.TimeoutError))}};var c=function(){function e(e,t,r,o){this.waitFor=e,this.absoluteTimeout=t,this.scheduler=r,this.errorInstance=o}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.absoluteTimeout,this.waitFor,this.scheduler,this.errorInstance))},e}(),u=function(e){function t(t,r,o,n,s){e.call(this,t),this.absoluteTimeout=r,this.waitFor=o,this.scheduler=n,this.errorInstance=s,this.action=null,this.scheduleTimeout()}return o(t,e),t.dispatchTimeout=function(e){e.error(e.errorInstance)},t.prototype.scheduleTimeout=function(){var e=this.action;e?this.action=e.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(t.dispatchTimeout,this.waitFor,this))},t.prototype._next=function(t){this.absoluteTimeout||this.scheduleTimeout(),e.prototype._next.call(this,t)},t.prototype._unsubscribe=function(){this.action=null,this.scheduler=null,this.errorInstance=null},t}(i.Subscriber)},"../../../node_modules/rxjs/operators/timeoutWith.js":function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=r("../../../node_modules/rxjs/scheduler/async.js"),s=r("../../../node_modules/rxjs/util/isDate.js"),i=r("../../../node_modules/rxjs/OuterSubscriber.js"),a=r("../../../node_modules/rxjs/util/subscribeToResult.js");t.timeoutWith=function(e,t,r){return void 0===r&&(r=n.async),function(o){var n=s.isDate(e),i=n?+e-r.now():Math.abs(e);return o.lift(new c(i,n,t,r))}};var c=function(){function e(e,t,r,o){this.waitFor=e,this.absoluteTimeout=t,this.withObservable=r,this.scheduler=o}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},e}(),u=function(e){function t(t,r,o,n,s){e.call(this,t),this.absoluteTimeout=r,this.waitFor=o,this.withObservable=n,this.scheduler=s,this.action=null,this.scheduleTimeout()}return o(t,e),t.dispatchTimeout=function(e){var t=e.withObservable;e._unsubscribeAndRecycle(),e.add(a.subscribeToResult(e,t))},t.prototype.scheduleTimeout=function(){var e=this.action;e?this.action=e.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(t.dispatchTimeout,this.waitFor,this))},t.prototype._next=function(t){this.absoluteTimeout||this.scheduleTimeout(),e.prototype._next.call(this,t)},t.prototype._unsubscribe=function(){this.action=null,this.scheduler=null,this.withObservable=null},t}(i.OuterSubscriber)},"../../../node_modules/rxjs/operators/timestamp.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/scheduler/async.js"),n=r("../../../node_modules/rxjs/operators/map.js");t.timestamp=function(e){return void 0===e&&(e=o.async),n.map(function(t){return new s(t,e.now())})};var s=function(){return function(e,t){this.value=e,this.timestamp=t}}();t.Timestamp=s},"../../../node_modules/rxjs/operators/toArray.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/reduce.js");function n(e,t,r){return 0===r?[t]:(e.push(t),e)}t.toArray=function(){return o.reduce(n,[])}},"../../../node_modules/rxjs/operators/window.js":function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=r("../../../node_modules/rxjs/Subject.js"),s=r("../../../node_modules/rxjs/OuterSubscriber.js"),i=r("../../../node_modules/rxjs/util/subscribeToResult.js");t.window=function(e){return function(t){return t.lift(new a(e))}};var a=function(){function e(e){this.windowBoundaries=e}return e.prototype.call=function(e,t){var r=new c(e),o=t.subscribe(r);return o.closed||r.add(i.subscribeToResult(r,this.windowBoundaries)),o},e}(),c=function(e){function t(t){e.call(this,t),this.window=new n.Subject,t.next(this.window)}return o(t,e),t.prototype.notifyNext=function(e,t,r,o,n){this.openWindow()},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype.notifyComplete=function(e){this._complete()},t.prototype._next=function(e){this.window.next(e)},t.prototype._error=function(e){this.window.error(e),this.destination.error(e)},t.prototype._complete=function(){this.window.complete(),this.destination.complete()},t.prototype._unsubscribe=function(){this.window=null},t.prototype.openWindow=function(){var e=this.window;e&&e.complete();var t=this.destination,r=this.window=new n.Subject;t.next(r)},t}(s.OuterSubscriber)},"../../../node_modules/rxjs/operators/windowCount.js":function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=r("../../../node_modules/rxjs/Subscriber.js"),s=r("../../../node_modules/rxjs/Subject.js");t.windowCount=function(e,t){return void 0===t&&(t=0),function(r){return r.lift(new i(e,t))}};var i=function(){function e(e,t){this.windowSize=e,this.startWindowEvery=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.windowSize,this.startWindowEvery))},e}(),a=function(e){function t(t,r,o){e.call(this,t),this.destination=t,this.windowSize=r,this.startWindowEvery=o,this.windows=[new s.Subject],this.count=0,t.next(this.windows[0])}return o(t,e),t.prototype._next=function(e){for(var t=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,r=this.destination,o=this.windowSize,n=this.windows,i=n.length,a=0;a<i&&!this.closed;a++)n[a].next(e);var c=this.count-o+1;if(c>=0&&c%t==0&&!this.closed&&n.shift().complete(),++this.count%t==0&&!this.closed){var u=new s.Subject;n.push(u),r.next(u)}},t.prototype._error=function(e){var t=this.windows;if(t)for(;t.length>0&&!this.closed;)t.shift().error(e);this.destination.error(e)},t.prototype._complete=function(){var e=this.windows;if(e)for(;e.length>0&&!this.closed;)e.shift().complete();this.destination.complete()},t.prototype._unsubscribe=function(){this.count=0,this.windows=null},t}(n.Subscriber)},"../../../node_modules/rxjs/operators/windowTime.js":function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=r("../../../node_modules/rxjs/Subject.js"),s=r("../../../node_modules/rxjs/scheduler/async.js"),i=r("../../../node_modules/rxjs/Subscriber.js"),a=r("../../../node_modules/rxjs/util/isNumeric.js"),c=r("../../../node_modules/rxjs/util/isScheduler.js");t.windowTime=function(e){var t=s.async,r=null,o=Number.POSITIVE_INFINITY;return c.isScheduler(arguments[3])&&(t=arguments[3]),c.isScheduler(arguments[2])?t=arguments[2]:a.isNumeric(arguments[2])&&(o=arguments[2]),c.isScheduler(arguments[1])?t=arguments[1]:a.isNumeric(arguments[1])&&(r=arguments[1]),function(n){return n.lift(new u(e,r,o,t))}};var u=function(){function e(e,t,r,o){this.windowTimeSpan=e,this.windowCreationInterval=t,this.maxWindowSize=r,this.scheduler=o}return e.prototype.call=function(e,t){return t.subscribe(new d(e,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},e}(),l=function(e){function t(){e.apply(this,arguments),this._numberOfNextedValues=0}return o(t,e),t.prototype.next=function(t){this._numberOfNextedValues++,e.prototype.next.call(this,t)},Object.defineProperty(t.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),t}(n.Subject),d=function(e){function t(t,r,o,n,s){e.call(this,t),this.destination=t,this.windowTimeSpan=r,this.windowCreationInterval=o,this.maxWindowSize=n,this.scheduler=s,this.windows=[];var i=this.openWindow();if(null!==o&&o>=0){var a={subscriber:this,window:i,context:null},c={windowTimeSpan:r,windowCreationInterval:o,subscriber:this,scheduler:s};this.add(s.schedule(f,r,a)),this.add(s.schedule(h,o,c))}else{var u={subscriber:this,window:i,windowTimeSpan:r};this.add(s.schedule(p,r,u))}}return o(t,e),t.prototype._next=function(e){for(var t=this.windows,r=t.length,o=0;o<r;o++){var n=t[o];n.closed||(n.next(e),n.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(n))}},t.prototype._error=function(e){for(var t=this.windows;t.length>0;)t.shift().error(e);this.destination.error(e)},t.prototype._complete=function(){for(var e=this.windows;e.length>0;){var t=e.shift();t.closed||t.complete()}this.destination.complete()},t.prototype.openWindow=function(){var e=new l;return this.windows.push(e),this.destination.next(e),e},t.prototype.closeWindow=function(e){e.complete();var t=this.windows;t.splice(t.indexOf(e),1)},t}(i.Subscriber);function p(e){var t=e.subscriber,r=e.windowTimeSpan,o=e.window;o&&t.closeWindow(o),e.window=t.openWindow(),this.schedule(e,r)}function h(e){var t=e.windowTimeSpan,r=e.subscriber,o=e.scheduler,n=e.windowCreationInterval,s={action:this,subscription:null},i={subscriber:r,window:r.openWindow(),context:s};s.subscription=o.schedule(f,t,i),this.add(s.subscription),this.schedule(e,n)}function f(e){var t=e.subscriber,r=e.window,o=e.context;o&&o.action&&o.subscription&&o.action.remove(o.subscription),t.closeWindow(r)}},"../../../node_modules/rxjs/operators/windowToggle.js":function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=r("../../../node_modules/rxjs/Subject.js"),s=r("../../../node_modules/rxjs/Subscription.js"),i=r("../../../node_modules/rxjs/util/tryCatch.js"),a=r("../../../node_modules/rxjs/util/errorObject.js"),c=r("../../../node_modules/rxjs/OuterSubscriber.js"),u=r("../../../node_modules/rxjs/util/subscribeToResult.js");t.windowToggle=function(e,t){return function(r){return r.lift(new l(e,t))}};var l=function(){function e(e,t){this.openings=e,this.closingSelector=t}return e.prototype.call=function(e,t){return t.subscribe(new d(e,this.openings,this.closingSelector))},e}(),d=function(e){function t(t,r,o){e.call(this,t),this.openings=r,this.closingSelector=o,this.contexts=[],this.add(this.openSubscription=u.subscribeToResult(this,r,r))}return o(t,e),t.prototype._next=function(e){var t=this.contexts;if(t)for(var r=t.length,o=0;o<r;o++)t[o].window.next(e)},t.prototype._error=function(t){var r=this.contexts;if(this.contexts=null,r)for(var o=r.length,n=-1;++n<o;){var s=r[n];s.window.error(t),s.subscription.unsubscribe()}e.prototype._error.call(this,t)},t.prototype._complete=function(){var t=this.contexts;if(this.contexts=null,t)for(var r=t.length,o=-1;++o<r;){var n=t[o];n.window.complete(),n.subscription.unsubscribe()}e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.contexts;if(this.contexts=null,e)for(var t=e.length,r=-1;++r<t;){var o=e[r];o.window.unsubscribe(),o.subscription.unsubscribe()}},t.prototype.notifyNext=function(e,t,r,o,c){if(e===this.openings){var l=this.closingSelector,d=i.tryCatch(l)(t);if(d===a.errorObject)return this.error(a.errorObject.e);var p=new n.Subject,h=new s.Subscription,f={window:p,subscription:h};this.contexts.push(f);var m=u.subscribeToResult(this,d,f);m.closed?this.closeWindow(this.contexts.length-1):(m.context=f,h.add(m)),this.destination.next(p)}else this.closeWindow(this.contexts.indexOf(e))},t.prototype.notifyError=function(e){this.error(e)},t.prototype.notifyComplete=function(e){e!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(e.context))},t.prototype.closeWindow=function(e){if(-1!==e){var t=this.contexts,r=t[e],o=r.window,n=r.subscription;t.splice(e,1),o.complete(),n.unsubscribe()}},t}(c.OuterSubscriber)},"../../../node_modules/rxjs/operators/windowWhen.js":function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=r("../../../node_modules/rxjs/Subject.js"),s=r("../../../node_modules/rxjs/util/tryCatch.js"),i=r("../../../node_modules/rxjs/util/errorObject.js"),a=r("../../../node_modules/rxjs/OuterSubscriber.js"),c=r("../../../node_modules/rxjs/util/subscribeToResult.js");t.windowWhen=function(e){return function(t){return t.lift(new u(e))}};var u=function(){function e(e){this.closingSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.closingSelector))},e}(),l=function(e){function t(t,r){e.call(this,t),this.destination=t,this.closingSelector=r,this.openWindow()}return o(t,e),t.prototype.notifyNext=function(e,t,r,o,n){this.openWindow(n)},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype.notifyComplete=function(e){this.openWindow(e)},t.prototype._next=function(e){this.window.next(e)},t.prototype._error=function(e){this.window.error(e),this.destination.error(e),this.unsubscribeClosingNotification()},t.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},t.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},t.prototype.openWindow=function(e){void 0===e&&(e=null),e&&(this.remove(e),e.unsubscribe());var t=this.window;t&&t.complete();var r=this.window=new n.Subject;this.destination.next(r);var o=s.tryCatch(this.closingSelector)();if(o===i.errorObject){var a=i.errorObject.e;this.destination.error(a),this.window.error(a)}else this.add(this.closingNotification=c.subscribeToResult(this,o))},t}(a.OuterSubscriber)},"../../../node_modules/rxjs/operators/withLatestFrom.js":function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=r("../../../node_modules/rxjs/OuterSubscriber.js"),s=r("../../../node_modules/rxjs/util/subscribeToResult.js");t.withLatestFrom=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return function(t){var r;"function"==typeof e[e.length-1]&&(r=e.pop());var o=e;return t.lift(new i(o,r))}};var i=function(){function e(e,t){this.observables=e,this.project=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.observables,this.project))},e}(),a=function(e){function t(t,r,o){e.call(this,t),this.observables=r,this.project=o,this.toRespond=[];var n=r.length;this.values=new Array(n);for(var i=0;i<n;i++)this.toRespond.push(i);for(i=0;i<n;i++){var a=r[i];this.add(s.subscribeToResult(this,a,a,i))}}return o(t,e),t.prototype.notifyNext=function(e,t,r,o,n){this.values[r]=t;var s=this.toRespond;if(s.length>0){var i=s.indexOf(r);-1!==i&&s.splice(i,1)}},t.prototype.notifyComplete=function(){},t.prototype._next=function(e){if(0===this.toRespond.length){var t=[e].concat(this.values);this.project?this._tryProject(t):this.destination.next(t)}},t.prototype._tryProject=function(e){var t;try{t=this.project.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(n.OuterSubscriber)},"../../../node_modules/rxjs/operators/zip.js":function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=r("../../../node_modules/rxjs/observable/ArrayObservable.js"),s=r("../../../node_modules/rxjs/util/isArray.js"),i=r("../../../node_modules/rxjs/Subscriber.js"),a=r("../../../node_modules/rxjs/OuterSubscriber.js"),c=r("../../../node_modules/rxjs/util/subscribeToResult.js"),u=r("../../../node_modules/rxjs/symbol/iterator.js");function l(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r=e[e.length-1];return"function"==typeof r&&e.pop(),new n.ArrayObservable(e).lift(new d(r))}t.zip=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return function(t){return t.lift.call(l.apply(void 0,[t].concat(e)))}},t.zipStatic=l;var d=function(){function e(e){this.project=e}return e.prototype.call=function(e,t){return t.subscribe(new p(e,this.project))},e}();t.ZipOperator=d;var p=function(e){function t(t,r,o){void 0===o&&(o=Object.create(null)),e.call(this,t),this.iterators=[],this.active=0,this.project="function"==typeof r?r:null,this.values=o}return o(t,e),t.prototype._next=function(e){var t=this.iterators;s.isArray(e)?t.push(new f(e)):"function"==typeof e[u.iterator]?t.push(new h(e[u.iterator]())):t.push(new m(this.destination,this,e))},t.prototype._complete=function(){var e=this.iterators,t=e.length;if(0!==t){this.active=t;for(var r=0;r<t;r++){var o=e[r];o.stillUnsubscribed?this.add(o.subscribe(o,r)):this.active--}}else this.destination.complete()},t.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},t.prototype.checkIterators=function(){for(var e=this.iterators,t=e.length,r=this.destination,o=0;o<t;o++){if("function"==typeof(i=e[o]).hasValue&&!i.hasValue())return}var n=!1,s=[];for(o=0;o<t;o++){var i,a=(i=e[o]).next();if(i.hasCompleted()&&(n=!0),a.done)return void r.complete();s.push(a.value)}this.project?this._tryProject(s):r.next(s),n&&r.complete()},t.prototype._tryProject=function(e){var t;try{t=this.project.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(i.Subscriber);t.ZipSubscriber=p;var h=function(){function e(e){this.iterator=e,this.nextResult=e.next()}return e.prototype.hasValue=function(){return!0},e.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},e.prototype.hasCompleted=function(){var e=this.nextResult;return e&&e.done},e}(),f=function(){function e(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return e.prototype[u.iterator]=function(){return this},e.prototype.next=function(e){var t=this.index++,r=this.array;return t<this.length?{value:r[t],done:!1}:{value:null,done:!0}},e.prototype.hasValue=function(){return this.array.length>this.index},e.prototype.hasCompleted=function(){return this.array.length===this.index},e}(),m=function(e){function t(t,r,o){e.call(this,t),this.parent=r,this.observable=o,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}return o(t,e),t.prototype[u.iterator]=function(){return this},t.prototype.next=function(){var e=this.buffer;return 0===e.length&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}},t.prototype.hasValue=function(){return this.buffer.length>0},t.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},t.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},t.prototype.notifyNext=function(e,t,r,o,n){this.buffer.push(t),this.parent.checkIterators()},t.prototype.subscribe=function(e,t){return c.subscribeToResult(this,this.observable,this,t)},t}(a.OuterSubscriber)},"../../../node_modules/rxjs/operators/zipAll.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/operators/zip.js");t.zipAll=function(e){return function(t){return t.lift(new o.ZipOperator(e))}}},"../../../node_modules/rxjs/scheduler/AnimationFrameAction.js":function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=r("../../../node_modules/rxjs/scheduler/AsyncAction.js"),s=r("../../../node_modules/rxjs/util/AnimationFrame.js"),i=function(e){function t(t,r){e.call(this,t,r),this.scheduler=t,this.work=r}return o(t,e),t.prototype.requestAsyncId=function(t,r,o){return void 0===o&&(o=0),null!==o&&o>0?e.prototype.requestAsyncId.call(this,t,r,o):(t.actions.push(this),t.scheduled||(t.scheduled=s.AnimationFrame.requestAnimationFrame(t.flush.bind(t,null))))},t.prototype.recycleAsyncId=function(t,r,o){if(void 0===o&&(o=0),null!==o&&o>0||null===o&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,r,o);0===t.actions.length&&(s.AnimationFrame.cancelAnimationFrame(r),t.scheduled=void 0)},t}(n.AsyncAction);t.AnimationFrameAction=i},"../../../node_modules/rxjs/scheduler/AnimationFrameScheduler.js":function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=function(e){function t(){e.apply(this,arguments)}return o(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,r=this.actions,o=-1,n=r.length;e=e||r.shift();do{if(t=e.execute(e.state,e.delay))break}while(++o<n&&(e=r.shift()));if(this.active=!1,t){for(;++o<n&&(e=r.shift());)e.unsubscribe();throw t}},t}(r("../../../node_modules/rxjs/scheduler/AsyncScheduler.js").AsyncScheduler);t.AnimationFrameScheduler=n},"../../../node_modules/rxjs/scheduler/AsapAction.js":function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=r("../../../node_modules/rxjs/util/Immediate.js"),s=function(e){function t(t,r){e.call(this,t,r),this.scheduler=t,this.work=r}return o(t,e),t.prototype.requestAsyncId=function(t,r,o){return void 0===o&&(o=0),null!==o&&o>0?e.prototype.requestAsyncId.call(this,t,r,o):(t.actions.push(this),t.scheduled||(t.scheduled=n.Immediate.setImmediate(t.flush.bind(t,null))))},t.prototype.recycleAsyncId=function(t,r,o){if(void 0===o&&(o=0),null!==o&&o>0||null===o&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,r,o);0===t.actions.length&&(n.Immediate.clearImmediate(r),t.scheduled=void 0)},t}(r("../../../node_modules/rxjs/scheduler/AsyncAction.js").AsyncAction);t.AsapAction=s},"../../../node_modules/rxjs/scheduler/AsapScheduler.js":function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=function(e){function t(){e.apply(this,arguments)}return o(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,r=this.actions,o=-1,n=r.length;e=e||r.shift();do{if(t=e.execute(e.state,e.delay))break}while(++o<n&&(e=r.shift()));if(this.active=!1,t){for(;++o<n&&(e=r.shift());)e.unsubscribe();throw t}},t}(r("../../../node_modules/rxjs/scheduler/AsyncScheduler.js").AsyncScheduler);t.AsapScheduler=n},"../../../node_modules/rxjs/scheduler/AsyncAction.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/rxjs/scheduler/AsyncAction.js")},"../../../node_modules/rxjs/scheduler/AsyncScheduler.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/rxjs/scheduler/AsyncScheduler.js")},"../../../node_modules/rxjs/scheduler/QueueAction.js":function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=function(e){function t(t,r){e.call(this,t,r),this.scheduler=t,this.work=r}return o(t,e),t.prototype.schedule=function(t,r){return void 0===r&&(r=0),r>0?e.prototype.schedule.call(this,t,r):(this.delay=r,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,r){return r>0||this.closed?e.prototype.execute.call(this,t,r):this._execute(t,r)},t.prototype.requestAsyncId=function(t,r,o){return void 0===o&&(o=0),null!==o&&o>0||null===o&&this.delay>0?e.prototype.requestAsyncId.call(this,t,r,o):t.flush(this)},t}(r("../../../node_modules/rxjs/scheduler/AsyncAction.js").AsyncAction);t.QueueAction=n},"../../../node_modules/rxjs/scheduler/QueueScheduler.js":function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=function(e){function t(){e.apply(this,arguments)}return o(t,e),t}(r("../../../node_modules/rxjs/scheduler/AsyncScheduler.js").AsyncScheduler);t.QueueScheduler=n},"../../../node_modules/rxjs/scheduler/VirtualTimeScheduler.js":function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=r("../../../node_modules/rxjs/scheduler/AsyncAction.js"),s=function(e){function t(t,r){var o=this;void 0===t&&(t=i),void 0===r&&(r=Number.POSITIVE_INFINITY),e.call(this,t,function(){return o.frame}),this.maxFrames=r,this.frame=0,this.index=-1}return o(t,e),t.prototype.flush=function(){for(var e,t,r=this.actions,o=this.maxFrames;(t=r.shift())&&(this.frame=t.delay)<=o&&!(e=t.execute(t.state,t.delay)););if(e){for(;t=r.shift();)t.unsubscribe();throw e}},t.frameTimeFactor=10,t}(r("../../../node_modules/rxjs/scheduler/AsyncScheduler.js").AsyncScheduler);t.VirtualTimeScheduler=s;var i=function(e){function t(t,r,o){void 0===o&&(o=t.index+=1),e.call(this,t,r),this.scheduler=t,this.work=r,this.index=o,this.active=!0,this.index=t.index=o}return o(t,e),t.prototype.schedule=function(r,o){if(void 0===o&&(o=0),!this.id)return e.prototype.schedule.call(this,r,o);this.active=!1;var n=new t(this.scheduler,this.work);return this.add(n),n.schedule(r,o)},t.prototype.requestAsyncId=function(e,r,o){void 0===o&&(o=0),this.delay=e.frame+o;var n=e.actions;return n.push(this),n.sort(t.sortActions),!0},t.prototype.recycleAsyncId=function(e,t,r){void 0===r&&(r=0)},t.prototype._execute=function(t,r){if(!0===this.active)return e.prototype._execute.call(this,t,r)},t.sortActions=function(e,t){return e.delay===t.delay?e.index===t.index?0:e.index>t.index?1:-1:e.delay>t.delay?1:-1},t}(n.AsyncAction);t.VirtualAction=i},"../../../node_modules/rxjs/scheduler/animationFrame.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/scheduler/AnimationFrameAction.js"),n=r("../../../node_modules/rxjs/scheduler/AnimationFrameScheduler.js");t.animationFrame=new n.AnimationFrameScheduler(o.AnimationFrameAction)},"../../../node_modules/rxjs/scheduler/asap.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/scheduler/AsapAction.js"),n=r("../../../node_modules/rxjs/scheduler/AsapScheduler.js");t.asap=new n.AsapScheduler(o.AsapAction)},"../../../node_modules/rxjs/scheduler/async.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/rxjs/scheduler/async.js")},"../../../node_modules/rxjs/scheduler/queue.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/scheduler/QueueAction.js"),n=r("../../../node_modules/rxjs/scheduler/QueueScheduler.js");t.queue=new n.QueueScheduler(o.QueueAction)},"../../../node_modules/rxjs/symbol/iterator.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/rxjs/symbol/iterator.js")},"../../../node_modules/rxjs/symbol/observable.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/rxjs/symbol/observable.js")},"../../../node_modules/rxjs/symbol/rxSubscriber.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/rxjs/symbol/rxSubscriber.js")},"../../../node_modules/rxjs/testing/ColdObservable.js":function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=r("../../../node_modules/rxjs/Observable.js"),s=r("../../../node_modules/rxjs/Subscription.js"),i=r("../../../node_modules/rxjs/testing/SubscriptionLoggable.js"),a=r("../../../node_modules/rxjs/util/applyMixins.js"),c=function(e){function t(t,r){e.call(this,function(e){var t=this,r=t.logSubscribedFrame();return e.add(new s.Subscription(function(){t.logUnsubscribedFrame(r)})),t.scheduleMessages(e),e}),this.messages=t,this.subscriptions=[],this.scheduler=r}return o(t,e),t.prototype.scheduleMessages=function(e){for(var t=this.messages.length,r=0;r<t;r++){var o=this.messages[r];e.add(this.scheduler.schedule(function(e){var t=e.message,r=e.subscriber;t.notification.observe(r)},o.frame,{message:o,subscriber:e}))}},t}(n.Observable);t.ColdObservable=c,a.applyMixins(c,[i.SubscriptionLoggable])},"../../../node_modules/rxjs/testing/HotObservable.js":function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=r("../../../node_modules/rxjs/Subject.js"),s=r("../../../node_modules/rxjs/Subscription.js"),i=r("../../../node_modules/rxjs/testing/SubscriptionLoggable.js"),a=r("../../../node_modules/rxjs/util/applyMixins.js"),c=function(e){function t(t,r){e.call(this),this.messages=t,this.subscriptions=[],this.scheduler=r}return o(t,e),t.prototype._subscribe=function(t){var r=this,o=r.logSubscribedFrame();return t.add(new s.Subscription(function(){r.logUnsubscribedFrame(o)})),e.prototype._subscribe.call(this,t)},t.prototype.setup=function(){for(var e=this,t=e.messages.length,r=0;r<t;r++)!function(){var t=e.messages[r];e.scheduler.schedule(function(){t.notification.observe(e)},t.frame)}()},t}(n.Subject);t.HotObservable=c,a.applyMixins(c,[i.SubscriptionLoggable])},"../../../node_modules/rxjs/testing/SubscriptionLog.js":function(e,t,r){"use strict";var o=function(){return function(e,t){void 0===t&&(t=Number.POSITIVE_INFINITY),this.subscribedFrame=e,this.unsubscribedFrame=t}}();t.SubscriptionLog=o},"../../../node_modules/rxjs/testing/SubscriptionLoggable.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/testing/SubscriptionLog.js"),n=function(){function e(){this.subscriptions=[]}return e.prototype.logSubscribedFrame=function(){return this.subscriptions.push(new o.SubscriptionLog(this.scheduler.now())),this.subscriptions.length-1},e.prototype.logUnsubscribedFrame=function(e){var t=this.subscriptions,r=t[e];t[e]=new o.SubscriptionLog(r.subscribedFrame,this.scheduler.now())},e}();t.SubscriptionLoggable=n},"../../../node_modules/rxjs/testing/TestScheduler.js":function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=r("../../../node_modules/rxjs/Observable.js"),s=r("../../../node_modules/rxjs/Notification.js"),i=r("../../../node_modules/rxjs/testing/ColdObservable.js"),a=r("../../../node_modules/rxjs/testing/HotObservable.js"),c=r("../../../node_modules/rxjs/testing/SubscriptionLog.js"),u=r("../../../node_modules/rxjs/scheduler/VirtualTimeScheduler.js"),l=750,d=function(e){function t(t){e.call(this,u.VirtualAction,l),this.assertDeepEqual=t,this.hotObservables=[],this.coldObservables=[],this.flushTests=[]}return o(t,e),t.prototype.createTime=function(e){var r=e.indexOf("|");if(-1===r)throw new Error('marble diagram for time should have a completion marker "|"');return r*t.frameTimeFactor},t.prototype.createColdObservable=function(e,r,o){if(-1!==e.indexOf("^"))throw new Error('cold observable cannot have subscription offset "^"');if(-1!==e.indexOf("!"))throw new Error('cold observable cannot have unsubscription marker "!"');var n=t.parseMarbles(e,r,o),s=new i.ColdObservable(n,this);return this.coldObservables.push(s),s},t.prototype.createHotObservable=function(e,r,o){if(-1!==e.indexOf("!"))throw new Error('hot observable cannot have unsubscription marker "!"');var n=t.parseMarbles(e,r,o),s=new a.HotObservable(n,this);return this.hotObservables.push(s),s},t.prototype.materializeInnerObservable=function(e,t){var r=this,o=[];return e.subscribe(function(e){o.push({frame:r.frame-t,notification:s.Notification.createNext(e)})},function(e){o.push({frame:r.frame-t,notification:s.Notification.createError(e)})},function(){o.push({frame:r.frame-t,notification:s.Notification.createComplete()})}),o},t.prototype.expectObservable=function(e,r){var o=this;void 0===r&&(r=null);var i,a=[],c={actual:a,ready:!1},u=t.parseMarblesAsSubscriptions(r).unsubscribedFrame;return this.schedule(function(){i=e.subscribe(function(e){var t=e;e instanceof n.Observable&&(t=o.materializeInnerObservable(t,o.frame)),a.push({frame:o.frame,notification:s.Notification.createNext(t)})},function(e){a.push({frame:o.frame,notification:s.Notification.createError(e)})},function(){a.push({frame:o.frame,notification:s.Notification.createComplete()})})},0),u!==Number.POSITIVE_INFINITY&&this.schedule(function(){return i.unsubscribe()},u),this.flushTests.push(c),{toBe:function(e,r,o){c.ready=!0,c.expected=t.parseMarbles(e,r,o,!0)}}},t.prototype.expectSubscriptions=function(e){var r={actual:e,ready:!1};return this.flushTests.push(r),{toBe:function(e){var o="string"==typeof e?[e]:e;r.ready=!0,r.expected=o.map(function(e){return t.parseMarblesAsSubscriptions(e)})}}},t.prototype.flush=function(){for(var t=this.hotObservables;t.length>0;)t.shift().setup();e.prototype.flush.call(this);for(var r=this.flushTests.filter(function(e){return e.ready});r.length>0;){var o=r.shift();this.assertDeepEqual(o.actual,o.expected)}},t.parseMarblesAsSubscriptions=function(e){if("string"!=typeof e)return new c.SubscriptionLog(Number.POSITIVE_INFINITY);for(var t=e.length,r=-1,o=Number.POSITIVE_INFINITY,n=Number.POSITIVE_INFINITY,s=0;s<t;s++){var i=s*this.frameTimeFactor,a=e[s];switch(a){case"-":case" ":break;case"(":r=i;break;case")":r=-1;break;case"^":if(o!==Number.POSITIVE_INFINITY)throw new Error("found a second subscription point '^' in a subscription marble diagram. There can only be one.");o=r>-1?r:i;break;case"!":if(n!==Number.POSITIVE_INFINITY)throw new Error("found a second subscription point '^' in a subscription marble diagram. There can only be one.");n=r>-1?r:i;break;default:throw new Error("there can only be '^' and '!' markers in a subscription marble diagram. Found instead '"+a+"'.")}}return n<0?new c.SubscriptionLog(o):new c.SubscriptionLog(o,n)},t.parseMarbles=function(e,t,r,o){if(void 0===o&&(o=!1),-1!==e.indexOf("!"))throw new Error('conventional marble diagrams cannot have the unsubscription marker "!"');for(var n=e.length,a=[],c=e.indexOf("^"),u=-1===c?0:c*-this.frameTimeFactor,l="object"!=typeof t?function(e){return e}:function(e){return o&&t[e]instanceof i.ColdObservable?t[e].messages:t[e]},d=-1,p=0;p<n;p++){var h=p*this.frameTimeFactor+u,f=void 0,m=e[p];switch(m){case"-":case" ":break;case"(":d=h;break;case")":d=-1;break;case"|":f=s.Notification.createComplete();break;case"^":break;case"#":f=s.Notification.createError(r||"error");break;default:f=s.Notification.createNext(l(m))}f&&a.push({frame:d>-1?d:h,notification:f})}return a},t}(u.VirtualTimeScheduler);t.TestScheduler=d},"../../../node_modules/rxjs/util/AnimationFrame.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/util/root.js"),n=function(){return function(e){e.requestAnimationFrame?(this.cancelAnimationFrame=e.cancelAnimationFrame.bind(e),this.requestAnimationFrame=e.requestAnimationFrame.bind(e)):e.mozRequestAnimationFrame?(this.cancelAnimationFrame=e.mozCancelAnimationFrame.bind(e),this.requestAnimationFrame=e.mozRequestAnimationFrame.bind(e)):e.webkitRequestAnimationFrame?(this.cancelAnimationFrame=e.webkitCancelAnimationFrame.bind(e),this.requestAnimationFrame=e.webkitRequestAnimationFrame.bind(e)):e.msRequestAnimationFrame?(this.cancelAnimationFrame=e.msCancelAnimationFrame.bind(e),this.requestAnimationFrame=e.msRequestAnimationFrame.bind(e)):e.oRequestAnimationFrame?(this.cancelAnimationFrame=e.oCancelAnimationFrame.bind(e),this.requestAnimationFrame=e.oRequestAnimationFrame.bind(e)):(this.cancelAnimationFrame=e.clearTimeout.bind(e),this.requestAnimationFrame=function(t){return e.setTimeout(t,1e3/60)})}}();t.RequestAnimationFrameDefinition=n,t.AnimationFrame=new n(o.root)},"../../../node_modules/rxjs/util/ArgumentOutOfRangeError.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/rxjs/util/ArgumentOutOfRangeError.js")},"../../../node_modules/rxjs/util/EmptyError.js":function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=function(e){function t(){var t=e.call(this,"no elements in sequence");this.name=t.name="EmptyError",this.stack=t.stack,this.message=t.message}return o(t,e),t}(Error);t.EmptyError=n},"../../../node_modules/rxjs/util/FastMap.js":function(e,t,r){"use strict";var o=function(){function e(){this.values={}}return e.prototype.delete=function(e){return this.values[e]=null,!0},e.prototype.set=function(e,t){return this.values[e]=t,this},e.prototype.get=function(e){return this.values[e]},e.prototype.forEach=function(e,t){var r=this.values;for(var o in r)r.hasOwnProperty(o)&&null!==r[o]&&e.call(t,r[o],o)},e.prototype.clear=function(){this.values={}},e}();t.FastMap=o},"../../../node_modules/rxjs/util/Immediate.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/util/root.js"),n=function(){function e(e){if(this.root=e,e.setImmediate&&"function"==typeof e.setImmediate)this.setImmediate=e.setImmediate.bind(e),this.clearImmediate=e.clearImmediate.bind(e);else{this.nextHandle=1,this.tasksByHandle={},this.currentlyRunningATask=!1,this.canUseProcessNextTick()?this.setImmediate=this.createProcessNextTickSetImmediate():this.canUsePostMessage()?this.setImmediate=this.createPostMessageSetImmediate():this.canUseMessageChannel()?this.setImmediate=this.createMessageChannelSetImmediate():this.canUseReadyStateChange()?this.setImmediate=this.createReadyStateChangeSetImmediate():this.setImmediate=this.createSetTimeoutSetImmediate();var t=function e(t){delete e.instance.tasksByHandle[t]};t.instance=this,this.clearImmediate=t}}return e.prototype.identify=function(e){return this.root.Object.prototype.toString.call(e)},e.prototype.canUseProcessNextTick=function(){return"[object process]"===this.identify(this.root.process)},e.prototype.canUseMessageChannel=function(){return Boolean(this.root.MessageChannel)},e.prototype.canUseReadyStateChange=function(){var e=this.root.document;return Boolean(e&&"onreadystatechange"in e.createElement("script"))},e.prototype.canUsePostMessage=function(){var e=this.root;if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}return!1},e.prototype.partiallyApplied=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var o=function e(){var t=e.handler,r=e.args;"function"==typeof t?t.apply(void 0,r):new Function(""+t)()};return o.handler=e,o.args=t,o},e.prototype.addFromSetImmediateArguments=function(e){return this.tasksByHandle[this.nextHandle]=this.partiallyApplied.apply(void 0,e),this.nextHandle++},e.prototype.createProcessNextTickSetImmediate=function(){var e=function e(){var t=e.instance,r=t.addFromSetImmediateArguments(arguments);return t.root.process.nextTick(t.partiallyApplied(t.runIfPresent,r)),r};return e.instance=this,e},e.prototype.createPostMessageSetImmediate=function(){var e=this.root,t="setImmediate$"+e.Math.random()+"$",r=function r(o){var n=r.instance;o.source===e&&"string"==typeof o.data&&0===o.data.indexOf(t)&&n.runIfPresent(+o.data.slice(t.length))};r.instance=this,e.addEventListener("message",r,!1);var o=function e(){var t=e.messagePrefix,r=e.instance,o=r.addFromSetImmediateArguments(arguments);return r.root.postMessage(t+o,"*"),o};return o.instance=this,o.messagePrefix=t,o},e.prototype.runIfPresent=function(e){if(this.currentlyRunningATask)this.root.setTimeout(this.partiallyApplied(this.runIfPresent,e),0);else{var t=this.tasksByHandle[e];if(t){this.currentlyRunningATask=!0;try{t()}finally{this.clearImmediate(e),this.currentlyRunningATask=!1}}}},e.prototype.createMessageChannelSetImmediate=function(){var e=this,t=new this.root.MessageChannel;t.port1.onmessage=function(t){var r=t.data;e.runIfPresent(r)};var r=function e(){var t=e.channel,r=e.instance.addFromSetImmediateArguments(arguments);return t.port2.postMessage(r),r};return r.channel=t,r.instance=this,r},e.prototype.createReadyStateChangeSetImmediate=function(){var e=function e(){var t=e.instance,r=t.root.document,o=r.documentElement,n=t.addFromSetImmediateArguments(arguments),s=r.createElement("script");return s.onreadystatechange=function(){t.runIfPresent(n),s.onreadystatechange=null,o.removeChild(s),s=null},o.appendChild(s),n};return e.instance=this,e},e.prototype.createSetTimeoutSetImmediate=function(){var e=function e(){var t=e.instance,r=t.addFromSetImmediateArguments(arguments);return t.root.setTimeout(t.partiallyApplied(t.runIfPresent,r),0),r};return e.instance=this,e},e}();t.ImmediateDefinition=n,t.Immediate=new n(o.root)},"../../../node_modules/rxjs/util/Map.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/util/root.js"),n=r("../../../node_modules/rxjs/util/MapPolyfill.js");t.Map=o.root.Map||n.MapPolyfill},"../../../node_modules/rxjs/util/MapPolyfill.js":function(e,t,r){"use strict";var o=function(){function e(){this.size=0,this._values=[],this._keys=[]}return e.prototype.get=function(e){var t=this._keys.indexOf(e);return-1===t?void 0:this._values[t]},e.prototype.set=function(e,t){var r=this._keys.indexOf(e);return-1===r?(this._keys.push(e),this._values.push(t),this.size++):this._values[r]=t,this},e.prototype.delete=function(e){var t=this._keys.indexOf(e);return-1!==t&&(this._values.splice(t,1),this._keys.splice(t,1),this.size--,!0)},e.prototype.clear=function(){this._keys.length=0,this._values.length=0,this.size=0},e.prototype.forEach=function(e,t){for(var r=0;r<this.size;r++)e.call(t,this._values[r],this._keys[r])},e}();t.MapPolyfill=o},"../../../node_modules/rxjs/util/ObjectUnsubscribedError.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/rxjs/util/ObjectUnsubscribedError.js")},"../../../node_modules/rxjs/util/Set.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/util/root.js");function n(){return function(){function e(){this._values=[]}return e.prototype.add=function(e){this.has(e)||this._values.push(e)},e.prototype.has=function(e){return-1!==this._values.indexOf(e)},Object.defineProperty(e.prototype,"size",{get:function(){return this._values.length},enumerable:!0,configurable:!0}),e.prototype.clear=function(){this._values.length=0},e}()}t.minimalSetImpl=n,t.Set=o.root.Set||n()},"../../../node_modules/rxjs/util/TimeoutError.js":function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=function(e){function t(){var t=e.call(this,"Timeout has occurred");this.name=t.name="TimeoutError",this.stack=t.stack,this.message=t.message}return o(t,e),t}(Error);t.TimeoutError=n},"../../../node_modules/rxjs/util/UnsubscriptionError.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/rxjs/util/UnsubscriptionError.js")},"../../../node_modules/rxjs/util/applyMixins.js":function(e,t,r){"use strict";t.applyMixins=function(e,t){for(var r=0,o=t.length;r<o;r++)for(var n=t[r],s=Object.getOwnPropertyNames(n.prototype),i=0,a=s.length;i<a;i++){var c=s[i];e.prototype[c]=n.prototype[c]}}},"../../../node_modules/rxjs/util/assign.js":function(e,t,r){"use strict";var o=r("../../../node_modules/rxjs/util/root.js");function n(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];for(var o=t.length,n=0;n<o;n++){var s=t[n];for(var i in s)s.hasOwnProperty(i)&&(e[i]=s[i])}return e}function s(e){return e.Object.assign||n}t.assignImpl=n,t.getAssign=s,t.assign=s(o.root)},"../../../node_modules/rxjs/util/errorObject.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/rxjs/util/errorObject.js")},"../../../node_modules/rxjs/util/identity.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/rxjs/util/identity.js")},"../../../node_modules/rxjs/util/isArray.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/rxjs/util/isArray.js")},"../../../node_modules/rxjs/util/isDate.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/rxjs/util/isDate.js")},"../../../node_modules/rxjs/util/isFunction.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/rxjs/util/isFunction.js")},"../../../node_modules/rxjs/util/isNumeric.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/rxjs/util/isNumeric.js")},"../../../node_modules/rxjs/util/isScheduler.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/rxjs/util/isScheduler.js")},"../../../node_modules/rxjs/util/noop.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/rxjs/util/noop.js")},"../../../node_modules/rxjs/util/not.js":function(e,t,r){"use strict";t.not=function(e,t){function r(){return!r.pred.apply(r.thisArg,arguments)}return r.pred=e,r.thisArg=t,r}},"../../../node_modules/rxjs/util/pipe.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/rxjs/util/pipe.js")},"../../../node_modules/rxjs/util/root.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/rxjs/util/root.js")},"../../../node_modules/rxjs/util/subscribeToResult.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/rxjs/util/subscribeToResult.js")},"../../../node_modules/rxjs/util/tryCatch.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/rxjs/util/tryCatch.js")},"../../../node_modules/tslib/tslib.es6.js":function(e,t,r){e.exports=r("dll-reference shared_8b81f721bafa34fac60d")("../../../node_modules/tslib/tslib.es6.js")},"../../../node_modules/webpack/buildin/harmony-module.js":function(e,t,r){e.exports=r("dll-reference vendors_6dc1bf031c792a36dced")("../../../node_modules/webpack/buildin/harmony-module.js")},"../../sdk/shared/built/index.js":function(e,t,r){e.exports=r("dll-reference shared_8b81f721bafa34fac60d")("../../sdk/shared/built/index.js")},"../../sdk/ui-react/built/index.js":function(e,t,r){e.exports=r("dll-reference shared_8b81f721bafa34fac60d")("../../sdk/ui-react/built/index.js")},"../shared/built/index.js":function(e,t,r){e.exports=r("dll-reference shared_8b81f721bafa34fac60d")("../shared/built/index.js")},"./src/commands.ts":function(e,t,r){"use strict";r.d(t,"a",function(){return g}),r.d(t,"b",function(){return _});var o=r("../shared/built/index.js"),n=r("../../sdk/shared/built/index.js"),s=r("./src/constants.ts"),i=r("./src/data/action/botActions.ts"),a=r("./src/data/action/chatActions.ts"),c=r("./src/data/action/editorActions.ts"),u=r("./src/data/action/fileActions.ts"),l=r("./src/data/action/navBarActions.ts"),d=r("./src/data/botHelpers.ts"),p=r("./src/data/editorHelpers.ts"),h=r("./src/data/store.ts"),f=r("./src/extensions.ts"),m=r("./src/platform/commands/commandServiceImpl.ts"),b=r("./src/platform/log/logService.ts"),v=r("./src/platform/settings/settingsService.ts"),j=r("./src/ui/dialogs/index.ts"),y=r("./src/ui/helpers/activeBotHelper.ts"),x=function(e,t,r,o){return new(r||(r=Promise))(function(n,s){function i(e){try{c(o.next(e))}catch(e){s(e)}}function a(e){try{c(o.throw(e))}catch(e){s(e)}}function c(e){e.done?n(e.value):new r(function(t){t(e.value)}).then(i,a)}c((o=o.apply(e,t||[])).next())})};const g=new n.CommandRegistryImpl;function _(){b.b(),v.b(),f.a.registerCommands(),g.registerCommand("ping",()=>"pong"),g.registerCommand("welcome-page:show",()=>{Object(p.d)()}),g.registerCommand("bot-creation:show",()=>{j.c.showDialog(j.a)}),g.registerCommand("secret-prompt:show",()=>x(this,void 0,void 0,function*(){return yield j.c.showDialog(j.d)})),g.registerCommand("bot:switch",e=>y.a.confirmAndSwitchBots(e)),g.registerCommand("bot:close",()=>y.a.confirmAndCloseBot()),g.registerCommand("bot:browse-open",()=>y.a.confirmAndOpenBotFromFile()),g.registerCommand("bot:load",e=>Object(d.c)(e.path)?y.a.confirmAndSwitchBots(e.path):y.a.confirmAndCreateBot(e,"")),g.registerCommand("bot:list:sync",e=>x(this,void 0,void 0,function*(){h.a.dispatch(i.d(e)),m.a.remoteCall("menu:update-recent-bots")})),g.registerCommand("transcript:add",e=>{h.a.dispatch(a.b(e))}),g.registerCommand("transcript:remove",e=>{h.a.dispatch(a.i(e))}),g.registerCommand("bot-settings:open",e=>{h.a.dispatch(c.e(s.CONTENT_TYPE_BOT_SETTINGS,s.DOCUMENT_ID_BOT_SETTINGS,!1))}),g.registerCommand("navbar:switchtab",e=>{h.a.dispatch(l.b(e))}),g.registerCommand("shell:show-explorer",()=>{h.a.dispatch(l.b(s.NAVBAR_BOT_EXPLORER))}),g.registerCommand("shell:show-services",()=>{h.a.dispatch(l.b(s.NAVBAR_SERVICES))}),g.registerCommand("shell:show-app-settings",()=>{const{CONTENT_TYPE_APP_SETTINGS:e,DOCUMENT_ID_APP_SETTINGS:t}=s;h.a.dispatch(c.e(e,t,!0,null))}),g.registerCommand("livechat:new",e=>{const t=Object(n.uniqueId)();h.a.dispatch(a.g(t,"livechat",{botId:"bot",endpointId:e.id,userId:"default-user"})),h.a.dispatch(c.e(s.CONTENT_TYPE_LIVE_CHAT,t,!1))}),g.registerCommand("transcript:open",(e,t)=>{Object(p.b)(e)||h.a.dispatch(a.g(e,"transcript",Object.assign({},t,{botId:"bot",userId:"default-user"}))),h.a.dispatch(c.e(s.CONTENT_TYPE_TRANSCRIPT,e,!1))}),g.registerCommand("transcript:prompt-open",()=>{m.a.remoteCall("shell:showOpenDialog",{title:"Open transcript file",buttonLabel:"Choose file",properties:["openFile"],filters:[{name:"Transcript Files",extensions:["transcript"]}]}).then(e=>{e&&e.length&&m.a.call("transcript:open",e)}).catch(e=>console.error(e))}),g.registerCommand("file:add",e=>{h.a.dispatch(u.b(e))}),g.registerCommand("file:remove",e=>{h.a.dispatch(u.d(e))}),g.registerCommand("file:clear",()=>{h.a.dispatch(u.c())}),g.registerCommand("bot:set-active",(e,t)=>{h.a.dispatch(i.e(e)),h.a.dispatch(u.e(t)),m.a.remoteCall("menu:update-recent-bots"),m.a.remoteCall("electron:set-title-bar",Object(o.getBotDisplayName)(e))}),g.registerCommand("shell:toggle-inspector-devtools",()=>{window.dispatchEvent(new Event("toggle-inspector-devtools"))}),g.registerCommand("shell:update-downloaded",(...e)=>{console.log("Update available",...e)}),g.registerCommand("shell:update-not-available",()=>{console.log("Application is up to date")}),g.registerCommand("shell:open-external-link",e=>{window.open(e)}),g.registerCommand("shell:about",()=>{}),g.registerCommand("store:getState",()=>h.a.getState())}},"./src/constants.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"CONTENT_TYPE_APP_SETTINGS",function(){return o}),r.d(t,"CONTENT_TYPE_WELCOME_PAGE",function(){return n}),r.d(t,"CONTENT_TYPE_BOT_SETTINGS",function(){return s}),r.d(t,"CONTENT_TYPE_TRANSCRIPT",function(){return i}),r.d(t,"CONTENT_TYPE_LIVE_CHAT",function(){return a}),r.d(t,"NAVBAR_BOT_EXPLORER",function(){return c}),r.d(t,"NAVBAR_SERVICES",function(){return u}),r.d(t,"NAVBAR_ANALYTICS",function(){return l}),r.d(t,"NAVBAR_SETTINGS",function(){return d}),r.d(t,"NAVBAR_NOTIFICATIONS",function(){return p}),r.d(t,"EDITOR_KEY_PRIMARY",function(){return h}),r.d(t,"EDITOR_KEY_SECONDARY",function(){return f}),r.d(t,"EditorKeys",function(){return m}),r.d(t,"DOCUMENT_ID_APP_SETTINGS",function(){return b}),r.d(t,"DOCUMENT_ID_BOT_SETTINGS",function(){return v}),r.d(t,"DOCUMENT_ID_WELCOME_PAGE",function(){return j});const o="application/vnd.microsoft.bfemulator.document.appsettings",n="application/vnd.microsoft.bfemulator.document.welcome",s="application/vnd.microsoft.bfemulator.document.botsettings",i="application/vnd.microsoft.bfemulator.document.transcript",a="application/vnd.microsoft.bfemulator.document.livechat",c="navbar.botExplorer",u="navbar.services",l="navbar.analytics",d="navbar.settings",p="navbar.notifications",h="primary",f="secondary",m=[h,f],b="app:settings",v="bot:settings",j="welcome-page"},"./src/data/action/azureBotServiceActions.ts":function(e,t,r){"use strict";r.d(t,"c",function(){return o}),r.d(t,"b",function(){return n}),r.d(t,"a",function(){return s}),r.d(t,"d",function(){return i}),r.d(t,"e",function(){return a}),r.d(t,"f",function(){return c});const o="OPEN_AZURE_BOT_SERVICE_DEEP_LINK",n="OPEN_AZURE_BOT_SERVICE_CONTEXT_MENU",s="LAUNCH_AZURE_BOT_SERVICE_EDITOR";function i(e,t){return{type:s,payload:{azureBotServiceEditorComponent:e,azureBotService:t}}}function a(e){return{type:o,payload:{azureBotService:e}}}function c(e,t){return{type:n,payload:{azureBotServiceEditorComponent:e,azureBotService:t}}}},"./src/data/action/botActions.ts":function(e,t,r){"use strict";var o;function n(e,t,r){return{type:o.create,payload:{bot:e,botFilePath:t,secret:r}}}function s(e){return e=e.filter(e=>!!e),{type:o.load,payload:{bots:e}}}function i(e){return{type:o.setActive,payload:{bot:e}}}function a(){return{type:o.close,payload:{}}}r.d(t,"a",function(){return o}),r.d(t,"c",function(){return n}),r.d(t,"d",function(){return s}),r.d(t,"e",function(){return i}),r.d(t,"b",function(){return a}),function(e){e.create="BOT/CREATE",e.load="BOT/LOAD",e.patch="BOT/PATCH",e.setActive="BOT/SET_ACTIVE",e.close="BOT/CLOSE"}(o||(o={}))},"./src/data/action/chatActions.ts":function(e,t,r){"use strict";var o;function n(e){return{type:o.pingChat,payload:{documentId:e}}}function s(e){return{type:o.addTranscript,payload:{filename:e}}}function i(e){return{type:o.removeTranscript,payload:{filename:e}}}function a(e,t,r){return{type:o.newChat,payload:Object.assign({pingId:0,mode:t,documentId:e,conversationId:null,directLine:null,log:{entries:[]},inspectorObjects:[],ui:{horizontalSplitter:[{absolute:null,percentage:50},{absolute:null,percentage:50}],verticalSplitter:[{absolute:null,percentage:50},{absolute:null,percentage:50}]}},r)}}function c(e){return{type:o.closeChat,payload:{documentId:e}}}function u(e,t){return{type:o.newConversation,payload:{documentId:e,options:t}}}function l(e,t){return{type:o.appendLog,payload:{documentId:e,entry:t}}}function d(e){return{type:o.clearLog,payload:{documentId:e}}}function p(e,t){return t=Array.isArray(t)?t:[t],{type:o.setInspectorObjects,payload:{documentId:e,objs:t}}}r.d(t,"a",function(){return o}),r.d(t,"h",function(){return n}),r.d(t,"b",function(){return s}),r.d(t,"i",function(){return i}),r.d(t,"g",function(){return a}),r.d(t,"e",function(){return c}),r.d(t,"f",function(){return u}),r.d(t,"c",function(){return l}),r.d(t,"d",function(){return d}),r.d(t,"j",function(){return p}),function(e){e.newChat="CHAT/DOCUMENT/NEW",e.openChat="CHAT/DOCUMENT/OPEN",e.closeChat="CHAT/DOCUMENT/CLOSE",e.pingChat="CHAT/DOCUMENT/PING",e.newConversation="CHAT/CONVERSATION/NEW",e.appendLog="CHAT/LOG/APPEND",e.clearLog="CHAT/LOG/CLEAR",e.setInspectorObjects="CHAT/INSPECTOR/OBJECTS/SET",e.addTranscript="CHAT/TRANSCRIPT/ADD",e.clearTranscripts="CHAT/TRANSCRIPT/CLEAR",e.removeTranscript="CHAT/TRANSCRIPT/REMOVE"}(o||(o={}))},"./src/data/action/dialogActions.ts":function(e,t,r){"use strict";var o;function n(e=!1){return{type:o.setShowing,payload:{showing:e}}}r.d(t,"a",function(){return o}),r.d(t,"b",function(){return n}),function(e){e.setShowing="DIALOG/SET_SHOWING"}(o||(o={}))},"./src/data/action/dispatchServiceActions.ts":function(e,t,r){"use strict";r.d(t,"c",function(){return o}),r.d(t,"b",function(){return n}),r.d(t,"a",function(){return s}),r.d(t,"d",function(){return i}),r.d(t,"e",function(){return a}),r.d(t,"f",function(){return c});const o="OPEN_DISPATCH_DEEP_LINK",n="OPEN_DISPATCH_CONTEXT_MENU",s="LAUNCH_DISPATCH_EDITOR";function i(e,t){return{type:s,payload:{dispatchEditorComponent:e,dispatchService:t}}}function a(e){return{type:o,payload:{dispatchService:e}}}function c(e,t){return{type:n,payload:{dispatchEditorComponent:e,dispatchService:t}}}},"./src/data/action/editorActions.ts":function(e,t,r){"use strict";var o;function n(e,t,r){return{type:o.appendTab,payload:{srcEditorKey:e,destEditorKey:t,documentId:r}}}function s(e,t){return{type:o.close,payload:{editorKey:e,documentId:t}}}function i(){return{type:o.closeAll,payload:{includeGlobal:!1}}}function a(e,t){return{type:o.setDirtyFlag,payload:{documentId:e,dirty:t}}}function c(e,t,r,n){return{type:o.open,payload:{contentType:e,documentId:t,isGlobal:r,meta:n}}}function u(e,t){return{type:o.updateDocument,payload:Object.assign({documentId:e},t)}}function l(e){return{type:o.setActiveTab,payload:{documentId:e}}}function d(e){return{type:o.setActiveEditor,payload:{editorKey:e}}}function p(e,t,r,n){return{type:o.splitTab,payload:{contentType:e,documentId:t,srcEditorKey:r,destEditorKey:n}}}function h(e,t,r,n){return{type:o.swapTabs,payload:{srcEditorKey:e,destEditorKey:t,srcTabId:r,destTabId:n}}}function f(e){return{type:o.toggleDraggingTab,payload:{draggingTab:e}}}r.d(t,"a",function(){return o}),r.d(t,"b",function(){return n}),r.d(t,"c",function(){return s}),r.d(t,"d",function(){return i}),r.d(t,"h",function(){return a}),r.d(t,"e",function(){return c}),r.d(t,"l",function(){return u}),r.d(t,"g",function(){return l}),r.d(t,"f",function(){return d}),r.d(t,"i",function(){return p}),r.d(t,"j",function(){return h}),r.d(t,"k",function(){return f}),function(e){e.appendTab="EDITOR/APPEND_TAB",e.close="EDITOR/CLOSE",e.closeAll="EDITOR/CLOSE_ALL",e.setDirtyFlag="EDITOR/SET_DIRTY_FLAG",e.open="EDITOR/OPEN",e.setActiveTab="EDITOR/SET_ACTIVE_TAB",e.setActiveEditor="EDITOR/SET_ACTIVE_EDITOR",e.splitTab="EDITOR/SPLIT_TAB",e.swapTabs="EDITOR/SWAP_TABS",e.toggleDraggingTab="EDITOR/TOGGLE_DRAGGING_TAB",e.updateDocument="EDITOR/UPDATE_DOCUMENT"}(o||(o={}))},"./src/data/action/endpointServiceActions.ts":function(e,t,r){"use strict";r.d(t,"c",function(){return o}),r.d(t,"b",function(){return n}),r.d(t,"a",function(){return s}),r.d(t,"d",function(){return i}),r.d(t,"e",function(){return a}),r.d(t,"f",function(){return c});const o="OPEN_ENDPOINT_DEEP_LINK",n="OPEN_ENDPOINT_CONTEXT_MENU",s="LAUNCH_ENDPOINT_EDITOR";function i(e,t){return{type:s,payload:{endpointEditorComponent:e,endpointService:t}}}function a(e){return{type:o,payload:{endpointService:e}}}function c(e,t){return{type:n,payload:{endpointEditorComponent:e,endpointService:t}}}},"./src/data/action/explorerActions.ts":function(e,t,r){"use strict";var o;function n(e){return{type:o.show,payload:{show:e}}}r.d(t,"a",function(){return o}),r.d(t,"b",function(){return n}),function(e){e.show="EXPLORER/SHOW"}(o||(o={}))},"./src/data/action/fileActions.ts":function(e,t,r){"use strict";var o;function n(e){return{type:o.add,payload:e}}function s(){return{type:o.clear,payload:{}}}function i(e){return{type:o.remove,payload:{path:e}}}function a(e){return{type:o.setRoot,payload:{path:e}}}r.d(t,"a",function(){return o}),r.d(t,"b",function(){return n}),r.d(t,"c",function(){return s}),r.d(t,"d",function(){return i}),r.d(t,"e",function(){return a}),function(e){e.setRoot="FILE/SET_ROOT",e.add="FILE/ADD",e.remove="FILE/REMOVE",e.clear="FILE/CLEAR"}(o||(o={}))},"./src/data/action/luisServiceActions.ts":function(e,t,r){"use strict";r.d(t,"c",function(){return o}),r.d(t,"b",function(){return n}),r.d(t,"a",function(){return s}),r.d(t,"d",function(){return i}),r.d(t,"e",function(){return a}),r.d(t,"f",function(){return c}),r.d(t,"g",function(){return u});const o="OPEN_LUIS_DEEP_LINK",n="OPEN_LUIS_CONTEXT_MENU",s="LAUNCH_LUIS_EDITOR",i="RETRIEVE_LUIS_MODELS";function a(e,t){return{type:s,payload:{luisEditorComponent:e,luisService:t}}}function c(e){return{type:o,payload:{luisService:e}}}function u(e,t){return{type:n,payload:{luisEditorComponent:e,luisService:t}}}},"./src/data/action/navBarActions.ts":function(e,t,r){"use strict";var o;function n(e){return{type:o.select,payload:{selection:e}}}r.d(t,"a",function(){return o}),r.d(t,"b",function(){return n}),function(e){e.select="NAVBAR/SELECT"}(o||(o={}))},"./src/data/action/presentationActions.ts":function(e,t,r){"use strict";var o;function n(){return{type:o.enable,payload:{}}}function s(){return{type:o.disable,payload:{}}}r.d(t,"a",function(){return o}),r.d(t,"c",function(){return n}),r.d(t,"b",function(){return s}),function(e){e.disable="PRESENTATION/DISABLE",e.enable="PRESENTATION/ENABLE"}(o||(o={}))},"./src/data/action/qnaMakerServiceActions.ts":function(e,t,r){"use strict";r.d(t,"c",function(){return o}),r.d(t,"b",function(){return n}),r.d(t,"a",function(){return s}),r.d(t,"d",function(){return i}),r.d(t,"e",function(){return a}),r.d(t,"f",function(){return c});const o="OPEN_QNA_MAKER_DEEP_LINK",n="OPEN_QNA_MAKER_CONTEXT_MENU",s="LAUNCH_QNA_MAKER_EDITOR";function i(e,t){return{type:s,payload:{qnaMakerEditorComponent:e,qnaMakerService:t}}}function a(e){return{type:o,payload:{qnaMakerService:e}}}function c(e,t){return{type:n,payload:{qnaMakerEditorComponent:e,qnaMakerService:t}}}},"./src/data/botHelpers.ts":function(e,t,r){"use strict";r.d(t,"a",function(){return n}),r.d(t,"b",function(){return s}),r.d(t,"c",function(){return i});var o=r("./src/data/store.ts");function n(){return o.a.getState().bot.activeBot}function s(e){const t=o.a.getState().bot.botFiles.find(t=>t&&t.path===e);return t?Object.assign({},t):t}function i(e){return o.a.getState().bot.botFiles.some(t=>t&&t.path===e)}},"./src/data/editorHelpers.ts":function(e,t,r){"use strict";r.d(t,"c",function(){return i}),r.d(t,"b",function(){return a}),r.d(t,"a",function(){return c}),r.d(t,"d",function(){return u}),r.d(t,"e",function(){return l});var o=r("./src/data/store.ts"),n=r("./src/data/action/editorActions.ts"),s=r("./src/constants.ts");function i(e){e=e||o.a.getState().editor.editors;let t=0;for(let r in e)e[r]&&(t+=Object.keys(e[r].documents).map(t=>e[r].documents[t]).filter(e=>!e.isGlobal).length);return t}function a(e,t){t=t||o.a.getState().editor.editors;for(let r in t)if(t[r]&&t[r].documents&&t[r].documents[e])return r}function c(e){return e===s.EDITOR_KEY_PRIMARY?s.EDITOR_KEY_SECONDARY:s.EDITOR_KEY_PRIMARY}function u(){o.a.dispatch(n.e(s.CONTENT_TYPE_WELCOME_PAGE,s.DOCUMENT_ID_WELCOME_PAGE,!0))}function l(e){return!!Object.keys(e.documents).length}},"./src/data/store.ts":function(e,t,r){"use strict";var o=r("../../../node_modules/redux/es/index.js"),n=r("../../../node_modules/redux-promise-middleware/dist/es/index.js"),s=r("../../../node_modules/redux-saga/es/index.js"),i=r("../../../node_modules/redux-thunk/lib/index.js"),a=r.n(i),c=r("../shared/built/index.js"),u=r("./src/data/action/botActions.ts"),l=r("./src/data/botHelpers.ts");const d={activeBot:null,botFiles:[]};function p(e=d,t){switch(t.type){case u.a.create:{const r={path:t.payload.botFilePath,displayName:Object(c.getBotDisplayName)(t.payload.bot),secret:t.payload.secret},o=[...e.botFiles].filter(e=>e.path!==t.payload.botFilePath);o.unshift(r),e=f(o,e);break}case u.a.load:e=f(t.payload.bots,e);break;case u.a.patch:{const r=Object.assign({},e.activeBot,t.payload.bot),o=Object(l.b)(t.payload.bot.path);if(o){o.displayName=Object(c.getBotDisplayName)(t.payload.bot),t.payload.secret&&(o.secret=t.payload.secret);const r=e.botFiles.findIndex(e=>e.path===t.payload.bot.path);let n=[...e.botFiles];n.splice(r,1,o),e=f(n,e)}e=h(r,e);break}case u.a.setActive:{const r=e.botFiles.find(e=>e&&e.path===t.payload.bot.path);let o=e.botFiles.filter(e=>e&&e.path!==t.payload.bot.path);r&&o.unshift(r),e=f(o,e),e=h(t.payload.bot,e);break}case u.a.close:e=h(null,e)}return e}function h(e,t){let r=Object.assign({},t);return r.activeBot=e,r}function f(e,t){let r=Object.assign({},t);return r.botFiles=e,r}var m=r("./src/data/action/chatActions.ts"),b=r("./src/data/action/editorActions.ts");const v={changeKey:0,chats:{},transcripts:[]};function j(e=v,t){switch(t.type){case m.a.pingChat:{const{payload:r}=t;e=Object.assign({},e,{changeKey:e.changeKey+1,chats:Object.assign({},e.chats,{[r.documentId]:Object.assign({},e.chats[r.documentId],{pingId:e.chats[r.documentId].pingId+1})})});break}case m.a.addTranscript:{const{payload:r}=t,o=[...e.transcripts].filter(e=>e!==r.filename);o.push(r.filename),e=y(o,e);break}case m.a.clearTranscripts:e=y([],e);break;case m.a.removeTranscript:{const{payload:r}=t;e=y([...e.transcripts].filter(e=>e!==r.filename),e);break}case m.a.newChat:{const{payload:r}=t;e=Object.assign({},e,{changeKey:e.changeKey+1,chats:Object.assign({},e.chats,{[r.documentId]:Object.assign({},r)})});break}case m.a.closeChat:{const{payload:r}=t,o=Object(c.deepCopySlow)(e);o.changeKey+=1,delete o.chats[r.documentId],e=Object.assign({},o);break}case m.a.newConversation:{const{payload:r}=t;let o=e.chats[r.documentId];o&&(o=Object.assign({},o,r.options),e=Object.assign({},e,{chats:Object.assign({},e.chats,{[r.documentId]:Object.assign({},o)})}));break}case m.a.appendLog:{const{payload:r}=t;let o=e.chats[r.documentId];o&&(o=Object.assign({},o,{log:Object.assign({},o.log,{entries:[...o.log.entries,r.entry]})}),e=Object.assign({},e,{chats:Object.assign({},e.chats,{[r.documentId]:Object.assign({},o)})}));break}case m.a.clearLog:{const{payload:r}=t;let o=e.chats[r.documentId];o&&(o=Object.assign({},o,{log:{entries:[]}}),e=Object.assign({},e,{chats:Object.assign({},e.chats,{[r.documentId]:Object.assign({},o)})}));break}case m.a.setInspectorObjects:{const{payload:r}=t;let o=e.chats[r.documentId];o&&(o=Object.assign({},o,{inspectorObjects:r.objs})),e=Object.assign({},e,{chats:Object.assign({},e.chats,{[r.documentId]:Object.assign({},o)})});break}case b.a.closeAll:return v}return e}function y(e,t){let r=Object.assign({},t);return r.transcripts=e,r.changeKey=t.changeKey+1,r}var x=r("./src/data/action/dialogActions.ts");const g={showing:!1};function _(e=g,t){switch(t.type){case x.a.setShowing:e={showing:t.payload.showing}}return e}var S=r("./src/constants.ts"),w=r("./src/data/editorHelpers.ts");const O={activeEditor:S.EDITOR_KEY_PRIMARY,draggingTab:!1,editors:{[S.EDITOR_KEY_PRIMARY]:{activeDocumentId:null,documents:{},recentTabs:[],tabOrder:[]},[S.EDITOR_KEY_SECONDARY]:{activeDocumentId:null,documents:{},recentTabs:[],tabOrder:[]}}};function E(e=O,t){switch(Object.freeze(e),t.type){case b.a.appendTab:{const{srcEditorKey:r}=t.payload,{destEditorKey:o}=t.payload;if(r===o){let o=[...e.editors[r].tabOrder];o=[...o.filter(e=>e!==t.payload.documentId),t.payload.documentId];let n=Object.assign({},e.editors[r],{tabOrder:o});e=A(!1,e=T(r,n,e));break}const n=e.editors[r].documents[t.payload.documentId],s=C(e.editors[r],t.payload.documentId),i=[...e.editors[o].tabOrder,t.payload.documentId],a=[...e.editors[o].recentTabs,t.payload.documentId],c=Object.assign({},e.editors[o].documents);c[t.payload.documentId]=n;const u=Object.assign({},e.editors[o],{documents:c,recentTabs:a,tabOrder:i});e=A(!1,e=Object(w.e)(s)||r!==S.EDITOR_KEY_PRIMARY?T(o,u,e=T(r,s,e=I(Object(w.e)(s)?e.activeEditor:o,e))):k(u,e));break}case b.a.close:{const{editorKey:r}=t.payload,o=C(e.editors[r],t.payload.documentId),n=Object(w.a)(r);if(!Object(w.e)(o)&&e.editors[n]){const t=Object(c.deepCopySlow)(e.editors[n]);e=k(t,e)}else e=T(r,o,e);break}case b.a.closeAll:if(t.payload.includeGlobal)return O;{let t=Object.assign({},e);for(let r in e.editors){if(!e.editors.hasOwnProperty(r))continue;let o=e.editors[r];if(o){let e=[...o.tabOrder],n=[...o.recentTabs];const s={};Object.keys(o.documents).forEach(t=>{const r=o.documents[t];r.isGlobal?s[t]=r:(e=e.filter(e=>e!==t),n=n.filter(e=>e!==t))});let i={activeDocumentId:n[0]||null,documents:s,recentTabs:n,tabOrder:e};t=Object.assign({},t,{editors:Object.assign({},t.editors,{[r]:i})})}}e=function(e){!Object(w.e)(e.editors[S.EDITOR_KEY_PRIMARY])&&Object(w.e)(e.editors[S.EDITOR_KEY_SECONDARY])&&(e=k(e.editors[S.EDITOR_KEY_SECONDARY],e));e.activeEditor!==S.EDITOR_KEY_SECONDARY||Object(w.e)(e.editors[S.EDITOR_KEY_SECONDARY])||(e=I(S.EDITOR_KEY_PRIMARY,e));return e}(t)}break;case b.a.open:{const r=e.activeEditor,o=Object(w.a)(r);if(Object(w.e)(e.editors[o])&&e.editors[o].documents[t.payload.documentId]){const r=[...e.editors[o].recentTabs].filter(e=>e!==t.payload.documentId);r.unshift(t.payload.documentId);const n=Object.assign({},e.editors[o],{activeDocumentId:t.payload.documentId,recentTabs:r});e=I(o,e=T(o,n,e));break}let n;if(e.editors[r].documents[t.payload.documentId])n=[...e.editors[r].tabOrder];else{const o=e.editors[e.activeEditor].activeDocumentId,s=e.editors[r].tabOrder.indexOf(o);null!=s&&-1!==s?(e.editors[r].tabOrder.splice(s+1,0,t.payload.documentId),n=[...e.editors[r].tabOrder]):n=[...e.editors[r].tabOrder,t.payload.documentId]}const s=[...e.editors[r].recentTabs].filter(e=>e!==t.payload.documentId);s.unshift(t.payload.documentId);const i=Object(c.deepCopySlow)(e.editors[r].documents);i[t.payload.documentId]=t.payload;const a=Object.assign({},e.editors[r],{activeDocumentId:t.payload.documentId,documents:i,recentTabs:s,tabOrder:n});e=I(r,e=T(r,a,e));break}case b.a.updateDocument:{const{payload:r}=t,{editors:o}=e,n=Object.keys(o);let s=n.length;e:for(;s--;){const e=o[n[s]].documents,t=Object.keys(e);let i=t.length;for(;i--;){const o=e[t[i]];if(o.documentId===r.documentId){e[t[i]]=Object.assign({},o,r);break e}}}e=Object.assign({},e);break}case b.a.setActiveEditor:e=I(t.payload.editorKey,e);break;case b.a.setActiveTab:S.EditorKeys.forEach(r=>{if(e.editors[r]&&e.editors[r].documents[t.payload.documentId]){const o=e.editors[r].recentTabs.filter(e=>e!==t.payload.documentId);o.unshift(t.payload.documentId);const n=Object.assign({},e.editors[r],{activeDocumentId:t.payload.documentId,recentTabs:o});e=I(r,e=T(r,n,e))}});break;case b.a.setDirtyFlag:S.EditorKeys.forEach(r=>{if(e.editors[r]&&e.editors[r].documents[t.payload.documentId]){const o=Object(c.deepCopySlow)(e.editors[r].documents);o[t.payload.documentId].dirty=t.payload.dirty;const n=Object.assign({},e.editors[r],{documents:o});e=T(r,n,e)}});break;case b.a.splitTab:{const{srcEditorKey:r}=t.payload,{destEditorKey:o}=t.payload,n=e.editors[r].documents[t.payload.documentId],s=C(e.editors[r],t.payload.documentId),i=e.editors[o]?Object(c.deepCopySlow)(e.editors[o]):{activeDocumentId:null,documents:{},recentTabs:[],tabOrder:[]},a=[...i.tabOrder,t.payload.documentId],u=[...i.recentTabs];u.unshift(t.payload.documentId);const l=Object(c.deepCopySlow)(i.documents);l[t.payload.documentId]=n,i.activeDocumentId=t.payload.documentId,i.documents=l,i.recentTabs=u,i.tabOrder=a,e=A(!1,e=T(o,i,e=T(r,s,e=I(o,e))));break}case b.a.swapTabs:{const{srcEditorKey:r}=t.payload,{destEditorKey:o}=t.payload;if(r===o){const o=[...e.editors[r].tabOrder],n=o.findIndex(e=>e===t.payload.srcTabId),s=o.findIndex(e=>e===t.payload.destTabId),i=o[s];o[s]=o[n],o[n]=i;let a=Object.assign({},e.editors[r],{tabOrder:o});e=T(r,a,e);break}const n=e.editors[r].documents[t.payload.srcTabId],s=C(e.editors[r],t.payload.srcTabId),i=Object(c.deepCopySlow)(e.editors[o]);i.documents[t.payload.srcTabId]=n;const a=[...i.recentTabs,t.payload.srcTabId];i.recentTabs=a;const u=i.tabOrder.findIndex(e=>e===t.payload.destTabId),l=[...i.tabOrder.splice(0,u+1),t.payload.srcTabId,...i.tabOrder];i.tabOrder=l,e=Object(w.e)(s)||r!==S.EDITOR_KEY_PRIMARY?T(o,i,e=T(r,s,e=I(Object(w.e)(s)?e.activeEditor:o,e))):k(i,e);break}case b.a.toggleDraggingTab:e=A(t.payload.draggingTab,e)}return e}function C(e,t){const r=[...e.tabOrder].filter(e=>e!==t),o=[...e.recentTabs].filter(e=>e!==t),n=Object.assign({},e.documents);delete n[t];const s=o[0]||null;return 0===Object.keys(n).length?{activeDocumentId:null,documents:{},recentTabs:[],tabOrder:[]}:Object.assign({},e,{activeDocumentId:s,documents:n,recentTabs:o,tabOrder:r})}function T(e,t,r){let o=Object(c.deepCopySlow)(r);return o.editors[e]=t,o}function I(e,t){let r=Object(c.deepCopySlow)(t);return r.activeEditor=e,r}function k(e,t){let r=Object(c.deepCopySlow)(t);return r.editors[S.EDITOR_KEY_SECONDARY]={activeDocumentId:null,documents:{},recentTabs:[],tabOrder:[]},r.editors[S.EDITOR_KEY_PRIMARY]=e,r.activeEditor=S.EDITOR_KEY_PRIMARY,r}function A(e,t){let r=Object(c.deepCopySlow)(t);return r.draggingTab=e,r}var R=r("./src/data/action/explorerActions.ts");const N={showing:!0};function P(e=N,t){switch(t.type){case R.a.show:e=function(e,t){let r=Object.assign({},t);return r.showing=e,r}(t.payload.show,e)}return e}var D=r("../../../node_modules/@fuselab/ui-shared/lib/path.js"),M=r("./src/data/action/fileActions.ts");const F=/[\/\\]/;function L(e,t){let r=e.root;if(!r)return{state:e,parent:null};const o=t.substr(r.data.path.length).split(F).filter(e=>e).slice(0,-1);for(const e of o){let t=r.children.find(t=>t.name===e);t||(t=Object.assign({name:e,children:[],level:r.level+1},r),r.children.push(t)),r=t}return{state:e,parent:r}}var B=function(e={root:null,selected:null},t){switch(t.type){case M.a.setRoot:{if(e.root&&e.root.data.path===t.payload.path)break;const{path:r}=t.payload,o={type:"container",name:Object(D.baseName)(r),path:r},n={type:"container",parent:null,level:1,name:Object(D.baseName)(r),children:[],data:o};e={root:n,selected:n};break}case M.a.add:e=function(e,t){if(!e.root||e.root.data.path===t.path)return e;const r=L(e,t.path);e=r.state;const o=r.parent;if(!o)return e;const n={type:t.type,name:t.name,data:t,level:o.level+1,parent:o,children:"container"===t.type?[]:void 0};return"container"===o.type&&o.children.push(n),Object.assign({},e)}(e,t.payload);break;case M.a.remove:e=function(e,t){const r=L(e,t);e=r.state;const o=r.parent;return o&&"container"===o.type&&(o.children=o.children.filter(e=>e.data.path!==t)),Object.assign({},e)}(e,t.payload.path);break;case M.a.clear:e=function(e){return Object.assign({},e,{root:null,selected:null})}(e)}return e};const V="LUIS_AUTHORING_DATA_CHANGED",z="LUIS_AUTH_STATUS_CHANGED";const H={luisAuthWorkflowStatus:"notStarted",luisAuthData:null};function W(e=H,t){const{payload:r={},type:o}=t,{luisAuthData:n}=r,{luisAuthWorkflowStatus:s}=r;switch(o){case z:return Object.assign({},e,{luisAuthWorkflowStatus:s});case V:return Object.assign({},e,{luisAuthData:n});default:return e}}var U=r("./src/data/action/navBarActions.ts");const q={selection:S.NAVBAR_BOT_EXPLORER};function K(e=q,t){switch(t.type){case U.a.select:e=Object.assign({},e,{selection:t.payload.selection})}return e}var $=r("./src/platform/commands/commandServiceImpl.ts"),Y=r("./src/data/action/presentationActions.ts");const G={enabled:!1};function Q(e=G,t){switch(t.type){case Y.a.disable:e=J(!1,e);break;case Y.a.enable:e=J(!0,e)}return e}function J(e,t){let r=Object.assign({},t);return r.enabled=e,$.a.remoteCall("electron:set-fullscreen",e),r}var X=r("../../../node_modules/msbot/bin/schema.js"),Z=r("../../../node_modules/redux-saga/es/effects.js"),ee=r("./src/ui/dialogs/service/index.ts"),te=r("./src/data/action/azureBotServiceActions.ts");function*re(e){const{azureBotServiceEditorComponent:t,azureBotService:r={}}=e.payload,o=yield ee.a.showDialog(t,{azureBotService:r});o&&(yield $.a.remoteCall("bot:add-or-update-service",X.ServiceType.AzureBotService,o))}function*oe(e){switch((yield Object(Z.call)($.a.remoteCall.bind($.a),"electron:displayContextMenu",[{label:"Edit settings",id:"edit"},{label:"Open in web portal",id:"open"},{label:"Remove",id:"forget"}])).id){case"edit":yield*re(e);break;case"open":yield*ne(e);break;case"forget":yield*function*(e){(yield $.a.remoteCall("shell:show-message-box",!0,{type:"question",buttons:["Cancel","OK"],defaultId:1,message:`Remove QnA service ${e.name}. Are you sure?`,cancelId:0}))&&(yield $.a.remoteCall("bot:remove-service",X.ServiceType.AzureBotService,e.id))}(e.payload.azureBotService);break;default:return}}function*ne(e){const{tenantId:t,subscriptionId:r,resourceGroup:o,id:n}=e.payload.azureBotService,s=`${`https://ms.portal.azure.com/#@${t}/resource/subscriptions/${r}`}/resourceGroups/${o}/providers/Microsoft.BotService/botServices/${n}`;yield $.a.remoteCall("electron:openExternal",s+"/channels")}var se=r("./src/data/action/dispatchServiceActions.ts");function*ie(e){const{appId:t,version:r}=e.payload.dispatchService,o=`https://www.dispatch.ai/applications/${t}/versions/${r}/build`;yield $.a.remoteCall("electron:openExternal",o)}function*ae(e){switch((yield Object(Z.call)($.a.remoteCall.bind($.a),"electron:displayContextMenu",[{label:"Open in web portal",id:"open"},{label:"Edit settings",id:"edit"},{label:"Remove",id:"forget"}])).id){case"open":yield*ie(e);break;case"edit":yield*ce(e);break;case"forget":yield*function*(e){(yield $.a.remoteCall("shell:show-message-box",!0,{type:"question",buttons:["Cancel","OK"],defaultId:1,message:`Remove Dispatch service ${e.name}. Are you sure?`,cancelId:0}))&&(yield $.a.remoteCall("bot:remove-service",X.ServiceType.Dispatch,e.id))}(e.payload.dispatchService);break;default:return}}function*ce(e){const{dispatchEditorComponent:t,dispatchService:r={}}=e.payload,o=yield ee.a.showDialog(t,{dispatchService:r});o&&(yield $.a.remoteCall("bot:add-or-update-service",X.ServiceType.Dispatch,o))}var ue=r("./src/data/action/endpointServiceActions.ts");function*le(e){const{endpointEditorComponent:t,endpointService:r={}}=e.payload,o=yield ee.a.showDialog(t,{endpointService:r});o&&(yield $.a.remoteCall("bot:add-or-update-service",X.ServiceType.Endpoint,o))}function*de(e){switch((yield Object(Z.call)($.a.remoteCall.bind($.a),"electron:displayContextMenu",[{label:"Edit settings",id:"edit"},{label:"Open in emulator",id:"open"},{label:"Remove",id:"forget"}])).id){case"edit":yield*le(e);break;case"open":yield*pe(e);break;case"forget":yield*function*(e){(yield $.a.remoteCall("shell:show-message-box",!0,{type:"question",buttons:["Cancel","OK"],defaultId:1,message:`Remove endpoint ${e.name}. Are you sure?`,cancelId:0}))&&(yield $.a.remoteCall("bot:remove-service",X.ServiceType.Endpoint,e.id))}(e.payload.endpointService);break;default:return}}function*pe(e){$.a.call("livechat:new",e.payload.endpointService).catch()}var he=r("./src/data/action/luisServiceActions.ts"),fe=function(e,t,r,o){return new(r||(r=Promise))(function(n,s){function i(e){try{c(o.next(e))}catch(e){s(e)}}function a(e){try{c(o.throw(e))}catch(e){s(e)}}function c(e){e.done?n(e.value):new r(function(t){t(e.value)}).then(i,a)}c((o=o.apply(e,t||[])).next())})};class me{static getApplicationsList(e,t,r){return fe(this,void 0,void 0,function*(){const{key:o,region:n}=e;let s=`https://${n}.api.cognitive.microsoft.com/luis/api/v2.0/apps/`;const i=new Headers({"Content-Accept":"application/json","Ocp-Apim-Subscription-Key":o});return(t||r)&&(s+="?",isNaN(+t)||(s+=`skip=${+t}`),isNaN(+r)||(s+=isNaN(+t)?`take=${+r}`:`&take=${+r}`)),yield(yield fetch(s,{headers:i,method:"get"})).json()})}}const be=e=>e.luisAuth.luisAuthData;function*ve(){const e=yield Object(Z.select)(be);if(!e)throw new Error("Auth credentials do not exist.");return yield yield me.getApplicationsList(e)}function*je(e){const{appId:t,version:r}=e.payload.luisService,o=`https://www.luis.ai/applications/${t}/versions/${r}/build`;yield $.a.remoteCall("electron:openExternal",o)}function*ye(e){switch((yield Object(Z.call)($.a.remoteCall.bind($.a),"electron:displayContextMenu",[{label:"Open in web portal",id:"open"},{label:"Edit settings",id:"edit"},{label:"Remove",id:"forget"}])).id){case"open":yield*je(e);break;case"edit":yield*xe(e);break;case"forget":yield*function*(e){(yield $.a.remoteCall("shell:show-message-box",!0,{type:"question",buttons:["Cancel","OK"],defaultId:1,message:`Remove LUIS service ${e.name}. Are you sure?`,cancelId:0}))&&(yield $.a.remoteCall("bot:remove-service",X.ServiceType.Luis,e.id))}(e.payload.luisService);break;default:return}}function*xe(e){const{luisEditorComponent:t,luisService:r={}}=e.payload,o=yield ee.a.showDialog(t,{luisService:r});o&&(yield $.a.remoteCall("bot:add-or-update-service",X.ServiceType.Luis,o))}var ge=r("./src/data/action/qnaMakerServiceActions.ts");function*_e(e){const{qnaMakerEditorComponent:t,qnaMakerService:r={}}=e.payload,o=yield ee.a.showDialog(t,{qnaMakerService:r});o&&(yield $.a.remoteCall("bot:add-or-update-service",X.ServiceType.QnA,o))}function*Se(e){switch((yield Object(Z.call)($.a.remoteCall.bind($.a),"electron:displayContextMenu",[{label:"Edit settings",id:"edit"},{label:"Open in web portal",id:"open"},{label:"Remove",id:"forget"}])).id){case"edit":yield*_e(e);break;case"open":yield*we(e);break;case"forget":yield*function*(e){(yield $.a.remoteCall("shell:show-message-box",!0,{type:"question",buttons:["Cancel","OK"],defaultId:1,message:`Remove QnA service ${e.name}. Are you sure?`,cancelId:0}))&&(yield $.a.remoteCall("bot:remove-service",X.ServiceType.QnA,e.id))}(e.payload.qnaMakerService);break;default:return}}function*we(e){const{kbId:t}=e.payload.qnaMakerService,r=`https://qnamaker.ai/Edit/KnowledgeBase?kbid=${t}`;yield $.a.remoteCall("electron:openExternal",r)}const Oe=[function*(){yield Object(Z.takeLatest)(he.a,xe),yield Object(Z.takeEvery)(he.d,ve),yield Object(Z.takeEvery)(he.c,je),yield Object(Z.takeEvery)(he.b,ye)},function*(){yield Object(Z.takeLatest)(ge.a,_e),yield Object(Z.takeEvery)(ge.b,Se),yield Object(Z.takeEvery)(ge.c,we)},function*(){yield Object(Z.takeLatest)(se.a,ce),yield Object(Z.takeEvery)(se.c,ie),yield Object(Z.takeEvery)(se.b,ae)},function*(){yield Object(Z.takeLatest)(ue.a,le),yield Object(Z.takeEvery)(ue.b,de),yield Object(Z.takeEvery)(ue.c,pe)},function*(){yield Object(Z.takeLatest)(te.a,re),yield Object(Z.takeEvery)(te.b,oe),yield Object(Z.takeEvery)(te.c,ne)}],Ee=Object(s.default)(),Ce={},Te=((e=Ce)=>Object(o.createStore)(Object(o.combineReducers)({bot:p,dialog:_,editor:E,files:B,explorer:P,chat:j,navBar:K,presentation:Q,luisAuth:W}),e,Object(o.applyMiddleware)(Ee,Object(n.default)(),a.a)))();Oe.forEach(e=>Ee.run(e));t.a=Te},"./src/extensions.ts":function(e,t,r){"use strict";r.d(t,"b",function(){return a}),r.d(t,"a",function(){return c});var o=r("../../sdk/shared/built/index.js"),n=r("./src/ipc.ts"),s=r("./src/commands.ts"),i=r("../../../node_modules/jsonpath/index.js");class a{static canInspect(e,t){if(!t)return!1;if("object"!=typeof t)return!1;let r=e.criteria||[];Array.isArray(r)||(r=[r]);let o=!0;return r.forEach(e=>{const r=i.value(t,e.path);if(void 0===r)o=!1;else if(e.value.startsWith("/")){const t=new RegExp(e.value);o=o&&t.test(r)}else o=o&&e.value===r}),o}static summaryText(e,t){let r,o,n=e.summaryText||[];Array.isArray(n)||(n=[n]);for(let e=0;e<n.length;++e){const o=i.query(t,n[e]);if(o&&o.length&&"string"==typeof o[0]){const e=o[0];e.length>0&&(r=e)}}return(o="string"==typeof r?r:r?JSON.stringify(r):"").length>50&&(o=o.substring(0,50)+"..."),o}}const c=new class{constructor(){this.extensions={}}addExtension(e,t){this.removeExtension(t),console.log(`adding extension ${e.name}`);const r=new class{constructor(e,t){this._config=e,this._unid=t,this._ext=new o.CommandServiceImpl(n.a,`ext-${this._unid}`)}get unid(){return this._unid}get config(){return this._config}inspectorForObject(e){const t=(this.config.client.inspectors||[]).find(t=>a.canInspect(t,e));return t?{extension:this,inspector:t}:null}call(e,...t){return this._ext.remoteCall(e,...t)}}(e,t);this.extensions[t]=r}removeExtension(e){this.extensions[e]&&(console.log(`removing extension ${this.extensions[e].config.name}`),delete this.extensions[e])}findExtension(e){return this.getExtensions().find(t=>t.config.name===e)}getExtensions(){return Object.keys(this.extensions).map(e=>this.extensions[e])||[]}inspectorForObject(e,t){let r=this.getExtensions().map(t=>t.inspectorForObject(e)).filter(e=>!!e).shift();if(!r&&t){const e=c.findExtension("JSON");e&&(r={extension:e,inspector:e.config.client.inspectors?e.config.client.inspectors[0]:null})}return r}registerCommands(){s.a.registerCommand("shell:extension-connect",(e,t)=>{c.addExtension(e,t)}),s.a.registerCommand("shell:extension-disconnect",e=>{c.removeExtension(e)})}}},"./src/index.tsx":function(e,t,r){"use strict";r.r(t),function(e){var t=r("../../../node_modules/react-redux/es/index.js"),o=r("../../../node_modules/react/index.js"),n=r("../../../node_modules/react-dom/index.js"),s=r("../../sdk/ui-react/built/index.js"),i=r("./src/interceptError.ts"),a=r("./src/interceptHyperlink.ts"),c=r("./src/ui/shell/mainContainer.ts"),u=r("./src/data/store.ts"),l=r("./src/platform/commands/commandServiceImpl.ts"),d=r("./src/platform/settings/settingsService.ts"),p=r("./src/platform/log/logService.ts"),h=r("./src/data/editorHelpers.ts"),f=r("./src/commands.ts");Object(s.initializeTheme)("dark"),Object(s.initializeIcons)(),Object(i.a)(),Object(a.a)(),l.a.init(),d.a.init(),p.a.init(),f.b(),n.render(o.createElement(t.Provider,{store:u.a},o.createElement(c.a)),document.getElementById("root")),l.a.remoteCall("client:loaded").then(()=>{Object(h.d)(),l.a.remoteCall("client:post-welcome-screen")}).catch(e=>console.error(`Error occured during client:loaded: ${e}`)),e.hasOwnProperty("hot")&&e.hot.accept()}.call(this,r("../../../node_modules/webpack/buildin/harmony-module.js")(e))},"./src/interceptError.ts":function(e,t,r){"use strict";function o(){process.on("uncaughtException",e=>{}),window.onerror=((e,t,r,o,n)=>!0)}r.d(t,"a",function(){return o})},"./src/interceptHyperlink.ts":function(e,t,r){"use strict";var o=r("../../sdk/shared/built/index.js"),n=r("./src/platform/commands/commandServiceImpl.ts"),s=r("url");const i=window.require("electron"),{shell:a}=i;function c(e){try{const t=s.parse(e);t.protocol.startsWith("oauth:")?function(e){let t=e.split("&&&");n.a.remoteCall("oauth:send-token-response",t[0],t[1],"emulatedToken_"+Object(o.uniqueId)()).catch()}(e.substring(8)):t.protocol.startsWith("oauthlink:")?function(e){let t=e.split("&&&");n.a.remoteCall("oauth:create-oauth-window",t[0],t[1]).catch()}(e.substring(12)):a.openExternal(e,{activate:!0})}catch(t){a.openExternal(e,{activate:!0})}}function u(){document.addEventListener("click",e=>{let t=e.target;for(;t;){if(t.href)return e.preventDefault(),void c(t.href);t=t.parentNode}}),window.open=(e=>{c(e)})}r.d(t,"a",function(){return u})},"./src/ipc.ts":function(e,t,r){"use strict";r.d(t,"a",function(){return s});var o=r("../../sdk/shared/built/index.js");const n=window.require("electron"),s=new class extends o.IPC{constructor(){super(),n.ipcRenderer.on("ipc:message",(e,...t)=>{const r=t.shift(),o=super.getChannel(r);o&&o.onMessage(...t)})}send(...e){n.ipcRenderer.send("ipc:message",...e)}registerChannel(e){return super.registerChannel(e)}}},"./src/platform/commands/commandServiceImpl.ts":function(e,t,r){"use strict";r.d(t,"a",function(){return i});var o=r("../../sdk/shared/built/index.js"),n=r("./src/commands.ts"),s=r("./src/ipc.ts");const i=new class extends o.DisposableImpl{init(){return null}get registry(){return this._service.registry}constructor(){super(),this._service=new o.CommandServiceImpl(s.a,"command-service",n.a),super.toDispose(this._service)}call(e,...t){return this._service.call(e,...t)}remoteCall(e,...t){return this._service.remoteCall(e,...t)}on(e,t){return this._service.on(e,t)}}},"./src/platform/log/logService.ts":function(e,t,r){"use strict";var o=r("../../sdk/shared/built/index.js"),n=r("./src/data/action/chatActions.ts"),s=r("./src/data/store.ts"),i=r("./src/commands.ts");function a(){i.a.registerCommand("conversation:log:append",(e,t)=>{c.logToChat(e,t)})}r.d(t,"b",function(){return a}),r.d(t,"a",function(){return c});const c=new class extends o.DisposableImpl{init(){return null}logToChat(e,t){const r=function(e){const t=s.a.getState();for(let r in t.chat.chats)if(t.chat.chats[r].conversationId===e)return t.chat.chats[r].documentId}(e);r&&c.logToDocument(r,t)}logToDocument(e,t){s.a.dispatch(n.c(e,t))}}},"./src/platform/settings/settingsService.ts":function(e,t,r){"use strict";r.d(t,"b",function(){return s}),r.d(t,"a",function(){return i});var o=r("../../sdk/shared/built/index.js"),n=r("./src/commands.ts");function s(){n.a.registerCommand("receive-global-settings",e=>{i.emulator.url=(e.url||"").replace("[::]","127.0.0.1"),i.emulator.cwd=(e.cwd||"").replace(/\\/g,"/")})}const i=new class extends o.DisposableImpl{get emulator(){return this._emulator}init(){return null}constructor(){super(),this._emulator=new class{get url(){if(!this._url||!this._url.length)throw new Error("Emulator url not set");return this._url}set url(e){this._url=e}get cwd(){if(!this._cwd||!this._cwd.length)throw new Error("Emulator cwd not set");return this._cwd}set cwd(e){this._cwd=e}get cwdAsBase(){let e=this.cwd;return e.startsWith("/")||(e=`/${e}`),e}}}}},"./src/ui/dialogs/index.ts":function(e,t,r){"use strict";var o=r("../../sdk/shared/built/index.js"),n=r("../../sdk/ui-react/built/index.js"),s=r("../../../node_modules/@uifabric/merge-styles/lib/index.js"),i=r("../../../node_modules/msbot/bin/models/index.js"),a=r("../../../node_modules/msbot/bin/schema.js"),c=r("../../../node_modules/react/index.js"),u=r("./src/platform/commands/commandServiceImpl.ts"),l=r("./src/ui/helpers/activeBotHelper.ts"),d=r("./src/ui/dialogs/service/index.ts"),p=function(e,t,r,o){return new(r||(r=Promise))(function(n,s){function i(e){try{c(o.next(e))}catch(e){s(e)}}function a(e){try{c(o.throw(e))}catch(e){s(e)}}function c(e){e.done?n(e.value):new r(function(t){t(e.value)}).then(i,a)}c((o=o.apply(e,t||[])).next())})};const h=Object(s.mergeStyleSets)({main:{width:648,selectors:{".multi-input-row":{width:420,justifyContent:"space-between"},".small-input input":{width:200},".secret-input input":{width:200},".bot-create-form .ms-Dialog-header":{display:"none"},".bot-create-form .bot-create-form > *":{marginBottom:16}}}});class f extends c.Component{constructor(e,t){super(e,t),this.onChangeEndpoint=(e=>{const t=Object.assign({},this.state.endpoint,{endpoint:e});this.setState({endpoint:t})}),this.onChangeAppId=(e=>{const t=Object.assign({},this.state.endpoint,{appId:e});this.setState({endpoint:t})}),this.onChangeAppPw=(e=>{const t=Object.assign({},this.state.endpoint,{appPassword:e});this.setState({endpoint:t})}),this.onChangeName=(e=>{const t=Object.assign({},this.state.bot,{name:e});this.setState({bot:t})}),this.onCancel=(e=>{d.a.hideDialog()}),this.onToggleSecret=(e=>{this.setState({secretEnabled:!this.state.secretEnabled,secret:""})}),this.onSaveAndConnect=(e=>p(this,void 0,void 0,function*(){try{const e=yield this.showBotSaveDialog();e?this.performCreate(e):console.log("Bot creation save dialog was cancelled.")}catch(e){console.error("Error while trying to select a bot file location: ",e)}})),this.performCreate=(e=>{const t={type:this.state.endpoint.type,name:this.state.endpoint.name.trim(),id:this.state.endpoint.id.trim(),appId:this.state.endpoint.appId.trim(),appPassword:this.state.endpoint.appPassword.trim(),endpoint:this.state.endpoint.endpoint.trim()},r=o.BotConfigWithPathImpl.fromJSON(Object.assign({},this.state.bot,{name:this.state.bot.name.trim(),description:this.state.bot.description.trim(),services:[t],path:e.trim()})),n=this.state.secretEnabled&&this.state.secret?this.state.secret:null;l.a.confirmAndCreateBot(r,n).then(()=>d.a.hideDialog()).catch(e=>console.error("Error during confirm and create bot: ",e))}),this.showBotSaveDialog=(()=>p(this,void 0,void 0,function*(){const e={filters:[{name:"Bot Files",extensions:["bot"]}],defaultPath:yield u.a.remoteCall("file:sanitize-string",this.state.bot.name),showsTagField:!1,title:"Save as",buttonLabel:"Save"};return u.a.remoteCall("shell:showSaveDialog",e)})),this.onChangeSecret=(e=>{this.setState({secret:e,secretsMatch:e===this.state.secretConfirmation})}),this.onChangeSecretConfirmation=(e=>{this.setState({secretConfirmation:e,secretsMatch:e===this.state.secret})}),this.state={bot:o.BotConfigWithPathImpl.fromJSON({name:"",description:"",secretKey:"",services:[],path:""}),endpoint:new i.EndpointService({type:a.ServiceType.Endpoint,name:"",id:Object(o.uniqueId)(),appId:"",appPassword:"",endpoint:""}),secret:"",secretEnabled:!1,secretsMatch:!1,secretConfirmation:""}}render(){const e=!this.state.secretEnabled||this.state.secret&&this.state.secretsMatch,t=this.state.bot&&this.state.endpoint.endpoint&&this.state.bot.name&&e;return c.createElement(n.Modal,{className:h.main,title:"New bot configuration",cancel:this.onCancel,maxWidth:648},c.createElement(n.ModalContent,{className:"bot-create-form"},c.createElement(n.TextInputField,{className:"c",inputClassName:"bot-creation-input",value:this.state.bot.name,onChanged:this.onChangeName,label:"Bot name",required:!0}),c.createElement(n.TextInputField,{inputClassName:"bot-creation-input",value:this.state.endpoint.endpoint,onChanged:this.onChangeEndpoint,placeholder:"Enter a URL for your bot's endpoint",label:"Endpoint URL",required:!0}),c.createElement(n.Row,{className:"multi-input-row"},c.createElement(n.TextInputField,{className:"small-input",inputClassName:"bot-creation-input",value:this.state.endpoint.appId,onChanged:this.onChangeAppId,label:"MSA app ID",placeholder:"Optional"}),c.createElement(n.TextInputField,{className:"small-input",inputClassName:"bot-creation-input",value:this.state.endpoint.appPassword,onChanged:this.onChangeAppPw,label:"MSA app password",placeholder:"Optional",type:"password"})),c.createElement(n.Checkbox,{className:"secret-checkbox",checked:this.state.secretEnabled,onChange:this.onToggleSecret,label:"Encrypt your keys",id:"bot-secret-checkbox"}),this.state.secretEnabled&&c.createElement(n.Row,{className:"multi-input-row secret-row"},c.createElement(n.TextInputField,{className:"secret-input",inputClassName:"bot-creation-input",value:this.state.secret,onChanged:this.onChangeSecret,required:this.state.secretEnabled,label:"Create a secret",type:"password"}),c.createElement(n.TextInputField,{className:"secret-input secret-confirmation",inputClassName:"bot-creation-input",value:this.state.secretConfirmation,onChanged:this.onChangeSecretConfirmation,required:this.state.secretEnabled,label:"Confirm your secret",type:"password",errorMessage:this.state.secret&&!this.state.secretsMatch?"Secrets do not match":null}))),c.createElement(n.ModalActions,null,c.createElement(n.PrimaryButton,{secondary:!0,text:"Cancel",onClick:this.onCancel,className:"cancel-button"}),c.createElement(n.PrimaryButton,{text:"Save and connect",onClick:this.onSaveAndConnect,disabled:!t,className:"connect-button"})))}}var m=r("../../../node_modules/react-redux/es/index.js");const b=Object(s.mergeStyles)({display:"flex",position:"absolute",top:0,left:0,right:0,bottom:0,alignItems:"center",justifyContent:"center",backgroundColor:"transparent",pointerEvents:"none",selectors:{"& .dialog-host-content":{height:"auto",width:"auto",maxWidth:"648px",maxHeight:"80%",overflow:"auto",boxShadow:"0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22)"},"&.dialog-host-visible":{pointerEvents:"auto"}}}),v=Object(s.mergeStyles)({display:"inline-block",width:0,height:0,opacity:0});const j=Object(m.connect)(function(e){return{showing:e.dialog.showing}})(class extends c.Component{constructor(e){super(e),this.handleOverlayClick=(e=>{e.stopPropagation(),d.a.hideDialog()}),this.handleContentClick=(e=>{e.stopPropagation()}),this.saveHostRef=(e=>{d.a.setHost(e),this._hostRef=e}),this.getFocusableElementsInModal=(()=>this._hostRef?this._hostRef.querySelectorAll('[tabIndex]:not([tabIndex="-1"])'):new NodeList),this.initFocusTrap=(()=>{const e=this.getFocusableElementsInModal();e.length&&e[0].focus()}),this.onFocusStartingSentinel=(e=>{e.preventDefault();const t=this.getFocusableElementsInModal();if(t.length){let e=t[t.length-1];if(e.hasAttribute("disabled")){for(let r=t.length-2;r>=0;r--)if(!(e=t[r]).hasAttribute("disabled")){e.focus();break}}else e.focus()}}),this.onFocusEndingSentinel=(e=>{e.preventDefault();const t=this.getFocusableElementsInModal();if(t.length){let e=t[0];if(e.hasAttribute("disabled")){for(let r=1;r<=t.length-1;r++)if(!(e=t[r]).hasAttribute("disabled")){e.focus();break}}else e.focus()}})}componentDidMount(){this._hostRef.addEventListener("dialogRendered",this.initFocusTrap)}render(){const e=this.props.showing?" dialog-host-visible":"",t=this.props.showing?0:-1;return c.createElement("div",{className:`${b} dialog-host-overlay ${e}`,onClick:this.handleOverlayClick},c.createElement("span",{tabIndex:t,onFocus:this.onFocusStartingSentinel,className:v}),c.createElement("div",{className:"dialog-host-content",onClick:this.handleContentClick,ref:this.saveHostRef}),c.createElement("span",Object.assign({tabIndex:t,onFocus:this.onFocusEndingSentinel},v)))}}),y=Object(s.mergeStyles)({backgroundColor:`var(${n.ThemeVariables.neutral15})`,padding:"32px",width:"480px",selectors:{"& .button-row":{marginTop:"48px",selectors:{"& > .save-button":{marginLeft:"8px"}}}}});class x extends c.Component{constructor(e,t){super(e,t),this.onClickDismiss=(()=>{d.a.hideDialog(null)}),this.onClickSave=(()=>{d.a.hideDialog(this.state.secret)}),this.onChangeSecret=(e=>{this.setState({secret:e})}),this.state={secret:""}}render(){return c.createElement("div",{className:y},c.createElement(n.Column,null,c.createElement(n.MediumHeader,null,"Bot secret required!"),c.createElement(n.SmallHeader,null,"Please enter your bot's secret"),c.createElement(n.TextInputField,{value:this.state.secret,onChanged:this.onChangeSecret,label:"Bot secret",type:"password"}),c.createElement(n.Row,{className:"button-row",justify:n.RowJustification.Right},c.createElement(n.PrimaryButton,{secondary:!0,text:"Dismiss",onClick:this.onClickDismiss}),c.createElement(n.PrimaryButton,{className:"save-button",text:"Save",onClick:this.onClickSave}))))}}var g=r("./src/data/action/editorActions.ts");const _=Object(s.mergeStyles)({top:0,left:0,bottom:0,right:0,position:"absolute",display:"flex",flexFlow:"row nowrap",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0, 0, 0, 0)",selectors:{"& > ul":{height:"auto",width:"auto",maxHeight:"30%",overflowY:"auto",margin:"0",padding:"24px 64px",listStyle:"none",backgroundColor:`var(${n.ThemeVariables.neutral15})`,color:`var(${n.ThemeVariables.neutral16})`,boxShadow:"0px 2px 2px 0px rgba(0,0,0,0.2), 2px 0px 2px 0px rgba(0,0,0,0.2), -2px 0px 2px 0px rgba(0,0,0,0.2)"},"& > ul > li":{padding:"4px 0",textAlign:"center",selectors:{":focus":{outline:"0"}}},"& > ul > .selected-tab":{color:`var(${n.ThemeVariables.neutral1})`,textDecoration:"underline"}}});const S=Object(m.connect)(e=>({recentTabs:e.editor.editors[e.editor.activeEditor].recentTabs}),e=>({setActiveTab:t=>{e(g.g(t))}}))(class extends c.Component{constructor(e){super(e),this.onKeyDown=this.onKeyDown.bind(this),this.onKeyUp=this.onKeyUp.bind(this),this.saveTabRef=this.saveTabRef.bind(this),this.state={controlIsPressed:!1,selectedIndex:0,shiftIsPressed:!1,showing:!1},this.tabRefs=[]}componentWillMount(){window.addEventListener("keydown",this.onKeyDown),window.addEventListener("keyup",this.onKeyUp)}componentWillUnmount(){window.removeEventListener("keydown",this.onKeyDown),window.removeEventListener("keyup",this.onKeyUp)}saveTabRef(e,t){this.tabRefs[t]=e}moveIndexDown(){return this.state.selectedIndex===this.props.recentTabs.length-1?0:this.state.selectedIndex+1}moveIndexUp(){return 0===this.state.selectedIndex?this.props.recentTabs.length-1:this.state.selectedIndex-1}onKeyDown(e){if(this.props.recentTabs.length){switch(e.key){case"ArrowUp":this.state.showing&&this.setState({selectedIndex:this.moveIndexUp()});break;case"ArrowDown":this.state.showing&&this.setState({selectedIndex:this.moveIndexDown()});break;case"Control":this.setState({controlIsPressed:!0});break;case"Tab":this.state.controlIsPressed&&(this.state.showing&&!this.state.shiftIsPressed?this.setState({selectedIndex:this.moveIndexDown()}):this.state.showing&&this.state.shiftIsPressed?this.setState({selectedIndex:this.moveIndexUp()}):this.setState({showing:!0,selectedIndex:0}));break;case"Shift":this.setState({shiftIsPressed:!0})}this.tabRefs[this.state.selectedIndex]&&this.tabRefs[this.state.selectedIndex].focus()}}onKeyUp(e){switch(e.key){case"Control":this.state.showing?(this.setState({controlIsPressed:!1,showing:!1}),this.props.setActiveTab(this.props.recentTabs[this.state.selectedIndex])):this.setState({controlIsPressed:!1});break;case"Shift":this.setState({shiftIsPressed:!1})}}render(){return this.state.showing&&!this.props.disabled?c.createElement("div",{className:_},c.createElement("ul",null,this.props.recentTabs.map((e,t)=>{const r=t===this.state.selectedIndex?"selected-tab":"";return c.createElement("li",{className:r,ref:e=>this.saveTabRef(e,t),key:e,tabIndex:0},e)}))):null}});r.d(t,"a",function(){return f}),r.d(t,"b",function(){return j}),r.d(t,"d",function(){return x}),r.d(t,"e",function(){return S}),r.d(t,"c",function(){return d.a})},"./src/ui/dialogs/service/index.ts":function(e,t,r){"use strict";var o=r("../../sdk/ui-react/built/index.js"),n=r("../../../node_modules/react/index.js"),s=r("../../../node_modules/react-dom/index.js"),i=r("../../../node_modules/react-redux/es/index.js"),a=r("./src/data/action/dialogActions.ts"),c=r("./src/data/store.ts");const u=new class{constructor(){this.notifyHostOfRender=(()=>{this._hostElement&&this._hostElement.dispatchEvent(new Event("dialogRendered"))})}showDialog(e,t={}){if(!this._hostElement)return new Promise(e=>e(null));const r=n.createElement(i.Provider,{store:c.a},n.createElement(e,t));return s.render(r,this._hostElement,this.notifyHostOfRender),c.a.dispatch(a.b(!0)),this._dialogReturnValue=new Promise(e=>{this._resolve=e}),this._dialogReturnValue}hideDialog(e){this._hostElement&&(Object(o.initializeTheme)("dark"),s.render(null,this._hostElement),c.a.dispatch(a.b(!1)),this._resolve(e))}setHost(e){this._hostElement=e}};r.d(t,"a",function(){return u})},"./src/ui/editor/welcomePage.tsx":function(e,t,r){"use strict";(function(e){r.d(t,"a",function(){return l});var o=r("../../../node_modules/react-hot-loader/index.js"),n=r("../../../node_modules/react/index.js"),s=r("../../../node_modules/react-redux/es/index.js"),i=r("../../sdk/ui-react/built/index.js"),a=r("./src/platform/commands/commandServiceImpl.ts"),c=r("./src/ui/layout/index.ts");const u={selectors:{"& .right-column":{marginLeft:"48px"},"& .section":{marginBottom:"34px",width:"auto",maxWidth:"100%"},"& .well":{padding:"12px 10px",background:"rgba(0,0,0,.2)",transition:"background 0.05s","::-webkit-scrollbar-thumb":{backgroundColor:"transparent"},selectors:{":hover":{background:"rgba(200,235,255,.072)","::-webkit-scrollbar-thumb":{backgroundColor:`var(${i.ThemeVariables.neutral10})`}}}},"& .no-bots":{fontStyle:"italic"},"& .recent-bots-list":{maxHeight:"100px",overflowY:"auto",overflowX:"hidden",selectors:{"& > li":{display:"flex"},a:{flexShrink:0}}},"& .recent-bot-detail":{display:"inline-block",marginLeft:"8px",color:`var(${i.ThemeVariables.neutral4})`,userSelect:"text",cursor:"text"},a:{minWidth:0,whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",textDecoration:"none",color:`var(${i.ThemeVariables.focusedSelectedListItemBg})`,selectors:{":hover":{color:`var(${i.ThemeVariables.focusedSelectedListItemBg})`}}},ul:{margin:0,listStyle:"none",padding:0},"& .open-bot":{marginTop:"24px",marginBottom:"16px",width:"180px",height:"26px",selectors:{"& .primary-button-text":{lineHeight:"26px"}}},"& .cta-link":{whiteSpace:"normal"}}};const l=Object(s.connect)(e=>({recentBots:e.bot.botFiles}))(Object(o.hot)(e)(class extends n.Component{constructor(){super(...arguments),this.onNewBotClick=(()=>{a.a.call("bot-creation:show")}),this.onOpenBotClick=(()=>{a.a.call("bot:browse-open")}),this.onBotClick=((e,t)=>{a.a.call("bot:switch",t)})}render(){return n.createElement(c.a,{style:u},n.createElement(i.LargeHeader,null,"Welcome to the Bot Framework Emulator!"),n.createElement(i.Row,null,n.createElement(i.Column,null,n.createElement("div",{className:"section"},n.createElement(i.SmallHeader,null,"Start"),n.createElement("span",null,"Start talking to your bot by connecting to an endpoint or by opening a bot saved locally. More about working locally with a bot."),n.createElement(i.Row,null,n.createElement(i.PrimaryButton,{className:"open-bot big-button",text:"Open Bot",onClick:this.onOpenBotClick})),n.createElement("span",null,"If you don’t have a bot configuration,",n.createElement("a",{className:"cta-link",href:"javascript:void(0)",onClick:this.onNewBotClick},"create a new bot configuration."))),n.createElement("div",{className:"section"},n.createElement(i.SmallHeader,null,"My Bots"),n.createElement("ul",{className:"recent-bots-list well"},this.props.recentBots&&this.props.recentBots.length?this.props.recentBots.slice(0,10).map(e=>e&&n.createElement("li",{key:e.path},n.createElement("a",{href:"javascript:void(0);",onClick:t=>this.onBotClick(t,e.path),title:e.path},n.createElement(i.TruncateText,null,e.displayName)),n.createElement(i.TruncateText,{className:"recent-bot-detail",title:e.path},e.path))):n.createElement("li",null,n.createElement("span",{className:"no-bots"},n.createElement(i.TruncateText,null,"No recent bots")))))),n.createElement(i.Column,{className:"right-column"},n.createElement("div",{className:"section"},n.createElement(i.SmallHeader,null,"Help"),n.createElement("ul",null,n.createElement("li",null,n.createElement("a",{href:"https://aka.ms/BotBuilderOverview"},n.createElement(i.TruncateText,null,"Overview"))),n.createElement("li",null,n.createElement("a",{href:"https://aka.ms/Btovso"},n.createElement(i.TruncateText,null,"GitHub Repository"))),n.createElement("li",null,n.createElement("a",{href:"https://aka.ms/BotBuilderLocalDev"},n.createElement(i.TruncateText,null,"Starting with Local Development"))),n.createElement("li",null,n.createElement("a",{href:"https://aka.ms/BotBuilderAZCLI"},n.createElement(i.TruncateText,null,"Starting with Azure CLI"))),n.createElement("li",null,n.createElement("a",{href:"https://aka.ms/BotBuilderIbiza"},n.createElement(i.TruncateText,null,"Starting with the Azure Portal"))))))))}}))}).call(this,r("../../../node_modules/webpack/buildin/harmony-module.js")(e))},"./src/ui/helpers/activeBotHelper.ts":function(e,t,r){"use strict";r.d(t,"a",function(){return b});var o=r("../shared/built/index.js"),n=r("../../../node_modules/msbot/bin/schema.js"),s=r("./src/data/editorHelpers.ts"),i=r("./src/platform/commands/commandServiceImpl.ts"),a=r("./src/data/botHelpers.ts"),c=r("./src/data/action/botActions.ts"),u=r("./src/constants.ts"),l=r("./src/data/action/editorActions.ts"),d=r("./src/data/action/explorerActions.ts"),p=r("./src/data/action/fileActions.ts"),h=r("./src/data/action/navBarActions.ts"),f=r("./src/data/store.ts"),m=function(e,t,r,o){return new(r||(r=Promise))(function(n,s){function i(e){try{c(o.next(e))}catch(e){s(e)}}function a(e){try{c(o.throw(e))}catch(e){s(e)}}function c(e){e.done?n(e.value):new r(function(t){t(e.value)}).then(i,a)}c((o=o.apply(e,t||[])).next())})};const b=new class{confirmSwitchBot(){return m(this,void 0,void 0,function*(){return!Object(s.c)()||(yield i.a.remoteCall("shell:show-message-box",!0,{buttons:["Cancel","OK"],cancelId:0,defaultId:1,message:"Switch bots? All tabs will be closed.",type:"question"}))})}confirmCloseBot(){return Object(s.c)()?i.a.remoteCall("shell:show-message-box",!0,{type:"question",buttons:["Cancel","OK"],defaultId:1,message:"Close active bot? All tabs will be closed.",cancelId:0}):Promise.resolve(!0)}setActiveBot(e){return m(this,void 0,void 0,function*(){try{const{bot:t,botDirectory:r}=yield i.a.remoteCall("bot:set-active",e);f.a.dispatch(c.e(t)),f.a.dispatch(p.e(r)),i.a.remoteCall("menu:update-recent-bots"),i.a.remoteCall("electron:set-title-bar",Object(o.getBotDisplayName)(t))}catch(e){throw console.error("Error while setting active bot: ",e),new Error(`Error while setting active bot: ${e}`)}})}closeActiveBot(){return i.a.remoteCall("bot:close").then(()=>{f.a.dispatch(c.b()),i.a.remoteCall("electron:set-title-bar","")}).catch(e=>{throw console.error("Error while closing active bot: ",e),new Error(`Error while closing active bot: ${e}`)})}botAlreadyOpen(){return m(this,void 0,void 0,function*(){return yield i.a.remoteCall("shell:show-message-box",!0,{buttons:["OK"],cancelId:0,defaultId:0,message:"This bot is already open. If you'd like to start a conversation, click on an endpoint from the Bot Explorer pane.",type:"question"})})}confirmAndCreateBot(e,t){return m(this,void 0,void 0,function*(){if(yield this.confirmSwitchBot()){f.a.dispatch(l.d());try{const r=yield i.a.remoteCall("bot:create",e,t);f.a.dispatch(c.c(r,r.path,t)),yield this.setActiveBot(r.path);const o=r.services.find(e=>e.type===n.ServiceType.Endpoint);o&&i.a.call("livechat:new",o),f.a.dispatch(h.b(u.NAVBAR_BOT_EXPLORER)),f.a.dispatch(d.b(!0))}catch(e){console.error("Error during bot create: ",e)}}})}browseForBotFile(){return i.a.remoteCall("shell:showOpenDialog",{buttonLabel:"Choose file",filters:[{extensions:["bot"],name:"Bot Files"}],properties:["openFile"],title:"Open bot file"})}confirmAndOpenBotFromFile(){return m(this,void 0,void 0,function*(){try{const e=yield this.browseForBotFile();if(e){let t=Object(a.a)();if(t&&t.path===e)return void(yield this.botAlreadyOpen());try{this.confirmSwitchBot()&&(f.a.dispatch(l.d()),yield i.a.remoteCall("bot:load",e))}catch(e){console.error("Error while calling confirmSwitchBot: ",e)}}}catch(e){console.error("Error while calling browseForBotFile: ",e)}})}confirmAndSwitchBots(e){return m(this,void 0,void 0,function*(){let t=Object(a.a)();if(t&&t.path===e)yield this.botAlreadyOpen();else{console.log(`Switching to bot ${e}`);try{if(yield this.confirmSwitchBot()){f.a.dispatch(l.d()),yield this.setActiveBot(e);const t=Object(a.a)().services.find(e=>e.type===n.ServiceType.Endpoint);t&&(yield i.a.call("livechat:new",t)),f.a.dispatch(h.b(u.NAVBAR_BOT_EXPLORER)),f.a.dispatch(d.b(!0))}}catch(e){console.error("Error while setting active bot: ",e)}}})}confirmAndCloseBot(){return Object(a.a)()?(console.log("Closing active bot"),this.confirmCloseBot().then(e=>{e&&(f.a.dispatch(l.d()),this.closeActiveBot().catch(e=>new Error(e)))}).catch(e=>console.error("Error while closing active bot: ",e))):Promise.resolve()}}},"./src/ui/layout/index.ts":function(e,t,r){"use strict";var o=r("../../../node_modules/react/index.js"),n=r("../../../node_modules/@uifabric/merge-styles/lib/index.js");const s={boxSizing:"border-box",display:"flex",justifyContent:"center",alignItems:"center",height:"100%",width:"100%",minWidth:"480px",overflowX:"hidden",overflowY:"auto",selectors:{"& > .generic-doc-content":{width:"90%",maxWidth:"1200px"}}};class i extends o.Component{render(){const e=Object(n.mergeStyles)(s,this.props.style);return o.createElement("div",{className:`${e} generic-doc`},o.createElement("div",{className:"generic-doc-content"},this.props.children))}}r.d(t,"a",function(){return i})},"./src/ui/shell/mainContainer.ts":function(e,t,r){"use strict";var o=r("./src/data/action/presentationActions.ts"),n=r("./src/constants.ts"),s=r("../../../node_modules/react-redux/es/index.js"),i=r("../../../node_modules/@uifabric/merge-styles/lib/index.js"),a=r("../../../node_modules/react/index.js"),c=r("../../sdk/ui-react/built/index.js"),u=r("../../../node_modules/msbot/bin/schema.js"),l=r("./src/data/action/azureBotServiceActions.ts");class d extends a.Component{constructor(e,t){super(e,t),this.state={},this.onContextMenu=(e=>{const{listRef:t}=this;let r=e.target;for(;r&&"LI"!==r.tagName;)r=r.parentElement;r&&"LI"===r.tagName&&t.contains(r)&&(e.preventDefault(),e.stopPropagation(),this.onContextMenuOverLiElement(r))}),this.componentClassName=Object(i.mergeStyles)(this.componentCss),this.listClassName=Object(i.mergeStyles)(this.listCss)}get controls(){return a.createElement(c.ExpandCollapseControls,null,a.createElement("span",{className:this.componentClassName},a.createElement("button",{onClick:this.onAddIconClick,className:"addIconButton"},a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 25"},a.createElement("g",null,a.createElement("path",{d:"M0 10L10 10 10 0 15 0 15 10 25 10 25 15 15 15 15 25 10 25 10 15 0 15"}))))))}get content(){const{links:e,listClassName:t,emptyContent:r}=this;return e&&e.length?a.createElement(c.ExpandCollapseContent,null,a.createElement("ul",{className:t,ref:e=>this.listRef=e},e)):a.createElement(c.ExpandCollapseContent,null,r)}get emptyContent(){return a.createElement("p",Object.assign({},this.emptyContentCss),"You have not saved any ",this.props.title," apps to this bot.")}get componentCss(){return{position:"relative",display:"inline-block",height:"100%",width:"100%",selectors:{"& .addIconButton":{background:"transparent",cursor:"pointer",border:"none",outline:"none",position:"absolute",transform:"translateY(-50%)",top:"50%",right:"10px",padding:"0",margin:"0",selectors:{"> svg":{width:"12px",height:"12px",fill:`var(${c.ThemeVariables.neutral5})`,selectors:{":hover":{fill:`var(${c.ThemeVariables.logPanelLink})`}}}}}}}}get listCss(){const{neutral13:e,neutral7:t,focusedListItem:r,webchatSelectedTextBg:o}=c.ThemeVariables;return{listStyle:"none",padding:0,margin:0,overflow:"hidden",selectors:{"> li":{color:`var(${c.ThemeVariables.neutral5})`,cursor:"pointer",display:"block",whiteSpace:"nowrap",lineHeight:"22px",minHeight:"22px",fontSize:" 13px",selectors:{":hover":{backgroundImage:`linear-gradient(to bottom, ${e} 0%,${e} 100%)`,backgroundSize:"100% 30px",backgroundRepeat:"no-repeat"},"[data-selected]":{backgroundImage:`linear-gradient(to bottom, var(${r}) 0%,var(${r}) 100%)`},"& span":{color:`var(${t})`},"::before":{content:"🔗",display:"inline-block",color:`var(${o})`,paddingRight:"5px",paddingLeft:"13px"}}}}}}get emptyContentCss(){return{margin:"12px 25px",fontSize:"13px",color:`var(${c.ThemeVariables.neutral7})`}}get expandCollapseCss(){return{selectors:{"&.service-pane-explorer.container-expanded":{minHeight:"44px"}}}}get listRef(){return this._listRef}set listRef(e){const{window:t}=this.props;t.removeEventListener("contextmenu",this.onContextMenu,!0),(this._listRef=e)&&t.addEventListener("contextmenu",this.onContextMenu,!0)}render(){const{expandCollapseCss:e}=this;return a.createElement(c.ExpandCollapse,{className:"service-pane-explorer",style:e,key:this.props.title,title:this.props.title,expanded:this.state.expanded},this.controls,this.content)}onContextMenuOverLiElement(e){const{window:t}=this.props,{document:r}=t;e.setAttributeNode(r.createAttribute("data-selected"));const o=function(){t.removeEventListener("click",o,!0),t.removeEventListener("contextmenu",o,!0),e.removeAttribute("data-selected")};t.addEventListener("click",o,!0),t.addEventListener("contextmenu",o,!0)}}var p=r("./src/ui/dialogs/service/index.ts"),h=r("../../../node_modules/msbot/bin/models/index.js");const f="Connect to Azure Bot Service",m="Connect your bot to a registration in the Azure Bot Service portal";const b=Object(s.connect)((e,t)=>Object.assign({},t),e=>({updateAzureBotService:e=>p.a.hideDialog(e),cancel:()=>p.a.hideDialog()}))(class extends a.Component{constructor(e,t){super(e,t),this.state={},this._textFieldHandlers={},this.onCancelClick=(()=>{this.props.cancel()}),this.onSubmitClick=(()=>{this.props.updateAzureBotService(this.state.azureBotService)}),this.onInputChange=((e,t,r)=>{const o=r.trim(),{azureBotService:n}=this.props,s=t&&!o?"The field cannot be empty":"",{azureBotService:i}=this.state;i[e]=r;const a=Object.keys(i).reduce((e,t)=>e||i[t]!==n[t],!1);this.setState({azureBotService:i,[`${e}Error`]:s,isDirty:a})});const r=new h.AzureBotService(e.azureBotService);this.state={azureBotService:r,isDirty:!1,idError:"",nameError:"",tenantIdError:"",subscriptionIdError:"",resourceGroupError:""},this._textFieldHandlers={name:this.onInputChange.bind(this,"name",!0),id:this.onInputChange.bind(this,"id",!0),tenantId:this.onInputChange.bind(this,"tenantId",!0),subscriptionId:this.onInputChange.bind(this,"subscriptionId",!0),resourceGroup:this.onInputChange.bind(this,"resourceGroup",!0)}}componentWillReceiveProps(e){const t=new h.AzureBotService(e.azureBotService);this.setState({azureBotService:t})}render(){const{azureBotService:e,idError:t,nameError:r,isDirty:o,tenantIdError:n,subscriptionIdError:s,resourceGroupError:i}=this.state,{name:u="",id:l="",tenantId:d="",subscriptionId:p="",resourceGroup:h=""}=e,b=!(n||s||i||t||r);return a.createElement(c.Modal,{title:f,detailedDescription:m,cancel:this.onCancelClick},a.createElement(c.ModalContent,null,a.createElement(c.TextInputField,{errorMessage:r,value:u,onChanged:this._textFieldHandlers.name,label:"Bot Name",required:!0}),a.createElement(c.TextInputField,{errorMessage:t,value:l,onChanged:this._textFieldHandlers.id,label:"Azure Bot Id",required:!0}),a.createElement(c.TextInputField,{errorMessage:n,value:d,onChanged:this._textFieldHandlers.tenantId,label:"Azure Tenant Id",required:!0,"data-propname":"tenantId"}),a.createElement(c.TextInputField,{errorMessage:s,value:p,onChanged:this._textFieldHandlers.subscriptionId,label:"Azure Subscription Id",required:!0}),a.createElement(c.TextInputField,{errorMessage:i,value:h,onChanged:this._textFieldHandlers.resourceGroup,label:"Azure Resource Group",required:!0})),a.createElement(c.ModalActions,null,a.createElement(c.PrimaryButton,{text:"Cancel",secondary:!0,onClick:this.onCancelClick}),a.createElement(c.PrimaryButton,{disabled:!o||!b,text:"Submit",onClick:this.onSubmitClick})))}});const v=Object(s.connect)(e=>{const{services:t}=e.bot.activeBot;return{azureBotServices:t.filter(e=>e.type===u.ServiceType.AzureBotService),window:window}},e=>({launchAzureBotServiceEditor:(t,r)=>e(Object(l.d)(t,r)),openAzureBotServiceDeepLink:t=>e(Object(l.e)(t)),openContextMenu:(t,r)=>e(Object(l.f)(r,t))}))(class extends d{constructor(e,t){super(e,t),this.state={},this.onLinkClick=(e=>{const{currentTarget:t}=e,{index:r}=t.dataset,{[r]:o}=this.props.azureBotServices;this.props.openAzureBotServiceDeepLink(o)}),this.onAddIconClick=(e=>{this.props.launchAzureBotServiceEditor(b)})}get links(){const{azureBotServices:e=[]}=this.props;return e.map((e,t)=>a.createElement("li",{key:t,onClick:this.onLinkClick,"data-index":t},e.name))}onContextMenuOverLiElement(e){super.onContextMenuOverLiElement(e);const{index:t}=e.dataset,{[t]:r}=this.props.azureBotServices;this.props.openContextMenu(r,b)}});var j=r("./src/data/action/endpointServiceActions.ts");const y="Add a Endpoint for your bot",x="You can add a endpoint that you use to communicate to an instance of your bot";const g=Object(s.connect)((e,t)=>Object.assign({},t),e=>({updateEndpointService:e=>p.a.hideDialog(e),cancel:()=>p.a.hideDialog()}))(class extends a.Component{constructor(e,t){super(e,t),this.state={},this._textFieldHandler={},this.onCancelClick=(()=>{this.props.cancel()}),this.onSubmitClick=(()=>{this.props.updateEndpointService(this.state.endpointService)}),this.onInputChange=((e,t,r)=>{const o=r.trim(),{endpointService:n}=this.props,s=t&&!o?"The field cannot be empty":"",{endpointService:i}=this.state;i[e]=r;const a=Object.keys(i).reduce((e,t)=>e||i[t]!==n[t],!1);this.setState({endpointService:i,[`${e}Error`]:s,isDirty:a})});const r=new h.EndpointService(e.endpointService);this.state={endpointService:r,nameError:"",endpointError:"",appPasswordError:"",appIdError:"",isDirty:!1},this._textFieldHandler={name:this.onInputChange.bind(this,"name",!0),endpoint:this.onInputChange.bind(this,"endpoint",!0),appId:this.onInputChange.bind(this,"appId",!1),appPassword:this.onInputChange.bind(this,"appPassword",!1)}}componentWillReceiveProps(e){const t=new h.EndpointService(e.endpointService);this.setState({endpointService:t,appIdError:"",appPasswordError:"",endpointError:"",nameError:""})}render(){const{endpointService:e,appIdError:t,appPasswordError:r,endpointError:o,nameError:n,isDirty:s}=this.state,{name:i="",endpoint:u="",appId:l="",appPassword:d=""}=e,p=!!u&&!!i;return a.createElement(c.Modal,{title:y,detailedDescription:x,cancel:this.onCancelClick},a.createElement(c.ModalContent,null,a.createElement(c.TextInputField,{errorMessage:n,value:i,onChanged:this._textFieldHandler.name,label:"Name",required:!0}),a.createElement(c.TextInputField,{errorMessage:o,value:u,onChanged:this._textFieldHandler.endpoint,label:"Endpoint url",required:!0}),a.createElement(c.TextInputField,{errorMessage:t,value:l,onChanged:this._textFieldHandler.appId,label:"Application Id",required:!1}),a.createElement(c.TextInputField,{errorMessage:r,value:d,onChanged:this._textFieldHandler.appPassword,label:"Application Password",required:!1})),a.createElement(c.ModalActions,null,a.createElement(c.PrimaryButton,{text:"Cancel",secondary:!0,onClick:this.onCancelClick}),a.createElement(c.PrimaryButton,{disabled:!s||!p,text:"Submit",onClick:this.onSubmitClick})))}});const _=Object(s.connect)(e=>{const{services:t}=e.bot.activeBot;return{endpointServices:t.filter(e=>e.type===u.ServiceType.Endpoint),window:window}},e=>({launchEndpointEditor:(t,r)=>e(Object(j.d)(t,r)),openEndpointDeepLink:t=>e(Object(j.e)(t)),openContextMenu:(t,r)=>e(Object(j.f)(r,t))}))(class extends d{constructor(e,t){super(e,t),this.state={expanded:!0},this.onLinkClick=(e=>{const{currentTarget:t}=e,{index:r}=t.dataset,{[r]:o}=this.props.endpointServices;this.props.openEndpointDeepLink(o)}),this.onAddIconClick=(e=>{this.props.launchEndpointEditor(g)})}get links(){const{endpointServices:e=[]}=this.props;return e.map((e,t)=>a.createElement("li",{key:t,onClick:this.onLinkClick,"data-index":t},e.name))}onContextMenuOverLiElement(e){super.onContextMenuOverLiElement(e);const{index:t}=e.dataset,{[t]:r}=this.props.endpointServices;this.props.openContextMenu(new h.EndpointService(r),g)}}),S=Object(i.mergeStyles)({backgroundColor:`var(${c.ThemeVariables.neutral15})`,display:"flex",flexFlow:"column nowrap",height:"100%",overflow:"hidden",listStyleType:"none",margin:0,padding:0,selectors:{"& > li":{display:"flex",flexDirection:"column",overflow:"hidden",flex:"0 1 auto",maxHeight:"100%"}}});class w extends a.Component{render(){return a.createElement("ul",{className:`${S} explorer-set`},a.Children.map(this.props.children,e=>a.createElement("li",null,e)))}}class O extends a.Component{render(){return a.createElement(w,null,this.props.children)}}const E=Object(i.mergeStyles)({padding:"8px 16px",display:"flex",flexFlow:"row nowrap",alignItems:"center",flexShrink:0,selectors:{"& > header":{fontSize:"13px",lineHeight:"24px",height:"24px",textTransform:"uppercase",whiteSpace:"nowrap"},"& > span.accessory":{display:"inline-block",marginLeft:"auto",width:"24px",height:"24px",cursor:"pointer"},"& > span.bot-settings-icon":{background:'url("./external/media/ic_settings.svg") no-repeat 50% 50%',backgroundSize:"16px"}}});class C extends a.Component{render(){return a.createElement("div",{className:E},a.createElement("header",null,Object(c.filterChildren)(this.props.children,e=>Object(c.hmrSafeNameComparison)(e.type,T))),Object(c.filterChildren)(this.props.children,e=>Object(c.hmrSafeNameComparison)(e.type,I)))}}const T=e=>e.children,I=e=>e.children;var k=r("../../../node_modules/@fuselab/ui-shared/lib/index.js"),A=r("../../../node_modules/@fuselab/ui-fabric/lib/index.js"),R=r("./src/platform/commands/commandServiceImpl.ts"),N=r("../../../node_modules/@fuselab/ui-fabric/lib/themes/index.js"),P=function(e,t,r,o){return new(r||(r=Promise))(function(n,s){function i(e){try{c(o.next(e))}catch(e){s(e)}}function a(e){try{c(o.throw(e))}catch(e){s(e)}}function c(e){e.done?n(e.value):new r(function(t){t(e.value)}).then(i,a)}c((o=o.apply(e,t||[])).next())})};class D{constructor(e){this._tree=e}loadContainer(e){return P(this,void 0,void 0,function*(){return Promise.reject(new Error("nyi"))})}insertAt(e,t){return null}remove(e){return Promise.reject(new Error("file tree node removal NYI"))}selectNode(e){this.tree.selected=e}get root(){return this.tree.root}get tree(){return this._tree}get selected(){return this._selected}getStyle(e){if("leaf"===e.node.type){const t=e.node.name,r=Object(N.fileExtensionToIcon)(t,e.theme);return{icon:Object(N.iconDefinitionToStyle)(r,e.theme)}}return null}}const M={selectors:{'& div[class*="root-"]':{height:"22px",lineHeight:"22px",whiteSpace:"nowrap"},'& div[class*="level_"]':{height:"14px",lineHeight:"14px"}}};const F=Object(s.connect)(function(e){return{activeEditor:e.editor.activeEditor,activeDocumentId:e.editor.editors[e.editor.activeEditor].activeDocumentId,transcripts:e.chat.transcripts,files:e.files}})(class extends a.Component{render(){return a.createElement(c.ExpandCollapse,{expanded:!0,title:"Transcript Explorer",style:M},this.renderFileTree())}handleItemClick(e){R.a.call("transcript:open",e).catch()}renderFileTree(){if(!this.props.files.root)return null;const e=new D(this.props.files),t={loadContainer:e.loadContainer.bind(e),remove:e.remove.bind(e),insertAt:e.insertAt.bind(e),selectNode:t=>{r=t.data.path,"transcript"===(Object(k.pathExt)(r)||"").toLowerCase()&&this.handleItemClick(t.data.path),e.selectNode.bind(e)},selectedData:e.selected,getStyle:e.getStyle.bind(e),data:e.root,selected:!1,parent:null,compact:!0,readonly:!0,theme:"dark",hideRoot:!0};var r;return a.createElement(c.ExpandCollapseContent,{key:"transcript-explorer-tree"},a.createElement(A.TreeView,Object.assign({},t)))}}),L=Object(i.mergeStyles)({backgroundColor:`var(${c.ThemeVariables.neutral15})`,color:`var(${c.ThemeVariables.neutral5})`,display:"flex",flex:1,flexDirection:"column",listStyleType:"none",margin:0,padding:0,selectors:{"& .explorer-empty-state":{padding:"16px",overflow:"hidden"}}});class B extends a.Component{constructor(e){super(e)}render(){return a.createElement("ul",{className:L},a.createElement("li",null,a.createElement(c.ExpandCollapse,{expanded:!0,title:"No Bot Selected"},a.createElement(c.ExpandCollapseContent,null,a.createElement("div",{className:"explorer-empty-state"})))))}}const V=Object(i.mergeStyles)({height:"100%",width:"100%",selectors:{"&.explorer-offscreen":{position:"absolute",top:"5000px",display:"none"}}});class z extends a.Component{constructor(e){super(e)}get activeBotJsx(){return a.createElement(a.Fragment,null,a.createElement(_,{title:"Endpoint"}),a.createElement(F,null))}get botNotOpenJsx(){return a.createElement(B,null)}render(){const e=this.props.hidden?"explorer-offscreen":"",t=this.props.activeBot?this.activeBotJsx:this.botNotOpenJsx;return a.createElement("div",{className:`${V} ${e}`},a.createElement(C,null,a.createElement(T,null,"Bot Explorer")),a.createElement(O,null,t))}}var H=r("./src/data/action/dispatchServiceActions.ts");const W="Connect to a Dispatch Application",U="You can connect your bot to a Dispatch.ai application";const q=Object(s.connect)((e,t)=>Object.assign({},t),e=>({updateDispatchService:e=>p.a.hideDialog(e),cancel:()=>p.a.hideDialog()}))(class extends a.Component{constructor(e,t){super(e,t),this.state={},this._textFieldHandlers={},this.onCancelClick=(()=>{this.props.cancel()}),this.onSubmitClick=(()=>{const{dispatchService:e}=this.state;e.id=e.appId,this.props.updateDispatchService(e)}),this.onInputChange=((e,t,r)=>{const o=r.trim(),{dispatchService:n}=this.props,s=t&&!o?"The field cannot be empty":"",{dispatchService:i}=this.state;i[e]=r;const a=Object.keys(i).reduce((e,t)=>e||i[t]!==n[t],!1);this.setState({dispatchService:i,[`${e}Error`]:s,isDirty:a})});const r=new h.DispatchService(e.dispatchService);this.state={dispatchService:r,nameError:"",appIdError:"",authoringKeyError:"",versionError:"",subscriptionKeyError:"",isDirty:!1},this._textFieldHandlers={name:this.onInputChange.bind(this,"name",!0),appId:this.onInputChange.bind(this,"appId",!0),authoringKey:this.onInputChange.bind(this,"authoringKey",!0),version:this.onInputChange.bind(this,"version",!0),subscriptionKey:this.onInputChange.bind(this,"subscriptionKey",!1)}}componentWillReceiveProps(e){const t=new h.DispatchService(e.dispatchService);this.setState({dispatchService:t})}render(){const{dispatchService:e,appIdError:t,authoringKeyError:r,isDirty:o,nameError:n,subscriptionKeyError:s,versionError:i}=this.state,{name:u="",appId:l="",authoringKey:d="",subscriptionKey:p="",version:h=""}=e,f=!(n||t||r||i||s);return a.createElement(c.Modal,{title:W,detailedDescription:U,cancel:this.onCancelClick},a.createElement(c.ModalContent,null,a.createElement(c.TextInputField,{value:u,onChanged:this._textFieldHandlers.name,label:"Name",required:!0}),a.createElement(c.TextInputField,{value:l,onChanged:this._textFieldHandlers.appId,label:"Application Id",required:!0}),a.createElement(c.TextInputField,{value:d,onChanged:this._textFieldHandlers.authoringKey,label:"Authoring key",required:!0}),a.createElement(c.TextInputField,{value:h,onChanged:this._textFieldHandlers.version,label:"Version",required:!0}),a.createElement(c.TextInputField,{value:p,onChanged:this._textFieldHandlers.subscriptionKey,label:"Subscription key"})),a.createElement(c.ModalActions,null,a.createElement(c.PrimaryButton,{text:"Cancel",secondary:!0,onClick:this.onCancelClick}),a.createElement(c.PrimaryButton,{disabled:!o||!f,text:"Submit",onClick:this.onSubmitClick})))}});const K=Object(s.connect)(e=>{const{services:t}=e.bot.activeBot;return{dispatchServices:t.filter(e=>e.type===u.ServiceType.Dispatch),window:window}},e=>({launchDispatchEditor:(t,r)=>e(Object(H.d)(t,r)),openDispatchDeepLink:t=>e(Object(H.e)(t)),openContextMenu:(t,r)=>e(Object(H.f)(r,t))}))(class extends d{constructor(e,t){super(e,t),this.state={},this.onLinkClick=(e=>{const{currentTarget:t}=e,{index:r}=t.dataset,{[r]:o}=this.props.dispatchServices;this.props.openDispatchDeepLink(o)}),this.onAddIconClick=(e=>{this.props.launchDispatchEditor(q)})}get links(){const{dispatchServices:e=[]}=this.props;return e.map((e,t)=>a.createElement("li",{key:t,onClick:this.onLinkClick,"data-index":t},e.name))}onContextMenuOverLiElement(e){super.onContextMenuOverLiElement(e);const{index:t}=e.dataset,{[t]:r}=this.props.dispatchServices;this.props.openContextMenu(r,q)}});var $=r("./src/data/action/luisServiceActions.ts");const Y="Connect to a Luis Application",G="You can connect your bot to a Luis.ai application";const Q=Object(s.connect)((e,t)=>Object.assign({},t),e=>({updateLuisService:e=>p.a.hideDialog(e),cancel:()=>p.a.hideDialog()}))(class extends a.Component{constructor(e,t){super(e,t),this.state={},this._textFieldHandlers={},this.onCancelClick=(()=>{this.props.cancel()}),this.onSubmitClick=(()=>{this.props.updateLuisService(this.state.luisService)}),this.onInputChange=((e,t,r)=>{const o=r.trim(),{luisService:n}=this.props,s=t&&!o?"The field cannot be empty":"",{luisService:i}=this.state;i[e]=r;const a=Object.keys(i).reduce((e,t)=>e||i[t]!==n[t],!1);this.setState({luisService:i,[`${e}Error`]:s,isDirty:a})});const r=new h.LuisService(e.luisService);this.state={luisService:r,nameError:"",appIdError:"",authoringKeyError:"",versionError:"",subscriptionKeyError:"",isDirty:!1},this._textFieldHandlers={name:this.onInputChange.bind(this,"name",!0),appId:this.onInputChange.bind(this,"appId",!0),authoringKey:this.onInputChange.bind(this,"authoringKey",!0),version:this.onInputChange.bind(this,"version",!0),subscriptionKey:this.onInputChange.bind(this,"subscriptionKey",!1)}}componentWillReceiveProps(e){const t=new h.LuisService(e.luisService);this.setState({luisService:t})}render(){const{onCancelClick:e,onSubmitClick:t}=this,{luisService:r,nameError:o,appIdError:n,authoringKeyError:s,versionError:i,subscriptionKeyError:u,isDirty:l}=this.state,{name:d="",appId:p="",authoringKey:h="",subscriptionKey:f="",version:m=""}=r,b=!!(d&&p&&h&&m);return a.createElement(c.Modal,{title:Y,detailedDescription:G,cancel:e},a.createElement(c.ModalContent,null,a.createElement(c.TextInputField,{errorMessage:o,value:d,onChanged:this._textFieldHandlers.name,label:"Name",required:!0}),a.createElement(c.TextInputField,{errorMessage:n,value:p,onChanged:this._textFieldHandlers.appId,label:"Application Id",required:!0}),a.createElement(c.TextInputField,{errorMessage:s,value:h,onChanged:this._textFieldHandlers.authoringKey,label:"Authoring key",required:!0,"data-propname":"authoringKey"}),a.createElement(c.TextInputField,{errorMessage:i,value:m,onChanged:this._textFieldHandlers.version,label:"Version",required:!0}),a.createElement(c.TextInputField,{errorMessage:u,value:f,onChanged:this._textFieldHandlers.subscriptionKey,label:"Subscription key",required:!1})),a.createElement(c.ModalActions,null,a.createElement(c.PrimaryButton,{text:"Cancel",secondary:!0,onClick:e}),a.createElement(c.PrimaryButton,{disabled:!l||!b,text:"Submit",onClick:t})))}});const J=Object(s.connect)(e=>{const{services:t}=e.bot.activeBot;return{luisServices:t.filter(e=>e.type===u.ServiceType.Luis),window:window}},e=>({launchLuisEditor:(t,r)=>e(Object($.e)(t,r)),openLuisDeepLink:t=>e(Object($.f)(t)),openContextMenu:(t,r)=>e(Object($.g)(r,t))}))(class extends d{constructor(e,t){super(e,t),this.state={},this.onLinkClick=(e=>{const{currentTarget:t}=e,{index:r}=t.dataset,{[r]:o}=this.props.luisServices;this.props.openLuisDeepLink(o)}),this.onAddIconClick=(e=>{this.props.launchLuisEditor(Q)})}get links(){const{luisServices:e=[]}=this.props;return e.map((e,t)=>a.createElement("li",{key:t,onClick:this.onLinkClick,"data-index":t},e.name))}onContextMenuOverLiElement(e){super.onContextMenuOverLiElement(e);const{index:t}=e.dataset,{[t]:r}=this.props.luisServices;this.props.openContextMenu(new h.LuisService(r),Q)}});var X=r("./src/data/action/qnaMakerServiceActions.ts");const Z="Add a QnA Maker knowledge base",ee="You can find your knowledge base subscription key in QnaMaker.ai";const te=Object(s.connect)((e,t)=>Object.assign({},t),e=>({updateQnaMakerService:e=>p.a.hideDialog(e),cancel:()=>p.a.hideDialog()}))(class extends a.Component{constructor(e,t){super(e,t),this.state={},this._textFieldHandlers={},this.onCancelClick=(()=>{this.props.cancel()}),this.onSubmitClick=(()=>{this.props.updateQnaMakerService(this.state.qnaMakerService)}),this.onInputChange=((e,t,r)=>{const o=r.trim(),{qnaMakerService:n}=this.props,s=t&&!o?"The field cannot be empty":"",{qnaMakerService:i}=this.state;i[e]=o;const a=Object.keys(i).reduce((e,t)=>e||i[t]!==n[t],!1);this.setState({qnaMakerService:i,[`${e}Error`]:s,isDirty:a})});const r=new h.QnaMakerService(Object.assign({hostname:""},e.qnaMakerService));this.state={qnaMakerService:r,nameError:"",kbIdError:"",subscriptionKeyError:"",endpointKeyError:"",hostnameError:"",isDirty:!1},this._textFieldHandlers={name:this.onInputChange.bind(this,"name",!0),subscriptionKey:this.onInputChange.bind(this,"subscriptionKey",!0),hostname:this.onInputChange.bind(this,"hostname",!0),endpointKey:this.onInputChange.bind(this,"endpointKey",!0),kbId:this.onInputChange.bind(this,"kbId",!0)}}componentWillReceiveProps(e){const t=new h.QnaMakerService(Object.assign({hostname:""},e.qnaMakerService));this.setState({qnaMakerService:t})}render(){const{qnaMakerService:e,kbIdError:t,nameError:r,subscriptionKeyError:o,hostnameError:n,endpointKeyError:s,isDirty:i}=this.state,{name:u="",subscriptionKey:l="",hostname:d="",endpointKey:p="",kbId:h=""}=e,f=!!(h&&u&&l&&d&&p);return a.createElement(c.Modal,{title:Z,detailedDescription:ee,cancel:this.onCancelClick},a.createElement(c.ModalContent,null,a.createElement(c.TextInputField,{onChanged:this._textFieldHandlers.name,errorMessage:r,value:u,label:"Name",required:!0}),a.createElement(c.TextInputField,{errorMessage:o,value:l,onChanged:this._textFieldHandlers.subscriptionKey,label:"Subscription key",required:!0}),a.createElement(c.TextInputField,{errorMessage:n,value:d,onChanged:this._textFieldHandlers.hostname,label:"Host name",required:!0}),a.createElement(c.TextInputField,{errorMessage:s,value:p,onChanged:this._textFieldHandlers.endpointKey,label:"Endpoint Key",required:!0}),a.createElement(c.TextInputField,{errorMessage:t,value:h,onChanged:this._textFieldHandlers.kbId,label:"Knowledge base Id",required:!0})),a.createElement(c.ModalActions,null,a.createElement(c.PrimaryButton,{text:"Cancel",secondary:!0,onClick:this.onCancelClick}),a.createElement(c.PrimaryButton,{disabled:!i||!f,text:"Submit",onClick:this.onSubmitClick})))}});const re=Object(s.connect)(e=>{const{services:t}=e.bot.activeBot;return{qnaMakerServices:t.filter(e=>e.type===u.ServiceType.QnA),window:window}},e=>({launchQnaMakerEditor:(t,r)=>e(Object(X.d)(t,r)),openQnaMakerDeepLink:t=>e(Object(X.e)(t)),openContextMenu:(t,r)=>e(Object(X.f)(r,t))}))(class extends d{constructor(e,t){super(e,t),this.state={},this.onLinkClick=(e=>{const{currentTarget:t}=e,{index:r}=t.dataset,{[r]:o}=this.props.qnaMakerServices;this.props.openQnaMakerDeepLink(o)}),this.onAddIconClick=(e=>{this.props.launchQnaMakerEditor(te)})}get links(){const{qnaMakerServices:e=[]}=this.props;return e.map((e,t)=>a.createElement("li",{key:t,onClick:this.onLinkClick,"data-index":t},e.name))}onContextMenuOverLiElement(e){super.onContextMenuOverLiElement(e);const{index:t}=e.dataset,{[t]:r}=this.props.qnaMakerServices;this.props.openContextMenu(new h.QnaMakerService(r),te)}});const oe=Object(s.connect)(e=>{return{activeBotExists:!!e.bot.activeBot}},e=>({}))(class extends a.Component{constructor(e,t){super(e,t)}get explorerBodyChildren(){const{activeBotExists:e}=this.props;return e?a.createElement(a.Fragment,null,a.createElement(v,{title:"Azure Bot Service"}),a.createElement(K,{title:"Dispatch"}),a.createElement(J,{title:"LUIS"}),a.createElement(re,{title:"QnA Maker"})):null}render(){return a.createElement(a.Fragment,null,a.createElement(C,null,a.createElement(T,null,"Services")),a.createElement(O,null,this.explorerBodyChildren))}}),ne=Object(i.mergeStyles)({backgroundColor:`var(${c.ThemeVariables.neutral15})`,height:"100%",display:"flex",flexFlow:"column nowrap",position:"relative"});const se=Object(s.connect)(e=>({activeBot:e.bot.activeBot,selectedNavTab:e.navBar.selection}))(class extends a.Component{constructor(e){super(e)}render(){let e=[];return e.push(a.createElement(z,{key:"bot-explorer-bar",activeBot:this.props.activeBot,hidden:this.props.selectedNavTab!==n.NAVBAR_BOT_EXPLORER})),this.props.selectedNavTab===n.NAVBAR_SERVICES&&e.push(a.createElement(oe,{key:"services-explorer-bar"})),this.props.selectedNavTab||(e=null),a.createElement("div",{className:ne},e,a.createElement(c.InsetShadow,{right:!0}))}});var ie=r("./src/data/editorHelpers.ts"),ae=r("./src/data/action/chatActions.ts"),ce=r("./src/data/action/editorActions.ts");const ue={display:"flex",alignItems:"center",height:"100%",border:"none",borderRight:`1px solid ${c.ThemeVariables.neutral15}`,backgroundColor:`${c.ThemeVariables.neutral15}`,color:`${c.ThemeVariables.neutral7}`,cursor:"pointer",padding:"4px 8px",boxSizing:"border-box",whiteSpace:"nowrap",selectors:{"&.active-editor-tab":{backgroundColor:`${c.ThemeVariables.neutral15}`,color:`${c.ThemeVariables.neutral1}`,selectors:{"& > span.editor-tab-close":{opacity:1}}},"&.dragged-over-editor-tab":{backgroundColor:`${c.ThemeVariables.neutral14}`},":hover":{selectors:{"& > span.editor-tab-close":{opacity:1}}},"& > span":{display:"inline-block",height:"auto"},"& > span.editor-tab-icon":{display:"inline-block",width:"12px",marginRight:"8px",selectors:{"::after":{content:"🗋",color:`${c.ThemeVariables.warningOutline}`,fontSize:"16px"}}},"& > span.editor-tab-close":{display:"inline-block",width:"8px",marginLeft:"8px",opacity:0,selectors:{"::after":{content:"✖",color:`${c.ThemeVariables.neutral5}`,fontSize:"12px"}}},"& .truncated-tab-text":{maxWidth:"200px"}}};const le=Object(s.connect)(null,(e,t)=>({toggleDraggingTab:t=>e(ce.k(t)),swapTabs:(r,o,n)=>e(ce.j(r,o,n,t.documentId))}))(class extends a.Component{constructor(e){super(e),this.onDragStart=(e=>{const t={tabId:this.props.documentId,editorKey:this.state.owningEditor};e.dataTransfer.setData("application/json",JSON.stringify(t)),this.props.toggleDraggingTab(!0)}),this.onDragEnd=(()=>{this.props.toggleDraggingTab(!1)}),this.onDragOver=(e=>{e.preventDefault(),e.stopPropagation(),this.setState({draggedOver:!0})}),this.onDragEnter=(e=>{e.preventDefault()}),this.onDragLeave=(()=>{this.setState({draggedOver:!1})}),this.onDrop=(e=>{const t=JSON.parse(e.dataTransfer.getData("application/json"));t.tabId!==this.props.documentId&&this.props.swapTabs(t.editorKey,this.state.owningEditor,t.tabId),this.setState({draggedOver:!1}),e.preventDefault(),e.stopPropagation()}),this.state={draggedOver:!1,owningEditor:Object(ie.b)(e.documentId)}}render(){let e="";return this.props.active?e+=" active-editor-tab":this.state.draggedOver&&(e+=" dragged-over-editor-tab"),a.createElement("div",{className:ue+e,draggable:!0,onDragOver:this.onDragOver,onDragEnter:this.onDragEnter,onDragStart:this.onDragStart,onDrop:this.onDrop,onDragLeave:this.onDragLeave,onDragEnd:this.onDragEnd},a.createElement("span",{className:"editor-tab-icon"}),a.createElement(c.TruncateText,{className:"truncated-tab-text"},this.props.title),this.props.dirty?a.createElement("span",null,"*"):null,a.createElement("span",{className:"editor-tab-close",onClick:this.props.onCloseClick}))}});const de=Object(s.connect)((e,t)=>{const{mode:r,documentId:o}=t;let n;if("livechat"===r){n="Live Chat";const{services:t=[]}=e.bot.activeBot||{},{endpointId:r=null}=e.chat.chats[o]||{},s=t.find(e=>e.id===r);s&&(n+=` (${s.name})`)}else if("transcript"===r){const{editor:t}=e,{editors:r,activeEditor:s}=t,i=r[s].documents[o];n="Transcript",i.fileName&&(n+=` (${i.fileName})`)}return{active:e.editor.editors[e.editor.activeEditor].activeDocumentId===o,title:n}},(e,t)=>({closeTab:()=>{e(ce.c(Object(ie.b)(t.documentId),t.documentId)),e(ae.e(t.documentId))}}))(class extends a.Component{constructor(e){super(e),this.onCloseClick=(e=>{e.stopPropagation(),this.props.closeTab()})}render(){return a.createElement(le,{active:this.props.active,title:this.props.title,onCloseClick:this.onCloseClick,documentId:this.props.documentId,dirty:this.props.dirty})}});const pe=Object(s.connect)((e,t)=>({active:e.editor.editors[e.editor.activeEditor].activeDocumentId===t.documentId}),(e,t)=>({closeTab:()=>e(ce.c(Object(ie.b)(t.documentId),t.documentId))}))(class extends a.Component{constructor(e){super(e),this.onCloseClick=(e=>{e.stopPropagation(),this.props.closeTab()})}render(){return a.createElement(le,{active:this.props.active,title:this.props.title,onCloseClick:this.onCloseClick,documentId:this.props.documentId,dirty:this.props.dirty})}});var he=r("./src/data/store.ts"),fe=r("./src/ui/layout/index.ts");const me=function(e,t=500){let r=0;return function(...o){if(Date.now()-r>t)return r=Date.now(),e(...o)}},be=Object(i.mergeStyles)({selectors:{"& .right-column":{marginLeft:"48px"},"& p":{margin:0,marginBottom:"16px"},"& a":{textDecoration:"none",color:`var(${c.ThemeVariables.focusedSelectedListItemBg})`,selectors:{":hover":{color:`var(${c.ThemeVariables.focusedSelectedListItemBg})`}}},"& .button-row":{marginTop:"48px"},"& .browse-button, .save-button":{marginLeft:"8px"},"& .size-limit-suffix":{display:"inline-block",lineHeight:"32px",marginLeft:"8px"},"& .checkboxOverrides":{marginBottom:"16px",selectors:{"& > label":{color:`var(${c.ThemeVariables.neutral5})`}}},"& .app-settings-input":{color:`var(${c.ThemeVariables.neutral5})`}}}),ve={bypassNgrokLocalhost:!0,locale:"",localhost:"",ngrokPath:"",stateSizeLimit:64,use10Tokens:!1,useCodeValidation:!1};function je(e,t){return Object.keys(e).length===Object.keys(t).length&&Object.keys(e).every(r=>r in t&&e[r]===t[r])}class ye extends a.Component{constructor(e,t){super(e,t),this.setDirtyFlag=me(e=>he.a.dispatch(ce.h(this.props.documentId,e)),300),this.onClickBrowse=this.onClickBrowse.bind(this),this.onChangeSizeLimit=this.onChangeSizeLimit.bind(this),this.onClickSave=this.onClickSave.bind(this),this.onChangeNgrok=this.onChangeNgrok.bind(this),this.onChangeNgrokBypass=this.onChangeNgrokBypass.bind(this),this.onChangeAuthTokenVersion=this.onChangeAuthTokenVersion.bind(this),this.onChangeUseValidationToken=this.onChangeUseValidationToken.bind(this),this.onClickDiscard=this.onClickDiscard.bind(this),this.onChangeLocalhost=this.onChangeLocalhost.bind(this),this.onChangeLocale=this.onChangeLocale.bind(this),this.state={committed:Object.assign({},ve),uncommitted:Object.assign({},ve)}}componentWillMount(){R.a.remoteCall("app:settings:load").then(e=>{this.setState(()=>({committed:e,uncommitted:e}))}).catch(e=>console.error("Error while loading emulator settings: ",e))}setUncommittedState(e){this.setState(t=>{const r=Object.assign({},t.uncommitted,e),o=je(t.uncommitted,t.committed),n=je(r,t.committed);return n!==o&&this.setDirtyFlag(!n),{uncommitted:r}})}commit(e){this.setState(()=>(this.setDirtyFlag(!1),{committed:Object.assign({},e),uncommitted:Object.assign({},e)}))}onClickBrowse(){R.a.remoteCall("shell:showOpenDialog",{title:"Browse for ngrok",buttonLabel:"Select ngrok",properties:["openFile"]}).then(e=>this.setUncommittedState({ngrokPath:e})).catch(e=>console.log("User cancelled browsing for ngrok: ",e))}onChangeSizeLimit(e){this.setUncommittedState({stateSizeLimit:e.target.value})}onClickSave(){const{uncommitted:e}=this.state,t={ngrokPath:e.ngrokPath.trim(),bypassNgrokLocalhost:e.bypassNgrokLocalhost,stateSizeLimit:+e.stateSizeLimit,use10Tokens:e.use10Tokens,useCodeValidation:e.useCodeValidation,localhost:e.localhost.trim(),locale:e.locale.trim()};R.a.remoteCall("app:settings:save",t).then(()=>this.commit(t)).catch(e=>console.error("Error while saving emulator settings: ",e))}onChangeAuthTokenVersion(){this.setUncommittedState({use10Tokens:!this.state.uncommitted.use10Tokens})}onChangeUseValidationToken(){this.setUncommittedState({useCodeValidation:!this.state.uncommitted.useCodeValidation})}onChangeNgrok(e){this.setUncommittedState({ngrokPath:e})}onChangeNgrokBypass(){this.setUncommittedState({bypassNgrokLocalhost:!this.state.uncommitted.bypassNgrokLocalhost})}onChangeLocalhost(e){this.setUncommittedState({localhost:e})}onChangeLocale(e){this.setUncommittedState({locale:e})}onClickDiscard(){const{DOCUMENT_ID_APP_SETTINGS:e}=n;he.a.dispatch(ce.c(Object(ie.b)(this.props.documentId),e))}render(){const{uncommitted:e}=this.state,t=je(this.state.committed,e);return a.createElement(fe.a,{style:be},a.createElement(c.Row,null,a.createElement(c.Column,null,a.createElement(c.SmallHeader,null,"Service"),a.createElement("p",null,a.createElement("a",{href:"https://ngrok.com/",target:"_blank"},"ngrok")," is network tunneling software. The Bot Framework Emulator works with ngrok to communicate with bots hosted remotely. Read the ",a.createElement("a",{href:"https://github.com/Microsoft/BotFramework-Emulator/wiki/Tunneling-(ngrok)",target:"_blank"},"wiki page")," to learn more about using ngrok and to download it."),a.createElement(c.Row,{align:c.RowAlignment.Center},a.createElement(c.TextInputField,{className:"app-settings-input",readOnly:!1,value:e.ngrokPath,onChanged:this.onChangeNgrok,label:"Path to ngrok"}),a.createElement(c.PrimaryButton,{onClick:this.onClickBrowse,text:"Browse",className:"browse-button"})),a.createElement(c.Checkbox,{className:"checkboxOverrides",checked:e.bypassNgrokLocalhost,onChange:this.onChangeNgrokBypass,id:"ngrok-bypass",label:"Bypass ngrok for local addresses"}),a.createElement(c.Row,{align:c.RowAlignment.Center},a.createElement(c.TextInputField,{className:"app-settings-input",readOnly:!1,value:e.localhost,onChanged:this.onChangeLocalhost,label:"localhost override"})),a.createElement(c.Row,{align:c.RowAlignment.Center},a.createElement(c.TextInputField,{className:"app-settings-input",readOnly:!1,value:e.locale,onChanged:this.onChangeLocale,label:"Locale"}))),a.createElement(c.Column,{className:"right-column"},a.createElement(c.SmallHeader,null,"Auth"),a.createElement(c.Checkbox,{className:"checkboxOverrides",checked:e.use10Tokens,onChange:this.onChangeAuthTokenVersion,id:"auth-token-version",label:"Use version 1.0 authentication tokens"}),a.createElement(c.SmallHeader,null,"Sign-in"),a.createElement(c.Checkbox,{className:"checkboxOverrides",checked:e.useCodeValidation,onChange:this.onChangeUseValidationToken,id:"use-validation-code",label:"Use a sign-in verification code for OAuthCards"}))),a.createElement(c.Row,{className:"button-row",justify:c.RowJustification.Right},a.createElement(c.PrimaryButton,{text:"Cancel",onClick:this.onClickDiscard}),a.createElement(c.PrimaryButton,{text:"Save",onClick:this.onClickSave,className:"save-button",disabled:t})))}}var xe=r("../shared/built/index.js"),ge=r("../../sdk/shared/built/index.js"),_e=r("./src/data/botHelpers.ts"),Se=r("./src/ui/helpers/activeBotHelper.ts"),we=function(e,t,r,o){return new(r||(r=Promise))(function(n,s){function i(e){try{c(o.next(e))}catch(e){s(e)}}function a(e){try{c(o.throw(e))}catch(e){s(e)}}function c(e){e.done?n(e.value):new r(function(t){t(e.value)}).then(i,a)}c((o=o.apply(e,t||[])).next())})};const Oe={selectors:{"& .bot-settings-header":{marginBottom:"16px"},"& .save-button":{marginLeft:"auto"},"& .save-connect-button":{marginLeft:"8px"},"& .multiple-input-row":{selectors:{"& > div":{marginLeft:"8px"},"& > div:first-child":{marginLeft:0}}},"& .button-row":{marginTop:"48px"},"& .bot-settings-input":{color:`var(${c.ThemeVariables.neutral5})`}}};const Ee=Object(s.connect)(function(e,t){return{bot:e.bot.activeBot}})(class extends a.Component{constructor(e,t){super(e,t),this.onChangeName=(e=>{const t=ge.BotConfigWithPathImpl.fromJSON(Object.assign({},this.state.bot,{name:e}));this.setState({bot:t}),this.setDirtyFlag(!0)}),this.onChangeSecret=(e=>{this.setState({secret:e}),this.setDirtyFlag(!0)}),this.onSave=((e,t=!1)=>we(this,void 0,void 0,function*(){const{name:e="",description:r="",path:o,services:n}=this.state.bot;let s=ge.BotConfigWithPathImpl.fromJSON({name:e.trim(),description:r.trim(),secretKey:"",path:o.trim(),services:n});const i=s.services.find(e=>e.type===u.ServiceType.Endpoint);s.path===xe.SharedConstants.TEMP_BOT_IN_MEMORY_PATH?yield this.saveBotFromProtocol(s,i,t):yield this.saveBotFromDisk(s,i,t)})),this.saveBotFromProtocol=((e,t,r)=>we(this,void 0,void 0,function*(){let o=yield this.showBotSaveDialog();if(!o)return null;{const n={displayName:(e=Object.assign({},e,{path:o})).name,path:o,secret:this.state.secret};yield R.a.remoteCall("bot:list:patch",xe.SharedConstants.TEMP_BOT_IN_MEMORY_PATH,n),yield R.a.remoteCall("bot:save",e),yield Se.a.setActiveBot(o),this.setDirtyFlag(!1),this.setState({bot:e}),r&&t&&R.a.call("livechat:new",t)}})),this.saveBotFromDisk=((e,t,r)=>we(this,void 0,void 0,function*(){const o=Object(_e.b)(e.path);o.secret=this.state.secret,yield R.a.remoteCall("bot:list:patch",e.path,o),yield R.a.remoteCall("bot:save",e),this.setDirtyFlag(!1),this.setState({bot:e}),r&&t&&R.a.call("livechat:new",t)})),this.onSaveAndConnect=(e=>we(this,void 0,void 0,function*(){yield this.onSave(e,!0)})),this.showBotSaveDialog=(()=>we(this,void 0,void 0,function*(){const e={filters:[{name:"Bot Files",extensions:["bot"]}],defaultPath:yield R.a.remoteCall("file:sanitize-string",this.state.bot.name),showsTagField:!1,title:"Save as",buttonLabel:"Save"};return R.a.remoteCall("shell:showSaveDialog",e)}));const{bot:r}=e,o=Object(_e.b)(r.path);this.state={bot:r,secret:o&&o.secret||""}}componentWillReceiveProps(e){const{path:t}=e.bot;if(t!==this.state.bot.path){const r=Object(_e.b)(t);this.setState({bot:e.bot,secret:r.secret}),this.setDirtyFlag(!1)}}render(){const e=!this.state.bot.name||!this.props.dirty,t=this.state.bot.name?"":"The bot name is required";return a.createElement(fe.a,{style:Oe},a.createElement(c.Column,null,a.createElement(c.MediumHeader,{className:"bot-settings-header"},"Bot Settings"),a.createElement(c.TextInputField,{className:"bot-settings-input",label:"Bot name",value:this.state.bot.name,required:!0,onChanged:this.onChangeName,errorMessage:t}),a.createElement(c.TextInputField,{className:"bot-settings-input",label:"Bot secret",value:this.state.secret,onChanged:this.onChangeSecret,type:"password"}),a.createElement(c.Row,{className:"button-row"},a.createElement(c.PrimaryButton,{text:"Save",onClick:this.onSave,className:"save-button",disabled:e}),a.createElement(c.PrimaryButton,{text:"Save & Connect",onClick:this.onSaveAndConnect,className:"save-connect-button",disabled:e}))))}setDirtyFlag(e){he.a.dispatch(ce.h(this.props.documentId,e))}});class Ce extends a.Component{constructor(e){super(e)}render(){const{document:e}=this.props,{contentType:t}=e;switch(t){case n.CONTENT_TYPE_LIVE_CHAT:return a.createElement(yt,{mode:"livechat",documentId:e.documentId,dirty:this.props.document.dirty});case n.CONTENT_TYPE_TRANSCRIPT:return a.createElement(yt,{mode:"transcript",documentId:e.documentId,dirty:this.props.document.dirty});case n.CONTENT_TYPE_BOT_SETTINGS:return a.createElement(Ee,{documentId:e.documentId,dirty:this.props.document.dirty});case n.CONTENT_TYPE_APP_SETTINGS:return a.createElement(ye,{documentId:e.documentId,dirty:this.props.document.dirty});case n.CONTENT_TYPE_WELCOME_PAGE:return a.createElement(xt.a,{documentId:e.documentId});default:return!1}}}const Te=Object(i.mergeStyles)({display:"flex",flex:1,flexDirection:"column",height:"100%",position:"relative",selectors:{"& > .header":{backgroundColor:`var(${c.ThemeVariables.neutral13})`,color:`var(${c.ThemeVariables.neutral5})`,lineHeight:"36px",minHeight:"36px",textTransform:"uppercase",paddingLeft:"16px",display:"flex",whiteSpace:"nowrap",selectors:{"& > .accessories":{margin:"0 0 0 auto",height:"100%",width:"auto",display:"flex",alignItems:"center",selectors:{"& > button":{backgroundColor:"transparent",color:`var(${c.ThemeVariables.neutral5})`,border:0,cursor:"pointer",whiteSpace:"nowrap"}}}}},"& > .body":{backgroundColor:`var(${c.ThemeVariables.neutral15})`,color:`var(${c.ThemeVariables.neutral5})`,flex:1,overflow:"auto",padding:0}}});class Ie extends a.Component{constructor(e,t){super(e,t)}render(){return a.createElement("div",{className:Te},a.createElement("div",{className:"header"},this.props.title,a.createElement("div",{className:"accessories"},Object(c.filterChildren)(this.props.children,e=>Object(c.hmrSafeNameComparison)(e.type,ke)))),a.createElement("div",{className:"body"},Object(c.filterChildren)(this.props.children,e=>Object(c.hmrSafeNameComparison)(e.type,Ae))))}}const ke=e=>e.children,Ae=e=>e.children,Re=Object(i.mergeStyles)({height:"40px",backgroundColor:`var(${c.ThemeVariables.neutral15})`,lineHeight:"40px",selectors:{"& > ul":{display:"flex",listStyleType:"none",margin:0,padding:0,selectors:{"& > li":{padding:"0 8px 0 8px"},"& > .button > button":{cursor:"pointer",margin:0,border:"none",height:"30px",backgroundColor:"transparent",color:`var(${c.ThemeVariables.neutral5})`,whiteSpace:"nowrap",selectors:{":hover":{backgroundColor:"transparent",color:`var(${c.ThemeVariables.neutral5})`,textDecoration:"underline"}}}},"& > .separator":{backgroundColor:"transparent",color:`var(${c.ThemeVariables.neutral5})`}}}});class Ne extends a.Component{render(){return a.createElement("div",{className:Re},a.createElement("ul",null,Object(c.filterChildren)(this.props.children,e=>e&&e.props.visible).map((e,t)=>this.createClass(e,t))))}createClass(e,t){return Object(c.hmrSafeNameComparison)(e.type,Pe)?a.createElement("li",{key:t,className:"button"},a.createElement("button",{onClick:()=>e.props.onClick()},e.props.title)):!!Object(c.hmrSafeNameComparison)(e.type,De)&&a.createElement("li",{key:t,className:"separator"},"|")}}const Pe=e=>e.children,De=e=>e.children;var Me=r("../../../node_modules/botframework-webchat/built/BotChat.js");var Fe=function(e,t,r,o){return new(r||(r=Promise))(function(n,s){function i(e){try{c(o.next(e))}catch(e){s(e)}}function a(e){try{c(o.throw(e))}catch(e){s(e)}}function c(e){e.done?n(e.value):new r(function(t){t(e.value)}).then(i,a)}c((o=o.apply(e,t||[])).next())})};const Le=r("../../../node_modules/botframework-webchat/CognitiveServices.js"),Be=r("../../../node_modules/botframework-webchat/adaptivecards-hostconfig.json"),Ve=Object(i.mergeStyles)({backgroundColor:"white",height:"100%",display:"flex",selectors:{"& .wc-chatview-panel":{flex:1,position:"relative",selectors:{"::-webkit-scrollbar-thumb":{backgroundColor:"blue",color:"red"},"& p":{marginBottom:0,marginTop:0},"& h1, & h2, & h3, & h4":{marginTop:"8px",marginBottom:"4px"},"& br":{content:" ",display:"block",fontSize:"50%"},"& ol, & ul":{marginTop:0},"& .wc-message-content *":{userSelect:"text"},"& .wc-message-content.selected":{color:"black",backgroundColor:"var(--webchat-selected-text-bg)",boxShadow:"0px 1px 1px 0px rgba(0,0,0,0.2)"},"& .wc-message-content.selected>svg.wc-message-callout>path":{fill:`var(${c.ThemeVariables.webchatSelectedTextBg})`},"& .wc-card":{color:"#000"},"& .wc-card button":{border:"1px solid #ccc",borderRadius:"1px",cursor:"pointer",outline:"none",transition:"color .2s ease, background-color .2s ease",backgroundColor:"transparent",color:`var(${c.ThemeVariables.infoOutline})`,minHeight:"32px",width:"100%",padding:"0 16px"},"& .wc-list ul":{padding:0},"& .clickable:hover":{cursor:"pointer"}}}}}),ze=Object(i.mergeStyles)({padding:"16px",backgroundColor:"white",height:"100%",display:"flex",alignItems:"flex-start",selectors:{"& .start-button":{flexGrow:1,flexShrink:1,flexBasis:"0px"}}});function He(e,t,r,o,n,s){return{adaptiveCardsHostConfig:Be,bot:{id:e||"bot",name:"Bot"},botConnection:r,formatOptions:{showHeader:!1},selectedActivity:o,showShell:"livechat"===s,speechOptions:n&&n.appId&&n.appPassword?{speechRecognizer:new Le.SpeechRecognizer({fetchCallback:We.bind(null,n,!1),fetchOnExpiryCallback:We.bind(null,n,!0)}),speechSynthesizer:new Me.Speech.BrowserSpeechSynthesizer}:null,user:{id:t||"default-user",name:"User"}}}function We(e,t){return Fe(this,void 0,void 0,function*(){if(!e)return void console.warn("No endpoint for this chat, cannot fetch speech token.");let r=t?"speech-token:refresh":"speech-token:get";try{const t=yield R.a.remoteCall(r,e.endpoint);if(t){if(t.access_Token)return t.access_Token;console.warn("Could not retrieve Cognitive Services speech token"),"string"==typeof t.error&&console.warn("Error: "+t.error),"string"==typeof t.error_Description&&console.warn("Details: "+t.error_Description)}else console.error("Could not retrieve Cognitive Services speech token.");return}catch(e){console.error(e)}})}var Ue=Object(s.connect)((e,{document:t})=>({endpoint:(e.bot.activeBot&&e.bot.activeBot.services||[]).find(e=>e.id===t.endpointId)}))(class extends a.Component{constructor(e,t){super(e,t),this.createWebChatPropsMemoized=function(e){let t,r=[];return function(){return(r.length!==arguments.length||r.some((e,t)=>e!==arguments[t]))&&(t=e.apply(null,arguments),r=[].slice.call(arguments)),t}}(He)}render(){const{document:e,endpoint:t}=this.props;if(e.directLine){const r=this.createWebChatPropsMemoized(e.botId,e.userId,e.directLine,e.selectedActivity$,t,this.props.mode);return a.createElement("div",{id:"webchat-container",className:`${Ve} wc-app`},a.createElement(Me.Chat,Object.assign({key:e.directLine.token},r)))}return a.createElement("div",{className:ze},"Not Connected")}});const qe=Object(i.mergeStyles)({height:"100%",display:"flex",flexDirection:"column",selectors:{"& > header":{backgroundColor:`var(${c.ThemeVariables.neutral15})`,color:`var(${c.ThemeVariables.neutral5})`,lineHeight:"30px",minHeight:"30px",paddingLeft:"16px",textTransform:"lowercase",userSelect:"text",whiteSpace:"nowrap"}}});class Ke extends a.Component{constructor(e,t){super(e,t)}render(){const{botUrl:e}=this.props.document.endpoint||{botUrl:""};return a.createElement("div",{className:`${qe} chat-panel`},a.createElement("header",null,e),a.createElement(Ue,{mode:this.props.mode,document:this.props.document,onStartConversation:this.props.onStartConversation,key:this.props.document.pingId}))}}var $e=r("./src/extensions.ts"),Ye=r("./src/platform/log/logService.ts"),Ge=r("./src/platform/settings/settingsService.ts");const Qe=window.require("crypto"),Je=Object(i.mergeStyles)({width:"100%",height:"100%"});class Xe extends a.Component{constructor(e,t){super(e,t),this.domReadyEventHandler=(()=>{this.botUpdated(Object(_e.a)()),this.inspect(this.props.inspectObj)}),this.ipcMessageEventHandler=(e=>{if("enable-accessory"===e.channel)this.props.enableAccessory(e.args[0],e.args[1]);else if("set-accessory-state"===e.channel)this.props.setAccessoryState(e.args[0],e.args[1]);else if("set-inspector-title"===e.channel)this.setState(Object.assign({},this.state,{titleOverride:e.args[0]})),this.props.setInspectorTitle(e.args[0]);else if("logger.log"===e.channel){const t=this.state.titleOverride||this.props.inspector.name||"inspector";Ye.a.logToDocument(this.props.document.documentId,Object(xe.logEntry)(Object(xe.textItem)(xe.LogLevel.Info,`[${t}] ${e.args[0]}`)))}else if("logger.error"===e.channel){const t=this.state.titleOverride||this.props.inspector.name||"inspector";Ye.a.logToDocument(this.props.document.documentId,Object(xe.logEntry)(Object(xe.textItem)(xe.LogLevel.Error,`[${t}] ${e.args[0]}`)))}else console.warn("Unexpected message from inspector",e.channel,...e.args)}),this.updateRef=(e=>{this.ref&&(this.ref.removeEventListener("dom-ready",()=>this.domReadyEventHandler()),this.ref.removeEventListener("ipc-message",e=>this.ipcMessageEventHandler(e))),this.ref=e,this.ref&&(this.ref.addEventListener("dom-ready",()=>this.domReadyEventHandler()),this.ref.addEventListener("ipc-message",e=>this.ipcMessageEventHandler(e)))}),this.handleDrag=(e=>{e.stopPropagation()}),this.state={botHash:this.hash(Object(_e.a)())}}componentDidMount(){window.addEventListener("toggle-inspector-devtools",()=>this.toggleDevTools())}componentWillUnmount(){window.removeEventListener("toggle-inspector-devtools",()=>this.toggleDevTools())}hash(e){const t=Qe.createHash("md5");return t.update(JSON.stringify(e)),t.digest("base64")}toggleDevTools(){this.sendToInspector("toggle-dev-tools")}accessoryClick(e){this.sendToInspector("accessory-click",e)}canInspect(e){return"JSON"===this.props.inspector.name||$e.b.canInspect(this.props.inspector,e)}inspect(e){this.canInspect(e)&&this.sendToInspector("inspect",e)}botUpdated(e){this.sendToInspector("bot-updated",e)}sendToInspector(e,...t){if(this.ref)try{this.ref.send(e,...t)}catch(e){console.error(e)}}shouldComponentUpdate(e){return this.props.inspectObj!==e.inspectObj}componentDidUpdate(e){const t=this.hash(Object(_e.a)());t!==this.state.botHash&&(this.setState({botHash:t}),this.botUpdated(Object(_e.a)())),e.inspectObj&&this.props.inspectObj?JSON.stringify(e.inspectObj)!==JSON.stringify(this.props.inspectObj)&&this.inspect(this.props.inspectObj):this.inspect(this.props.inspectObj)}render(){const{updateRef:e,handleDrag:t}=this,r=Qe.createHash("md5");r.update(this.props.inspector.src);const o=r.digest("base64"),{cwdAsBase:n}=Ge.a.emulator,s=`file://${n}/../../node_modules/@bfemulator/client/public/inspector-preload.js`;return a.createElement("webview",{className:Je,webpreferences:"webSecurity=no",key:o,partition:`persist:${o}`,preload:s,ref:t=>e(t),src:this.props.inspector.src,onDragEnterCapture:t,onDragOverCapture:t})}}const Ze=Object(i.mergeStyles)({padding:0,height:"100%",fontFamily:c.Fonts.FONT_FAMILY_MONOSPACE,wordWrap:"break-word",whiteSpace:"pre-wrap",overflowY:"auto",userSelect:"text",boxSizing:"border-box"});class et extends a.Component{toggleDevTools(){this.inspectorRef&&this.inspectorRef.toggleDevTools()}accessoryClick(e){this.inspectorRef&&this.inspectorRef.accessoryClick(e)}render(){return a.createElement("div",{className:Ze},a.createElement(Xe,{ref:e=>this.inspectorRef=e,bot:this.props.bot,document:this.props.document,extension:this.props.extension,inspector:this.props.inspector,inspectObj:this.props.inspectObj,enableAccessory:this.props.enableAccessory,setAccessoryState:this.props.setAccessoryState,setInspectorTitle:this.props.setInspectorTitle}))}}const tt=Object(i.mergeStyles)({height:"100%",overflow:"auto",userSelect:"text",padding:"0 16px 0 16px",boxSizing:"border-box",selectors:{"& > .entry":{fontFamily:c.Fonts.FONT_FAMILY_MONOSPACE,selecors:{"& > .source":{color:`var(${c.ThemeVariables.neutral6})`},"& .timestamp":{color:`var(${c.ThemeVariables.logPanelTimestamp})`},"& .src-dst":{color:`var(${c.ThemeVariables.neutral9})`},"& a":{color:`var(${c.ThemeVariables.logPanelLink})`,textDecoration:"underline",cursor:"pointer"},"& .level-0":{color:`var(${c.ThemeVariables.neutral1})`},"& .level-1":{color:`var(${c.ThemeVariables.neutral7})`},"& .level-2":{color:`var(${c.ThemeVariables.warningOutline})`},"& .level-3":{color:`var(${c.ThemeVariables.errorText})`},"& .spaced":{marginLeft:"8px"},"& .spaced:first-child":{marginLeft:0}}}}});function rt(e){return("0"+e).slice(-2)}class ot extends a.Component{constructor(e,t){super(e,t),this.state={count:0}}componentDidUpdate(){this.props.document.log.entries.length!==this.state.count&&(this.scrollMe.scrollTop=this.scrollMe.scrollHeight,this.setState({count:this.props.document.log.entries.length}))}render(){let e=0;return a.createElement("div",{className:tt,ref:e=>this.scrollMe=e},this.props.document.log.entries.map(t=>a.createElement(nt,{key:`entry-${e++}`,entry:t,document:this.props.document})))}}class nt extends a.Component{inspect(e){this.props.document.selectedActivity$.next({}),he.a.dispatch(ae.j(this.props.document.documentId,e))}inspectAndHighlight(e){this.inspect(e),e.id&&this.props.document.selectedActivity$.next(e)}render(){let e=0;return a.createElement("div",{key:"entry",className:"entry"},this.renderTimestamp(this.props.entry.timestamp),this.props.entry.items.map(t=>this.renderItem(t,""+e++)))}renderTimestamp(e){return a.createElement("span",{key:"timestamp",className:"spaced"},"[",a.createElement("span",{className:"timestamp"},function(e){let t=new Date(e);return`${rt(t.getHours())}:${rt(t.getMinutes())}:${rt(t.getSeconds())}`}(e)),"]")}renderItem(e,t){switch(e.type){case"text":{const{level:r,text:o}=e.payload;return this.renderTextItem(r,o,t)}case"external-link":{const{text:r,hyperlink:o}=e.payload;return this.renderExternalLinkItem(r,o,t)}case"open-app-settings":{const{text:r}=e.payload;return this.renderAppSettingsItem(r,t)}case"exception":{const{err:r}=e.payload;return this.renderExceptionItem(r,t)}case"inspectable-object":{const{obj:r}=e.payload;return this.renderInspectableItem(r,t)}case"network-request":{const{facility:r,body:o,headers:n,method:s,url:i}=e.payload;return this.renderNetworkRequestItem(r,o,n,s,i,t)}case"network-response":{const{body:r,headers:o,statusCode:n,statusMessage:s,srcUrl:i}=e.payload;return this.renderNetworkResponseItem(r,o,n,s,i,t)}default:return!1}}renderTextItem(e,t,r){return a.createElement("span",{key:r,className:`spaced ${function(e){switch(e){case xe.LogLevel.Debug:return"level-1";case xe.LogLevel.Info:return"level-0";case xe.LogLevel.Warn:return"level-2";case xe.LogLevel.Error:return"level-3";default:return""}}(e)}`},t)}renderExternalLinkItem(e,t,r){return a.createElement("span",{key:r,className:"spaced"},a.createElement("a",{onClick:()=>window.open(t,"_blank")},e))}renderAppSettingsItem(e,t){return a.createElement("span",{key:t,className:"spaced"},a.createElement("a",{onClick:()=>R.a.call("shell:show-app-settings")},e))}renderExceptionItem(e,t){return a.createElement("span",{key:t,className:"spaced level-3"},e&&e.message?e.message:"")}renderInspectableItem(e,t){let r="inspect";"string"==typeof e.type&&(r=e.type);let o=this.summaryText(e)||"";return a.createElement(a.Fragment,null,a.createElement("span",{key:t,className:"spaced level-0"},a.createElement("a",{onClick:()=>this.inspectAndHighlight(e)},r)),a.createElement("span",{key:`${t}-0`,className:"spaced level-0"},o))}renderNetworkRequestItem(e,t,r,o,n,s){let i;if("string"==typeof t)try{i=JSON.parse(t)}catch(e){i=t}else i=t;return i?a.createElement("span",{key:s,className:"spaced level-0"},a.createElement("a",{onClick:()=>this.inspect(i)},o)):a.createElement("span",{key:s,className:"spaced level-0"},o)}renderNetworkResponseItem(e,t,r,o,n,s){let i;if("string"==typeof e)try{i=JSON.parse(e)}catch(t){i=e}else i=e;return i?a.createElement("span",{key:s,className:"spaced level-0"},a.createElement("a",{onClick:()=>this.inspect(i)},r)):a.createElement("span",{key:s,className:"spaced level-0"},r)}summaryText(e){const t=$e.a.inspectorForObject(e,!0);return t&&t.inspector?$e.b.summaryText(t.inspector,e):void 0}}var st=r("../../../node_modules/office-ui-fabric-react/lib-commonjs/Spinner.js");const it=Object(i.mergeStyles)({height:"100%",selectors:{"& .accessory-button:disabled":{cursor:"default",color:`var(${c.ThemeVariables.neutral7})`},"& .accessory-button:active":{color:`var(${c.ThemeVariables.neutral1})`},"& .accessories":{selectors:{"& .accessory-button":{height:"30px",whiteSpace:"nowrap",display:"flex",color:`var(${c.ThemeVariables.neutral5})`,backgroundColor:"transparent",selectors:{"& .accessory-button-icon":{width:"30px"}}}}}}});var at=Object(s.connect)(function(e,t){return Object.assign({},t,{bot:e.bot.activeBot})})(class extends a.Component{constructor(e,t){super(e,t),this.onAccessoryClick=(e=>{this.detailRef&&this.detailRef.accessoryClick(e)}),this.onToggleDevToolsClick=(()=>{this.detailRef&&this.detailRef.toggleDevTools()}),this.enableAccessory=((e,t)=>{const r=this.state.buttons.find(t=>t.config.id===e);r&&r.enabled!==t&&(r.enabled=t,this.setState(this.state))}),this.setAccessoryState=((e,t)=>{const r=this.state.buttons.find(t=>t.config.id===e);if(r&&r.state!==t){const{config:e}=r;e.states[t]&&(r.state=t,this.setState(this.state))}}),this.setInspectortitle=(e=>{this.setState(Object.assign({},this.state,{title:e}))}),this.state={extension:null,inspector:null,buttons:[],inspectObj:null,title:""}}componentDidUpdate(){let e=null,t=null;const r=this.getInspector();if(r.response&&(e=r.response.inspector,t=r.response.extension),this.state.inspector!==e||this.state.inspectObj!==r.inspectObj){const o=e&&e.accessories||[],n=e&&e.name||"";this.setState({inspectObj:r.inspectObj,title:n,inspector:e,extension:t,buttons:o.map(e=>e&&e.states.default?{config:e,state:"default",enabled:!0}:null).filter(e=>!!e)||[]})}}renderAccessoryIcon(e){return"Spinner"===e.icon?a.createElement(st.Spinner,{className:"accessory-button-icon",size:st.SpinnerSize.xSmall}):!!e.icon&&a.createElement("i",{className:`accessory-button-icon ms-Icon ms-Icon--${e.icon}`,"aria-hidden":"true"})}renderAccessoryButton(e,t){const{config:r,state:o,enabled:n}=e,s=r.states[o]||{};return a.createElement("button",{className:"accessory-button",key:r.id,disabled:!n,onClick:()=>t(r.id)},this.renderAccessoryIcon(s),s.label)}renderAccessoryButtons(e){return a.createElement(ke,null,this.state.buttons.map(e=>this.renderAccessoryButton(e,this.onAccessoryClick)))}render(){return this.state.inspector?a.createElement("div",{className:it},a.createElement(Ie,{title:["inspector",this.state.title].filter(e=>e&&e.length).join(" - ")},this.renderAccessoryButtons(this.state.inspector),a.createElement(Ae,null,a.createElement(et,{ref:e=>this.detailRef=e,bot:this.props.bot,document:this.props.document,inspectObj:this.state.inspectObj,extension:this.state.extension,inspector:this.state.inspector,enableAccessory:this.enableAccessory,setAccessoryState:this.setAccessoryState,setInspectorTitle:this.setInspectortitle})))):a.createElement("div",{className:it},a.createElement(Ie,{title:"inspector"}))}getInspector(){let e=this.props.document.inspectorObjects&&this.props.document.inspectorObjects.length?this.props.document.inspectorObjects[0]:null;return{inspectObj:e,response:e?$e.a.inspectorForObject(e,!0):null}}}),ct=r("../../../node_modules/base64url/index.js"),ut=r.n(ct),lt=r("../../../node_modules/rxjs/Rx.js");const dt=Object(i.mergeStyles)({height:"100%"});class pt extends a.Component{render(){return a.createElement("div",{className:dt},a.createElement(Ie,{title:"Log"},a.createElement(Ae,null,a.createElement(ot,{document:this.props.document,key:this.props.document.pingId}))))}}const ht=Object(i.mergeStyles)({display:"flex",height:"64px",width:"400px",padding:"16px 0",justifyContent:"space-between",selectors:{"& > span":{display:"inline-block",width:"32px",lineHeight:"32px",textAlign:"center",cursor:"pointer"},"& .play-icon":{backgroundImage:"url(./external/media/ic_play.svg)",backgroundSize:"32px",BackgroundPosition:"50% 50%",backgroundRepeat:"no-repeat"}}});class ft extends a.Component{constructor(e,t){super(e,t),this.onClickStartOver=this.onClickStartOver.bind(this),this.onClickStepBack=this.onClickStepBack.bind(this),this.onClickStepForward=this.onClickStepForward.bind(this),this.onClickJumpToEnd=this.onClickJumpToEnd.bind(this),this.onClickPlay=this.onClickPlay.bind(this),this.onClickPause=this.onClickPause.bind(this),this.state={playing:!1}}onClickStartOver(){return null}onClickStepBack(){return null}onClickStepForward(){return null}onClickJumpToEnd(){return null}onClickPlay(){this.setState({playing:!0})}onClickPause(){this.setState({playing:!1})}render(){return a.createElement("div",{className:ht},a.createElement("span",{onClick:this.onClickStartOver},"|<<"),a.createElement("span",{onClick:this.onClickStepBack},"|<"),this.state.playing?a.createElement("span",{onClick:this.onClickPause},"||"):a.createElement("span",{className:"play-icon",onClick:this.onClickPlay}),a.createElement("span",{onClick:this.onClickStepForward},">|"),a.createElement("span",{onClick:this.onClickJumpToEnd},">>|"))}}var mt=function(e,t,r,o){return new(r||(r=Promise))(function(n,s){function i(e){try{c(o.next(e))}catch(e){s(e)}}function a(e){try{c(o.throw(e))}catch(e){s(e)}}function c(e){e.done?n(e.value):new r(function(t){t(e.value)}).then(i,a)}c((o=o.apply(e,t||[])).next())})};const{encode:bt}=ut.a,vt=Object(i.mergeStyles)({display:"flex",flexDirection:"column",flex:1,height:"100%",selectors:{"& .vertical":{display:"flex",flexDirection:"column",flex:1},"& .header":{flexGrow:0,flexShrink:1,flexBasis:"0px"},"& .content":{display:"flex",flexDirection:"column",flex:1,flexGrow:1,flexShrink:1,flexBasis:"0px",height:"100%"}}}),jt=Object(i.mergeStyles)({position:"absolute",top:0,bottom:0,left:0,right:0,backgroundColor:`var(${c.ThemeVariables.neutral15})`,selectors:{"& .chat-panel":{position:"absolute",top:"50%",height:"75%",maxHeight:"800px",width:"100%",transform:"translateY(-50%)"},"& > .presentation-content":{position:"relative",height:"100%",padding:"64px 0",maxWidth:"400px",margin:"0 auto"},"& > .close-presentation-icon":{position:"absolute",top:0,right:0,display:"inline-block",width:"64px",height:"64px",backgroundImage:"url(./external/media/ic_close.svg)",backgroundSize:"32px",backgroundPosition:"50% 50%",backgroundRepeat:"no-repeat",cursor:"pointer"},"& .presentation-playback-dock":{display:"none",position:"absolute",bottom:0,height:"64px",width:"400px"}}});const yt=Object(s.connect)((e,{documentId:t})=>({conversationId:e.chat.chats[t].conversationId,document:e.chat.chats[t],endpointId:e.chat.chats[t].endpointId,pingId:e.chat.chats[t].pingId,presentationModeEnabled:e.presentation.enabled}),e=>({pingDocument:t=>e(ae.h(t)),enablePresentationMode:t=>e(t?o.c():o.b()),setInspectorObjects:(t,r)=>e(ae.j(t,r)),clearLog:t=>e(ae.d(t)),newConversation:(t,r)=>e(ae.f(t,r)),updateDocument:(t,r)=>e(Object(ce.l)(t,r))}))(class extends a.Component{constructor(e){super(e),this.onVerticalSizeChange=me(e=>{this.props.document.ui=Object.assign({},this.props.document.ui,{verticalSplitter:e})},500),this.onHorizontalSizeChange=me(e=>{this.props.document.ui=Object.assign({},this.props.document.ui,{horizontalSplitter:e})},500),this.getVerticalSplitterSizes=(()=>({0:`${this.props.document.ui.verticalSplitter[0].percentage}`})),this.getHorizontalSplitterSizes=(()=>({0:`${this.props.document.ui.horizontalSplitter[0].percentage}`})),this.handlePresentationClick=(e=>{this.props.enablePresentationMode(e)}),this.handleStartOverClick=(()=>{this.props.clearLog(this.props.document.documentId),this.props.setInspectorObjects(this.props.document.documentId,[]),this.startNewConversation()}),this.handleExportClick=(()=>{this.props.document.directLine&&R.a.remoteCall("emulator:save-transcript-to-file",this.props.document.directLine.conversationId)})}shouldStartNewConversation(e){return!(e=e||this.props).document.directLine||e.document.conversationId!==e.document.directLine.conversationId}componentWillMount(){this.shouldStartNewConversation()&&this.startNewConversation()}componentWillReceiveProps(e){e.document.directLine||this.props.document.documentId===e.document.documentId||this.startNewConversation(e).catch(),this.props.document.documentId!==e.document.documentId&&this.props.pingDocument(e.document.documentId)}startNewConversation(e){return mt(this,void 0,void 0,function*(){(e=e||this.props).document.subscription&&e.document.subscription.unsubscribe();const t=new lt.BehaviorSubject({}),r=t.subscribe(t=>{t&&t.activity&&this.props.setInspectorObjects(e.document.documentId,t.activity)}),o=`${Object(ge.uniqueId)()}|${e.mode}`,n={conversationId:o,conversationMode:e.mode,endpointId:e.endpointId};if(e.document.directLine&&e.document.directLine.end(),this.initConversation(e,n,t,r),"transcript"===e.mode)try{const t=yield R.a.remoteCall("transcript:new",o);if(e.document&&e.document.deepLink&&e.document.activities)try{yield R.a.remoteCall("emulator:feed-transcript:deep-link",t.conversationId,e.document.botId,e.document.userId,e.document.activities)}catch(e){throw new Error(`Error while feeding deep-linked transcript to conversation: ${e}`)}else try{const r=yield R.a.remoteCall("emulator:feed-transcript:disk",t.conversationId,e.document.botId,e.document.userId,e.document.documentId);this.props.updateDocument(this.props.documentId,{fileName:r.fileName})}catch(e){throw new Error(`Error while feeding transcript on disk to conversation: ${e}`)}}catch(e){console.error("Error creating a new conversation for transcript mode: ",e)}})}initConversation(e,t,r,o){const n=bt(JSON.stringify(t)),s=new Me.DirectLine({secret:n,domain:`${Ge.a.emulator.url}/v3/directline`,webSocket:!1});this.props.newConversation(e.documentId,{conversationId:t.conversationId,directLine:s,selectedActivity$:r,subscription:o})}render(){return this.props.presentationModeEnabled?this.renderPresentationView():this.renderDefaultView()}renderPresentationView(){const e="transcript"===this.props.mode?a.createElement("div",{className:"presentation-playback-dock"},a.createElement(ft,null)):null;return a.createElement("div",{className:jt},a.createElement("div",{className:"presentation-content"},a.createElement(Ke,{mode:this.props.mode,document:this.props.document,onStartConversation:this.handleStartOverClick}),e),a.createElement("span",{className:"close-presentation-icon",onClick:()=>this.handlePresentationClick(!1)}))}renderDefaultView(){return a.createElement("div",{className:vt,key:this.props.pingId},"livechat"===this.props.mode&&a.createElement("div",{className:"header"},a.createElement(Ne,null,a.createElement(Pe,{visible:!0,title:"Start Over",onClick:this.handleStartOverClick}),a.createElement(Pe,{visible:!0,title:"Save Transcript As...",onClick:this.handleExportClick}))),a.createElement("div",{className:"content vertical"},a.createElement(c.Splitter,{orientation:"vertical",primaryPaneIndex:0,minSizes:{0:80,1:80},initialSizes:this.getVerticalSplitterSizes,onSizeChange:this.onVerticalSizeChange,key:this.props.pingId},a.createElement("div",{className:"content"},a.createElement(Ke,{mode:this.props.mode,document:this.props.document,onStartConversation:this.handleStartOverClick})),a.createElement("div",{className:"content"},a.createElement(c.Splitter,{orientation:"horizontal",primaryPaneIndex:0,minSizes:{0:80,1:80},initialSizes:this.getHorizontalSplitterSizes,onSizeChange:this.onHorizontalSizeChange,key:this.props.pingId},a.createElement(at,{document:this.props.document,key:this.props.pingId}),a.createElement(pt,{document:this.props.document,key:this.props.pingId}))))))}});var xt=r("./src/ui/editor/welcomePage.tsx");const gt=Object(i.mergeStyles)({display:"flex",flex:1,flexDirection:"column",height:"100%",boxSizing:"border-box"});const _t=Object(s.connect)(e=>({presentationModeEnabled:e.presentation.enabled}))(class extends a.Component{constructor(e){super(e),this.childRefs=[],this.handleTabClick=(e=>{this.props.onChange&&this.props.onChange(e)}),this.setRef=(e=>{this.childRefs.push(e)})}render(){return a.createElement("div",{className:gt},!this.props.presentationModeEnabled&&a.createElement(wt,{owningEditor:this.props.owningEditor,childRefs:this.childRefs,activeIndex:this.props.value},a.Children.map(this.props.children,(e,t)=>a.createElement(Et,{onClick:this.handleTabClick.bind(this,t),setRef:this.setRef},Object(c.filterChildren)(e.props.children,e=>Object(c.hmrSafeNameComparison)(e.type,Ft))))),!!this.props.children.length&&a.Children.map(this.props.children,(e,t)=>Object(c.filterChildren)(e.props.children,e=>Object(c.hmrSafeNameComparison)(e.type,Lt)).map(e=>e&&a.cloneElement(e,{hidden:t!==this.props.value}))))}}),St=Object(i.mergeStyles)({display:"flex",backgroundColor:`var(${c.ThemeVariables.neutral15})`,minHeight:"32px",selectors:{"&.dragged-over-tab-bar":{backgroundColor:`var(${c.ThemeVariables.neutral14})`},"& > ul":{display:"flex",backgroundColor:`var(${c.ThemeVariables.neutral15})`,listStyleType:"none",margin:0,padding:0,overflowX:"auto",selectors:{"::-webkit-scrollbar":{height:"2px"},"::-webkit-scrollbar-thumb":{background:`var(${c.ThemeVariables.neutral10})`},"::-webkit-scrollbar-track":{background:"transparent"}}},"& > div.tab-bar-widgets":{display:"flex",alignItems:"center",width:"auto",marginLeft:"auto",flexShrink:0,selectors:{"& > span":{display:"inline-block",cursor:"pointer",height:"16px",marginRight:"12px",fontSize:"12px",selectors:{":first-of-type":{marginLeft:"12px"}}},"& > .widget":{backgroundSize:"16px",height:"32px",width:"22px"},"& > .split-widget":{background:'url("./external/media/ic_split.svg") no-repeat 50% 50%'},"& > .presentation-widget":{background:'url("./external/media/ic_presentation.svg") no-repeat 50% 50%'}}}}});const wt=Object(s.connect)((e,t)=>({activeDocumentId:e.editor.editors[t.owningEditor].activeDocumentId,activeEditor:e.editor.activeEditor,editors:e.editor.editors,documents:e.editor.editors[t.owningEditor].documents}),e=>({splitTab:(t,r,o,n)=>e(ce.i(t,r,o,n)),appendTab:(t,r,o)=>e(ce.b(t,r,o)),enablePresentationMode:()=>e(o.c())}))(class extends a.Component{constructor(e){super(e),this.onPresentationModeClick=(()=>this.props.enablePresentationMode()),this.onSplitClick=(()=>{const e=this.props.editors[this.props.owningEditor],t=e.activeDocumentId,r=e.documents[t],o=Object(ie.a)(this.props.owningEditor);this.props.splitTab(r.contentType,r.documentId,this.props.owningEditor,o)}),this.onDragEnter=(e=>{e.preventDefault()}),this.onDragOver=(e=>{this.setState({draggedOver:!0}),e.preventDefault(),e.stopPropagation()}),this.onDragLeave=(e=>{this.setState({draggedOver:!1})}),this.onDrop=(e=>{e.preventDefault(),e.stopPropagation(),this.setState({draggedOver:!1});try{const t=JSON.parse(e.dataTransfer.getData("application/json")),r=t.tabId;this.props.appendTab(t.editorKey,this.props.owningEditor,r)}catch(e){}}),this.saveScrollable=(e=>{this._scrollable=e}),this.state={draggedOver:!1}}componentDidUpdate(e){let t=this._scrollable;if(t&&this.props.children.length>e.children.length&&t.scrollWidth>t.clientWidth){let e=0;for(let t=0;t<=this.props.activeIndex;t++)e+=this.props.childRefs[t]?this.props.childRefs[t].offsetWidth:0;e>=t.clientWidth&&(t.scrollLeft=e)}}render(){const e=Object.keys(this.props.documents).length>1,t=this.props.documents[this.props.activeDocumentId],r=t&&(t.contentType===n.CONTENT_TYPE_TRANSCRIPT||t.contentType===n.CONTENT_TYPE_LIVE_CHAT),o=this.state.draggedOver?" dragged-over-tab-bar":"";return a.createElement("div",{className:`${St} ${o}`,onDragEnter:this.onDragEnter,onDragOver:this.onDragOver,onDragLeave:this.onDragLeave,onDrop:this.onDrop},a.createElement("ul",{ref:this.saveScrollable},a.Children.map(this.props.children,e=>a.createElement("li",null,e))),a.createElement("div",{className:"tab-bar-widgets"},r?a.createElement("span",{className:"widget presentation-widget",title:"Presentation Mode",onClick:()=>this.onPresentationModeClick()}):null,e?a.createElement("span",{className:"widget split-widget",title:"Split Editor",onClick:this.onSplitClick}):null))}}),Ot=Object(i.mergeStyles)({height:"100%",border:"none",padding:0,selectors:{":active":{border:0,outline:0},":focus":{border:0,outline:0}}}),Et=e=>a.createElement("button",{className:Ot,ref:e.setRef,onClick:e.onClick,type:"button"},e.children),Ct={position:"absolute",transition:"background-color 0.1s ease-in-out",backgroundColor:"transparent",pointerEvents:"none",selectors:{"&.dragged-over-overlay":{backgroundColor:`var(${c.ThemeVariables.neutral9})`},"&.enabled-for-drop":{pointerEvents:"auto"}}},Tt=Object(i.mergeStyles)({top:0,left:0,right:0,bottom:0},Ct);const It=Object(s.connect)(e=>({draggingTab:e.editor.draggingTab}),e=>({appendTab:(t,r,o)=>e(ce.b(t,r,o))}))(class extends a.Component{constructor(e){super(e),this.onDragEnter=this.onDragEnter.bind(this),this.onDragLeave=this.onDragLeave.bind(this),this.onDragOver=this.onDragOver.bind(this),this.onDrop=this.onDrop.bind(this),this.state={draggedOver:!1,owningEditor:Object(ie.b)(e.documentId)}}componentWillReceiveProps(e){const{documentId:t}=e;this.props.documentId&&this.props.documentId!==t&&this.setState({owningEditor:Object(ie.b)(t)})}onDragEnter(e){e.preventDefault(),e.stopPropagation()}onDragLeave(){this.setState({draggedOver:!1})}onDragOver(e){e.preventDefault(),e.stopPropagation(),this.setState({draggedOver:!0})}onDrop(e){const t=JSON.parse(e.dataTransfer.getData("application/json"));t.editorKey!==this.state.owningEditor&&this.props.appendTab(t.editorKey,this.state.owningEditor,t.tabId),this.setState({draggedOver:!1}),e.preventDefault(),e.stopPropagation()}render(){let e=this.state.draggedOver?" dragged-over-overlay":"";return e+=this.props.draggingTab?" enabled-for-drop":"",a.createElement("div",{className:`${Tt} ${e}`,onDragEnterCapture:this.onDragEnter,onDragLeave:this.onDragLeave,onDragOverCapture:this.onDragOver,onDropCapture:this.onDrop})}}),kt=Object(i.mergeStyles)({position:"relative",height:"100%",width:"100%",overflow:"auto"});const At=Object(s.connect)(e=>({activeEditor:e.editor.activeEditor,primaryEditor:e.editor.editors[n.EDITOR_KEY_PRIMARY],secondaryEditor:e.editor.editors[n.EDITOR_KEY_SECONDARY]}),e=>({setActiveEditor:t=>e(ce.f(t))}))(class extends a.Component{constructor(e){super(e),this.onClick=(()=>{this.state.owningEditor!==this.props.activeEditor&&this.props.setActiveEditor(this.state.owningEditor)}),this.state={owningEditor:Object(ie.b)(e.documentId)}}render(){const e=Object(ie.e)(this.props.primaryEditor)&&!Object(ie.e)(this.props.secondaryEditor)&&this.props.primaryEditor.documents&&Object.keys(this.props.primaryEditor.documents).length>1;return a.createElement("div",{className:kt,hidden:this.props.hidden,onClickCapture:this.onClick},this.props.children,a.createElement(It,{documentId:this.props.documentId}),e?a.createElement(a.Fragment,null,a.createElement(Nt,null),a.createElement(Dt,null)):null,a.createElement(c.InsetShadow,{top:!0}))}componentWillReceiveProps(e){const{documentId:t}=e;this.props.documentId&&this.props.documentId!==t&&this.setState({owningEditor:Object(ie.b)(t)})}}),Rt=Object(i.mergeStyles)({top:0,left:0,right:"80%",bottom:0},Ct);const Nt=Object(s.connect)(e=>({draggingTab:e.editor.draggingTab}))(class extends a.Component{constructor(){super(...arguments),this.state={draggedOver:!1},this.onDragEnter=(e=>{e.preventDefault(),e.stopPropagation()}),this.onDragLeave=(e=>{this.setState({draggedOver:!1})}),this.onDragOver=(e=>{e.preventDefault(),e.stopPropagation(),this.setState({draggedOver:!0})}),this.onDrop=(e=>{this.setState({draggedOver:!1}),e.preventDefault(),e.stopPropagation()})}render(){let e=this.state.draggedOver?" dragged-over-overlay":"";return e+=this.props.draggingTab?" enabled-for-drop":"",a.createElement("div",{className:`${Rt} ${e}`,onDragEnterCapture:this.onDragEnter,onDragLeave:this.onDragLeave,onDragOverCapture:this.onDragOver,onDropCapture:this.onDrop})}}),Pt=Object(i.mergeStyles)({top:0,left:"80%",right:0,bottom:0},Ct);const Dt=Object(s.connect)(e=>({draggingTab:e.editor.draggingTab,primaryEditor:e.editor.editors[n.EDITOR_KEY_PRIMARY]}),e=>({splitTab:(t,r)=>e(ce.i(t,r,n.EDITOR_KEY_PRIMARY,n.EDITOR_KEY_SECONDARY))}))(class extends a.Component{constructor(e){super(e),this.onDragEnter=(e=>{e.preventDefault(),e.stopPropagation()}),this.onDragLeave=(()=>{this.setState({draggedOver:!1})}),this.onDragOver=(e=>{e.preventDefault(),e.stopPropagation(),this.setState({draggedOver:!0})}),this.onDrop=(e=>{const t=JSON.parse(e.dataTransfer.getData("application/json")).tabId,r=this.props.primaryEditor.documents[t];this.props.splitTab(r.contentType,t),this.setState({draggedOver:!1}),e.preventDefault(),e.stopPropagation()}),this.state={draggedOver:!1}}render(){let e=this.state.draggedOver?" dragged-over-overlay":"";return e+=this.props.draggingTab?" enabled-for-drop":"",a.createElement("div",{className:`${Pt} ${e}`,onDragEnterCapture:this.onDragEnter,onDragLeave:this.onDragLeave,onDragOverCapture:this.onDragOver,onDropCapture:this.onDrop})}});class Mt extends a.Component{constructor(e){super(e)}render(){return!1}}const Ft=e=>e.children,Lt=e=>a.createElement(At,{documentId:e.documentId,hidden:e.hidden},e.children),Bt=e=>{if(e&&e.document)switch(e.document.contentType){case n.CONTENT_TYPE_LIVE_CHAT:return a.createElement(de,{mode:"livechat",documentId:e.document.documentId,dirty:e.document.dirty});case n.CONTENT_TYPE_TRANSCRIPT:return a.createElement(de,{mode:"transcript",documentId:e.document.documentId,dirty:e.document.dirty});case n.CONTENT_TYPE_BOT_SETTINGS:return a.createElement(pe,{documentId:e.document.documentId,title:"Bot Settings",dirty:e.document.dirty});case n.CONTENT_TYPE_WELCOME_PAGE:return a.createElement(pe,{documentId:e.document.documentId,title:"Welcome",dirty:e.document.dirty});case n.CONTENT_TYPE_APP_SETTINGS:return a.createElement(pe,{documentId:e.document.documentId,title:"Emulator Settings",dirty:e.document.dirty})}return null};const Vt=Object(s.connect)((e,t)=>({activeDocumentId:e.editor.editors[t.owningEditor].activeDocumentId,documents:e.editor.editors[t.owningEditor].documents,tabOrder:e.editor.editors[t.owningEditor].tabOrder,activeEditor:e.editor.activeEditor}),e=>({setActiveTab:t=>e(ce.g(t))}))(class extends a.Component{constructor(e){super(e),this.handleTabChange=(e=>{this.props.setActiveTab(this.props.tabOrder[e])})}render(){const e=this.props.tabOrder.findIndex(e=>e===this.props.activeDocumentId);return a.createElement(_t,{onChange:this.handleTabChange,value:e||0,owningEditor:this.props.owningEditor},this.props.tabOrder.map(e=>a.createElement(Mt,{key:e},a.createElement(Ft,null,a.createElement(Bt,{document:this.props.documents[e]})),a.createElement(Lt,{documentId:e},a.createElement(Ce,{document:this.props.documents[e]})))))}});var zt=r("../../../node_modules/classnames/index.js"),Ht=r.n(zt),Wt=r("./src/data/action/navBarActions.ts"),Ut=r("./src/data/action/explorerActions.ts");const qt=Object(i.mergeStyles)({position:"relative",height:"50px",width:"50px",selectors:{"&.justify-end":{marginTop:"auto"},"& > a.nav-link":{display:"inline-block",width:"50px",height:"50px",boxSizing:"border-box",backgroundSize:"25px",backgroundPosition:"50% 50%",backgroundRepeat:"no-repeat",opacity:.6,selectors:{":hover, & .selected":{opacity:1},":focus":{outline:0,selectors:{"& + span":{opacity:1}}},"&.disabled":{opacity:.6}}},"& > span":{position:"absolute",display:"inline-block",width:"2px",height:"50px",top:0,left:0,opacity:0,backgroundColor:`var(${c.ThemeVariables.focusedSelectedListItemBg})`}}});class Kt extends a.Component{constructor(e){super(e)}render(){const e=this.props.justifyEnd?"justify-end":"";return a.createElement("div",{className:`${e} ${qt}`},a.createElement("a",{className:this.props.className,onClick:this.props.onClick,href:"javascript:void(0);",title:this.props.title}),a.createElement("span",null))}}const $t=Object(i.mergeStyles)({backgroundColor:`var(${c.ThemeVariables.neutral13})`,display:"flex",flexDirection:"column",overflow:"hidden",position:"relative",width:"50px",selectors:{"& .bot-explorer":{backgroundImage:"url(./external/media/ic_bot_explorer.svg)"},"& .services":{backgroundImage:"url(./external/media/ic_services.svg)"},"& .bot-settings":{backgroundImage:"url(./external/media/ic_bot_settings.svg)"},"& .settings":{backgroundImage:"url(./external/media/ic_settings.svg)"}}});const Yt=Object(s.connect)(e=>({activeBot:e.bot.activeBot}),(e,t)=>({handleSettingsClick:()=>e(ce.e(n.CONTENT_TYPE_APP_SETTINGS,n.DOCUMENT_ID_APP_SETTINGS,!0,null)),handleClick:(r,o)=>{t.selection===o?e(Ut.b(!t.showingExplorer)):e(()=>{e(Wt.b(o)),e(Ut.b(!0))})}}))(class extends a.Component{constructor(e){super(e),this.handleBotSettingsClick=(()=>{this.props.activeBot&&R.a.call("bot-settings:open",this.props.activeBot)})}render(){const{selection:e,handleClick:t,handleSettingsClick:r}=this.props;return a.createElement("nav",{className:$t},a.createElement(Kt,{className:Ht()("nav-link bot-explorer",{selected:e===n.NAVBAR_BOT_EXPLORER}),onClick:e=>t(e,n.NAVBAR_BOT_EXPLORER),title:"Bot Explorer"}),a.createElement(Kt,{className:Ht()("nav-link services",{selected:e===n.NAVBAR_SERVICES}),onClick:e=>t(e,n.NAVBAR_SERVICES),title:"Services"}),a.createElement(Kt,{className:Ht()("nav-link bot-settings",{disabled:!this.props.activeBot}),onClick:this.handleBotSettingsClick,title:"Bot Settings"}),a.createElement(Kt,{className:"nav-link settings",onClick:r,title:"Settings",justifyEnd:!0}),a.createElement(c.InsetShadow,{right:!0}))}});var Gt=r("./src/ui/dialogs/index.ts");const Qt=Object(i.mergeStyles)({backgroundColor:`var(${c.ThemeVariables.infoBg})`,color:`var(${c.ThemeVariables.neutral1})`,lineHeight:"22px",minHeight:"22px",width:"100%",alignSelf:"flex-end",flex:1}),Jt=()=>a.createElement("div",{className:Qt}),Xt=Object(i.mergeStyles)({position:"absolute",maxWidth:"400px",display:"flex",flexFlow:"column nowrap",bottom:0,left:0,opacity:"0.9",pointerEvents:"none",selectors:{"& pre":{maxHeight:"500px",overflowY:"auto",pointerEvents:"auto"},"& select":{width:"120px"},"& select, & option":{pointerEvents:"auto"},"& .visualizer-button":{width:"120px",pointerEvents:"auto"}}});const Zt=Object(s.connect)(e=>({rootState:e}))(class extends a.Component{constructor(e){super(e),this.toggleShowing=this.toggleShowing.bind(this),this.onSelectSlice=this.onSelectSlice.bind(this),this.state={showing:!0,selectedSlice:"editor"}}toggleShowing(){this.setState({showing:!this.state.showing})}onSelectSlice(e){this.setState({selectedSlice:e.target.value})}render(){const e=JSON.stringify(this.props.rootState[this.state.selectedSlice],null,2);return this.props.enabled?a.createElement("div",{className:Xt},this.state.showing?a.createElement(a.Fragment,null,a.createElement("select",{value:this.state.selectedSlice,onChange:this.onSelectSlice},a.createElement("option",{value:"assetExplorer"},"Asset Explorer"),a.createElement("option",{value:"bot"},"Bot"),a.createElement("option",{value:"chat"},"Chat"),a.createElement("option",{value:"dialog"},"Dialog"),a.createElement("option",{value:"editor"},"Editor"),a.createElement("option",{value:"explorer"},"Explorer"),a.createElement("option",{value:"navBar"},"NavBar"),a.createElement("option",{value:"presentation"},"Presentation"),a.createElement("option",{value:"server"},"Server")),a.createElement("pre",null,e),a.createElement(c.PrimaryButton,{text:"Hide Visualizer",className:"visualizer-button",onClick:this.toggleShowing})):a.createElement(c.PrimaryButton,{text:"Show visualizer",className:"visualizer-button",onClick:this.toggleShowing})):null}}),er={backgroundColor:`var(${c.ThemeVariables.neutral15})`,cursor:"default",fontFamily:c.Fonts.FONT_FAMILY_DEFAULT,fontSize:"13px",height:"100%",margin:0,minHeight:"100%",overflow:"hidden",userSelect:"none"};Object(i.mergeStyles)({selectors:{":global(html)":er,":global(body)":er,":global(#root)":er}}),Object(i.mergeStyles)({selectors:{":global(div)":{boxSizing:"border-box"},":global(::-webkit-scrollbar)":{width:"10px",height:"10px"},":global(::-webkit-scrollbar-track)":{background:"transparent"},":global(::-webkit-scrollbar-thumb)":{background:"transparent"}}});const tr=Object(i.mergeStyles)({backgroundColor:`var(${c.ThemeVariables.neutral15})`,color:`var(${c.ThemeVariables.neutral5})`,display:"flex",width:"100%",height:"100%",minHeight:"100%",flexDirection:"column"}),rr=Object(i.mergeStyles)({display:"flex",flexDirection:"row",width:"100%",height:"100%",selectors:{"& > .workbench":{display:"flex",flex:1,flexDirection:"column"},"& .mdi-wrapper":{height:"100%",width:"100%"},"& .secondary-mdi":{borderLeft:`1px solid var(${c.ThemeVariables.neutral9})`}}});t.a=Object(s.connect)(e=>({presentationModeEnabled:e.presentation.enabled,primaryEditor:e.editor.editors[n.EDITOR_KEY_PRIMARY],secondaryEditor:e.editor.editors[n.EDITOR_KEY_SECONDARY],showingExplorer:e.explorer.showing,navBarSelection:e.navBar.selection}),e=>({exitPresentationMode:t=>{"Escape"===t.key&&e(o.b())}}))(class extends a.Component{constructor(e){super(e),this.handleTabChange=this.handleTabChange.bind(this),this.state={tabValue:0}}componentWillReceiveProps(e){e.presentationModeEnabled?window.addEventListener("keydown",this.props.exitPresentationMode):window.removeEventListener("keydown",this.props.exitPresentationMode)}handleTabChange(e){this.setState(()=>({tabValue:e}))}render(){const e=[this.props.primaryEditor&&a.createElement("div",{className:"mdi-wrapper",key:"primaryEditor"},a.createElement(Vt,{owningEditor:n.EDITOR_KEY_PRIMARY})),this.props.secondaryEditor&&Object.keys(this.props.secondaryEditor.documents).length?a.createElement("div",{className:"mdi-wrapper secondary-mdi",key:"secondaryEditor"},a.createElement(Vt,{owningEditor:n.EDITOR_KEY_SECONDARY})):null].filter(e=>!!e),t=[];return this.props.showingExplorer&&!this.props.presentationModeEnabled&&t.push(a.createElement(se,{key:"explorer-bar"})),t.push(a.createElement(c.Splitter,{orientation:"vertical",key:"tab-group-splitter",minSizes:{0:160,1:160}},e)),a.createElement("div",{className:tr},a.createElement("div",{className:rr},!this.props.presentationModeEnabled&&a.createElement(Yt,{selection:this.props.navBarSelection,showingExplorer:this.props.showingExplorer}),a.createElement("div",{className:"workbench"},a.createElement(c.Splitter,{orientation:"vertical",primaryPaneIndex:0,minSizes:{0:40,1:40},initialSizes:{0:210}},t)),a.createElement(Gt.e,{disabled:!1})),!this.props.presentationModeEnabled&&a.createElement(Jt,null),a.createElement(Gt.b,null),a.createElement(Zt,{enabled:!1}))}})},"dll-reference shared_8b81f721bafa34fac60d":function(e,t){e.exports=shared_8b81f721bafa34fac60d},"dll-reference vendors_6dc1bf031c792a36dced":function(e,t){e.exports=vendors_6dc1bf031c792a36dced},url:function(e,t){e.exports=require("url")}});
//# sourceMappingURL=index.js.map